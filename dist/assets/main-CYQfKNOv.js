function Sp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Mu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pu={exports:{}},xi={},Lu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),kp=Symbol.for("react.portal"),Tp=Symbol.for("react.fragment"),Np=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Pp=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),Ja=Symbol.iterator;function zp(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var zu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iu=Object.assign,_u={};function nr(e,t,n){this.props=e,this.context=t,this.refs=_u,this.updater=n||zu}nr.prototype.isReactComponent={};nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Au(){}Au.prototype=nr.prototype;function El(e,t,n){this.props=e,this.context=t,this.refs=_u,this.updater=n||zu}var bl=El.prototype=new Au;bl.constructor=El;Iu(bl,nr.prototype);bl.isPureReactComponent=!0;var ec=Array.isArray,Du=Object.prototype.hasOwnProperty,Ml={current:null},Ru={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Du.call(t,r)&&!Ru.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ns,type:e,key:i,ref:o,props:s,_owner:Ml.current}}function Ip(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function _p(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tc=/\/+/g;function Yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_p(""+e.key):t.toString(36)}function _s(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ns:case kp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Yi(o,0):r,ec(s)?(n="",e!=null&&(n=e.replace(tc,"$&/")+"/"),_s(s,t,n,"",function(u){return u})):s!=null&&(Pl(s)&&(s=Ip(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ec(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Yi(i,l);o+=_s(i,t,n,c,s)}else if(c=zp(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Yi(i,l++),o+=_s(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function hs(e,t,n){if(e==null)return e;var r=[],s=0;return _s(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ap(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},As={transition:null},Dp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:As,ReactCurrentOwner:Ml};function Fu(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:hs,forEach:function(e,t,n){hs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hs(e,function(){t++}),t},toArray:function(e){return hs(e,function(t){return t})||[]},only:function(e){if(!Pl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=nr;B.Fragment=Tp;B.Profiler=Cp;B.PureComponent=El;B.StrictMode=Np;B.Suspense=Mp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dp;B.act=Fu;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Iu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ml.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Du.call(t,c)&&!Ru.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ns,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:Ep,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jp,_context:e},e.Consumer=e};B.createElement=Ou;B.createFactory=function(e){var t=Ou.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:bp,render:e}};B.isValidElement=Pl;B.lazy=function(e){return{$$typeof:Lp,_payload:{_status:-1,_result:e},_init:Ap}};B.memo=function(e,t){return{$$typeof:Pp,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=As.transition;As.transition={};try{e()}finally{As.transition=t}};B.unstable_act=Fu;B.useCallback=function(e,t){return Pe.current.useCallback(e,t)};B.useContext=function(e){return Pe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Pe.current.useEffect(e,t)};B.useId=function(){return Pe.current.useId()};B.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Pe.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};B.useRef=function(e){return Pe.current.useRef(e)};B.useState=function(e){return Pe.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Pe.current.useTransition()};B.version="18.3.1";Lu.exports=B;var y=Lu.exports;const ue=Mu(y),Rp=Sp({__proto__:null,default:ue},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=y,Fp=Symbol.for("react.element"),$p=Symbol.for("react.fragment"),Wp=Object.prototype.hasOwnProperty,Up=Op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hp={key:!0,ref:!0,__self:!0,__source:!0};function $u(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Wp.call(t,r)&&!Hp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Fp,type:e,key:i,ref:o,props:s,_owner:Up.current}}xi.Fragment=$p;xi.jsx=$u;xi.jsxs=$u;Pu.exports=xi;var a=Pu.exports,Eo={},Wu={exports:{}},Xe={},Uu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,A){var O=M.length;M.push(A);e:for(;0<O;){var X=O-1>>>1,V=M[X];if(0<s(V,A))M[X]=A,M[O]=V,O=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var A=M[0],O=M.pop();if(O!==A){M[0]=O;e:for(var X=0,V=M.length,J=V>>>1;X<J;){var K=2*(X+1)-1,ct=M[K],Fe=K+1,yt=M[Fe];if(0>s(ct,O))Fe<V&&0>s(yt,ct)?(M[X]=yt,M[Fe]=O,X=Fe):(M[X]=ct,M[K]=O,X=K);else if(Fe<V&&0>s(yt,O))M[X]=yt,M[Fe]=O,X=Fe;else break e}}return A}function s(M,A){var O=M.sortIndex-A.sortIndex;return O!==0?O:M.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,S=!1,v=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(M){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=M)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function x(M){if(w=!1,p(M),!v)if(n(c)!==null)v=!0,pe(T);else{var A=n(u);A!==null&&xe(x,A.startTime-M)}}function T(M,A){v=!1,w&&(w=!1,g(E),E=-1),S=!0;var O=m;try{for(p(A),h=n(c);h!==null&&(!(h.expirationTime>A)||M&&!Q());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var V=X(h.expirationTime<=A);A=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),p(A)}else r(c);h=n(c)}if(h!==null)var J=!0;else{var K=n(u);K!==null&&xe(x,K.startTime-A),J=!1}return J}finally{h=null,m=O,S=!1}}var C=!1,j=null,E=-1,R=5,P=-1;function Q(){return!(e.unstable_now()-P<R)}function U(){if(j!==null){var M=e.unstable_now();P=M;var A=!0;try{A=j(!0,M)}finally{A?he():(C=!1,j=null)}}else C=!1}var he;if(typeof f=="function")he=function(){f(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ae=F.port2;F.port1.onmessage=U,he=function(){ae.postMessage(null)}}else he=function(){N(U,0)};function pe(M){j=M,C||(C=!0,he())}function xe(M,A){E=N(function(){M(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||S||(v=!0,pe(T))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var O=m;m=A;try{return M()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,A){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=m;m=M;try{return A()}finally{m=O}},e.unstable_scheduleCallback=function(M,A,O){var X=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?X+O:X):O=X,M){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,M={id:d++,callback:A,priorityLevel:M,startTime:O,expirationTime:V,sortIndex:-1},O>X?(M.sortIndex=O,t(u,M),n(c)===null&&M===n(u)&&(w?(g(E),E=-1):w=!0,xe(x,O-X))):(M.sortIndex=V,t(c,M),v||S||(v=!0,pe(T))),M},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(M){var A=m;return function(){var O=m;m=A;try{return M.apply(this,arguments)}finally{m=O}}}})(Hu);Uu.exports=Hu;var Bp=Uu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp=y,Ye=Bp;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,Or={};function kn(e,t){Qn(e,t),Qn(e+"Capture",t)}function Qn(e,t){for(Or[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=Object.prototype.hasOwnProperty,Xp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nc={},rc={};function Vp(e){return bo.call(rc,e)?!0:bo.call(nc,e)?!1:Xp.test(e)?rc[e]=!0:(nc[e]=!0,!1)}function Gp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qp(e,t,n,r){if(t===null||typeof t>"u"||Gp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ll,zl);ke[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ll,zl);ke[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ll,zl);ke[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function Il(e,t,n,r){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qp(t,n,s,r)&&(n=null),r||s===null?Vp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var It=Yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fs=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),_l=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),Yu=Symbol.for("react.provider"),Xu=Symbol.for("react.context"),Al=Symbol.for("react.forward_ref"),Po=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Dl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Vu=Symbol.for("react.offscreen"),sc=Symbol.iterator;function hr(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Xi;function Nr(e){if(Xi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xi=t&&t[1]||""}return`
`+Xi+e}var Vi=!1;function Gi(e,t){if(!e||Vi)return"";Vi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Vi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nr(e):""}function Kp(e){switch(e.tag){case 5:return Nr(e.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 2:case 15:return e=Gi(e.type,!1),e;case 11:return e=Gi(e.type.render,!1),e;case 1:return e=Gi(e.type,!0),e;default:return""}}function zo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case Ln:return"Portal";case Mo:return"Profiler";case _l:return"StrictMode";case Po:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xu:return(e.displayName||"Context")+".Consumer";case Yu:return(e._context.displayName||"Context")+".Provider";case Al:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dl:return t=e.displayName||null,t!==null?t:zo(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return zo(e(t))}catch{}}return null}function Zp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zo(t);case 8:return t===_l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qp(e){var t=Gu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=qp(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Io(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ic(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ku(e,t){t=t.checked,t!=null&&Il(e,"checked",t,!1)}function _o(e,t){Ku(e,t);var n=Zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ao(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ao(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ao(e,t,n){(t!=="number"||Gs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cr=Array.isArray;function Hn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Do(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(Cr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function Zu(e,t){var n=Zt(t.value),r=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ac(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ro(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,Ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jp=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(e){Jp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),br[t]=br[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||br.hasOwnProperty(e)&&br[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ed(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var em=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(e,t){if(t){if(em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function Fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=null;function Rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wo=null,Bn=null,Yn=null;function cc(e){if(e=is(e)){if(typeof Wo!="function")throw Error(b(280));var t=e.stateNode;t&&(t=Ni(t),Wo(e.stateNode,e.type,t))}}function nd(e){Bn?Yn?Yn.push(e):Yn=[e]:Bn=e}function rd(){if(Bn){var e=Bn,t=Yn;if(Yn=Bn=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function sd(e,t){return e(t)}function id(){}var Qi=!1;function od(e,t,n){if(Qi)return e(t,n);Qi=!0;try{return sd(e,t,n)}finally{Qi=!1,(Bn!==null||Yn!==null)&&(id(),rd())}}function $r(e,t){var n=e.stateNode;if(n===null)return null;var r=Ni(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var Uo=!1;if(Mt)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Uo=!1}function tm(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Mr=!1,Qs=null,Ks=!1,Ho=null,nm={onError:function(e){Mr=!0,Qs=e}};function rm(e,t,n,r,s,i,o,l,c){Mr=!1,Qs=null,tm.apply(nm,arguments)}function sm(e,t,n,r,s,i,o,l,c){if(rm.apply(this,arguments),Mr){if(Mr){var u=Qs;Mr=!1,Qs=null}else throw Error(b(198));Ks||(Ks=!0,Ho=u)}}function Tn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uc(e){if(Tn(e)!==e)throw Error(b(188))}function im(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return uc(s),e;if(i===r)return uc(s),t;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function ad(e){return e=im(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var ud=Ye.unstable_scheduleCallback,dc=Ye.unstable_cancelCallback,om=Ye.unstable_shouldYield,lm=Ye.unstable_requestPaint,de=Ye.unstable_now,am=Ye.unstable_getCurrentPriorityLevel,Ol=Ye.unstable_ImmediatePriority,dd=Ye.unstable_UserBlockingPriority,Zs=Ye.unstable_NormalPriority,cm=Ye.unstable_LowPriority,hd=Ye.unstable_IdlePriority,wi=null,pt=null;function um(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(wi,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:fm,dm=Math.log,hm=Math.LN2;function fm(e){return e>>>=0,e===0?32:31-(dm(e)/hm|0)|0}var gs=64,ys=4194304;function jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=jr(l):(i&=o,i!==0&&(r=jr(i)))}else o=n&~s,o!==0?r=jr(o):i!==0&&(r=jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ot(t),s=1<<n,r|=e[n],t&=~s;return r}function pm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=pm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=gs;return gs<<=1,!(gs&4194240)&&(gs=64),e}function Ki(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=n}function gm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Fl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var q=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,$l,gd,yd,vd,Yo=!1,vs=[],Ht=null,Bt=null,Yt=null,Wr=new Map,Ur=new Map,Ot=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Wr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function pr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=is(t),t!==null&&$l(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vm(e,t,n,r,s){switch(t){case"focusin":return Ht=pr(Ht,e,t,n,r,s),!0;case"dragenter":return Bt=pr(Bt,e,t,n,r,s),!0;case"mouseover":return Yt=pr(Yt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wr.set(i,pr(Wr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,pr(Ur.get(i)||null,e,t,n,r,s)),!0}return!1}function xd(e){var t=cn(e.target);if(t!==null){var n=Tn(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,vd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$o=r,n.target.dispatchEvent(r),$o=null}else return t=is(n),t!==null&&$l(t),e.blockedOn=n,!1;t.shift()}return!0}function fc(e,t,n){Ds(e)&&n.delete(t)}function xm(){Yo=!1,Ht!==null&&Ds(Ht)&&(Ht=null),Bt!==null&&Ds(Bt)&&(Bt=null),Yt!==null&&Ds(Yt)&&(Yt=null),Wr.forEach(fc),Ur.forEach(fc)}function mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yo||(Yo=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,xm)))}function Hr(e){function t(s){return mr(s,e)}if(0<vs.length){mr(vs[0],e);for(var n=1;n<vs.length;n++){var r=vs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ht!==null&&mr(Ht,e),Bt!==null&&mr(Bt,e),Yt!==null&&mr(Yt,e),Wr.forEach(t),Ur.forEach(t),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)xd(n),n.blockedOn===null&&Ot.shift()}var Xn=It.ReactCurrentBatchConfig,Js=!0;function wm(e,t,n,r){var s=q,i=Xn.transition;Xn.transition=null;try{q=1,Wl(e,t,n,r)}finally{q=s,Xn.transition=i}}function Sm(e,t,n,r){var s=q,i=Xn.transition;Xn.transition=null;try{q=4,Wl(e,t,n,r)}finally{q=s,Xn.transition=i}}function Wl(e,t,n,r){if(Js){var s=Xo(e,t,n,r);if(s===null)oo(e,t,r,ei,n),hc(e,r);else if(vm(s,e,t,n,r))r.stopPropagation();else if(hc(e,r),t&4&&-1<ym.indexOf(e)){for(;s!==null;){var i=is(s);if(i!==null&&md(i),i=Xo(e,t,n,r),i===null&&oo(e,t,r,ei,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else oo(e,t,r,null,n)}}var ei=null;function Xo(e,t,n,r){if(ei=null,e=Rl(r),e=cn(e),e!==null)if(t=Tn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(am()){case Ol:return 1;case dd:return 4;case Zs:case cm:return 16;case hd:return 536870912;default:return 16}default:return 16}}var $t=null,Ul=null,Rs=null;function Sd(){if(Rs)return Rs;var e,t=Ul,n=t.length,r,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Rs=s.slice(e,1<r?1-r:void 0)}function Os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function pc(){return!1}function Ve(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xs:pc,this.isPropagationStopped=pc,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=Ve(rr),ss=le({},rr,{view:0,detail:0}),km=Ve(ss),Zi,qi,gr,Si=le({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(Zi=e.screenX-gr.screenX,qi=e.screenY-gr.screenY):qi=Zi=0,gr=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:qi}}),mc=Ve(Si),Tm=le({},Si,{dataTransfer:0}),Nm=Ve(Tm),Cm=le({},ss,{relatedTarget:0}),Ji=Ve(Cm),jm=le({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=Ve(jm),bm=le({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mm=Ve(bm),Pm=le({},rr,{data:0}),gc=Ve(Pm),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Im[e])?!!t[e]:!1}function Bl(){return _m}var Am=le({},ss,{key:function(e){if(e.key){var t=Lm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dm=Ve(Am),Rm=le({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=Ve(Rm),Om=le({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),Fm=Ve(Om),$m=le({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=Ve($m),Um=le({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=Ve(Um),Bm=[9,13,27,32],Yl=Mt&&"CompositionEvent"in window,Pr=null;Mt&&"documentMode"in document&&(Pr=document.documentMode);var Ym=Mt&&"TextEvent"in window&&!Pr,kd=Mt&&(!Yl||Pr&&8<Pr&&11>=Pr),vc=" ",xc=!1;function Td(e,t){switch(e){case"keyup":return Bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function Xm(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(xc=!0,vc);case"textInput":return e=t.data,e===vc&&xc?null:e;default:return null}}function Vm(e,t){if(In)return e==="compositionend"||!Yl&&Td(e,t)?(e=Sd(),Rs=Ul=$t=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gm[e.type]:t==="textarea"}function Cd(e,t,n,r){nd(r),t=ti(t,"onChange"),0<t.length&&(n=new Hl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lr=null,Br=null;function Qm(e){Dd(e,0)}function ki(e){var t=Dn(e);if(Qu(t))return e}function Km(e,t){if(e==="change")return t}var jd=!1;if(Mt){var eo;if(Mt){var to="oninput"in document;if(!to){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),to=typeof Sc.oninput=="function"}eo=to}else eo=!1;jd=eo&&(!document.documentMode||9<document.documentMode)}function kc(){Lr&&(Lr.detachEvent("onpropertychange",Ed),Br=Lr=null)}function Ed(e){if(e.propertyName==="value"&&ki(Br)){var t=[];Cd(t,Br,e,Rl(e)),od(Qm,t)}}function Zm(e,t,n){e==="focusin"?(kc(),Lr=t,Br=n,Lr.attachEvent("onpropertychange",Ed)):e==="focusout"&&kc()}function qm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(Br)}function Jm(e,t){if(e==="click")return ki(t)}function eg(e,t){if(e==="input"||e==="change")return ki(t)}function tg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:tg;function Yr(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bo.call(t,s)||!at(e[s],t[s]))return!1}return!0}function Tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nc(e,t){var n=Tc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tc(n)}}function bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Md(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ng(e){var t=Md(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bd(n.ownerDocument.documentElement,n)){if(r!==null&&Xl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Nc(n,i);var o=Nc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rg=Mt&&"documentMode"in document&&11>=document.documentMode,_n=null,Vo=null,zr=null,Go=!1;function Cc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Go||_n==null||_n!==Gs(r)||(r=_n,"selectionStart"in r&&Xl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zr&&Yr(zr,r)||(zr=r,r=ti(Vo,"onSelect"),0<r.length&&(t=new Hl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_n)))}function ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var An={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},no={},Pd={};Mt&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Ti(e){if(no[e])return no[e];if(!An[e])return e;var t=An[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pd)return no[e]=t[n];return e}var Ld=Ti("animationend"),zd=Ti("animationiteration"),Id=Ti("animationstart"),_d=Ti("transitionend"),Ad=new Map,jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Ad.set(e,t),kn(t,[e])}for(var ro=0;ro<jc.length;ro++){var so=jc[ro],sg=so.toLowerCase(),ig=so[0].toUpperCase()+so.slice(1);Jt(sg,"on"+ig)}Jt(Ld,"onAnimationEnd");Jt(zd,"onAnimationIteration");Jt(Id,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(_d,"onTransitionEnd");Qn("onMouseEnter",["mouseout","mouseover"]);Qn("onMouseLeave",["mouseout","mouseover"]);Qn("onPointerEnter",["pointerout","pointerover"]);Qn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),og=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Ec(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sm(r,t,void 0,e),e.currentTarget=null}function Dd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Ec(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Ec(s,l,u),i=c}}}if(Ks)throw e=Ho,Ks=!1,Ho=null,e}function ne(e,t){var n=t[Jo];n===void 0&&(n=t[Jo]=new Set);var r=e+"__bubble";n.has(r)||(Rd(t,e,2,!1),n.add(r))}function io(e,t,n){var r=0;t&&(r|=4),Rd(n,e,r,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[Ss]){e[Ss]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(og.has(n)||io(n,!1,e),io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,io("selectionchange",!1,t))}}function Rd(e,t,n,r){switch(wd(t)){case 1:var s=wm;break;case 4:s=Sm;break;default:s=Wl}n=s.bind(null,t,n,e),s=void 0,!Uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function oo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=cn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}od(function(){var u=i,d=Rl(n),h=[];e:{var m=Ad.get(e);if(m!==void 0){var S=Hl,v=e;switch(e){case"keypress":if(Os(n)===0)break e;case"keydown":case"keyup":S=Dm;break;case"focusin":v="focus",S=Ji;break;case"focusout":v="blur",S=Ji;break;case"beforeblur":case"afterblur":S=Ji;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Fm;break;case Ld:case zd:case Id:S=Em;break;case _d:S=Wm;break;case"scroll":S=km;break;case"wheel":S=Hm;break;case"copy":case"cut":case"paste":S=Mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=yc}var w=(t&4)!==0,N=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var f=u,p;f!==null;){p=f;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,g!==null&&(x=$r(f,g),x!=null&&w.push(Vr(f,x,p)))),N)break;f=f.return}0<w.length&&(m=new S(m,v,null,n,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",m&&n!==$o&&(v=n.relatedTarget||n.fromElement)&&(cn(v)||v[Pt]))break e;if((S||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,S?(v=n.relatedTarget||n.toElement,S=u,v=v?cn(v):null,v!==null&&(N=Tn(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=u),S!==v)){if(w=mc,x="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=yc,x="onPointerLeave",g="onPointerEnter",f="pointer"),N=S==null?m:Dn(S),p=v==null?m:Dn(v),m=new w(x,f+"leave",S,n,d),m.target=N,m.relatedTarget=p,x=null,cn(d)===u&&(w=new w(g,f+"enter",v,n,d),w.target=p,w.relatedTarget=N,x=w),N=x,S&&v)t:{for(w=S,g=v,f=0,p=w;p;p=Pn(p))f++;for(p=0,x=g;x;x=Pn(x))p++;for(;0<f-p;)w=Pn(w),f--;for(;0<p-f;)g=Pn(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Pn(w),g=Pn(g)}w=null}else w=null;S!==null&&bc(h,m,S,w,!1),v!==null&&N!==null&&bc(h,N,v,w,!0)}}e:{if(m=u?Dn(u):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var T=Km;else if(wc(m))if(jd)T=eg;else{T=qm;var C=Zm}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=Jm);if(T&&(T=T(e,u))){Cd(h,T,n,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Ao(m,"number",m.value)}switch(C=u?Dn(u):window,e){case"focusin":(wc(C)||C.contentEditable==="true")&&(_n=C,Vo=u,zr=null);break;case"focusout":zr=Vo=_n=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Cc(h,n,d);break;case"selectionchange":if(rg)break;case"keydown":case"keyup":Cc(h,n,d)}var j;if(Yl)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else In?Td(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(kd&&n.locale!=="ko"&&(In||E!=="onCompositionStart"?E==="onCompositionEnd"&&In&&(j=Sd()):($t=d,Ul="value"in $t?$t.value:$t.textContent,In=!0)),C=ti(u,E),0<C.length&&(E=new gc(E,e,null,n,d),h.push({event:E,listeners:C}),j?E.data=j:(j=Nd(n),j!==null&&(E.data=j)))),(j=Ym?Xm(e,n):Vm(e,n))&&(u=ti(u,"onBeforeInput"),0<u.length&&(d=new gc("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}Dd(h,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(e,n),i!=null&&r.unshift(Vr(e,i,s)),i=$r(e,t),i!=null&&r.push(Vr(e,i,s))),e=e.return}return r}function Pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=$r(n,i),c!=null&&o.unshift(Vr(n,c,l))):s||(c=$r(n,i),c!=null&&o.push(Vr(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lg=/\r\n?/g,ag=/\u0000|\uFFFD/g;function Mc(e){return(typeof e=="string"?e:""+e).replace(lg,`
`).replace(ag,"")}function ks(e,t,n){if(t=Mc(t),Mc(e)!==t&&n)throw Error(b(425))}function ni(){}var Qo=null,Ko=null;function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,ug=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(e){return Pc.resolve(null).then(e).catch(dg)}:qo;function dg(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),ft="__reactFiber$"+sr,Gr="__reactProps$"+sr,Pt="__reactContainer$"+sr,Jo="__reactEvents$"+sr,hg="__reactListeners$"+sr,fg="__reactHandles$"+sr;function cn(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lc(e);e!==null;){if(n=e[ft])return n;e=Lc(e)}return t}e=n,n=e.parentNode}return null}function is(e){return e=e[ft]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function Ni(e){return e[Gr]||null}var el=[],Rn=-1;function en(e){return{current:e}}function re(e){0>Rn||(e.current=el[Rn],el[Rn]=null,Rn--)}function ee(e,t){Rn++,el[Rn]=e.current,e.current=t}var qt={},je=en(qt),De=en(!1),mn=qt;function Kn(e,t){var n=e.type.contextTypes;if(!n)return qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Re(e){return e=e.childContextTypes,e!=null}function ri(){re(De),re(je)}function zc(e,t,n){if(je.current!==qt)throw Error(b(168));ee(je,t),ee(De,n)}function Od(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(b(108,Zp(e)||"Unknown",s));return le({},n,r)}function si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,mn=je.current,ee(je,e),ee(De,De.current),!0}function Ic(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Od(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,re(De),re(je),ee(je,e)):re(De),ee(De,n)}var Ct=null,Ci=!1,ao=!1;function Fd(e){Ct===null?Ct=[e]:Ct.push(e)}function pg(e){Ci=!0,Fd(e)}function tn(){if(!ao&&Ct!==null){ao=!0;var e=0,t=q;try{var n=Ct;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ct=null,Ci=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),ud(Ol,tn),s}finally{q=t,ao=!1}}return null}var On=[],Fn=0,ii=null,oi=0,Qe=[],Ke=0,gn=null,jt=1,Et="";function on(e,t){On[Fn++]=oi,On[Fn++]=ii,ii=e,oi=t}function $d(e,t,n){Qe[Ke++]=jt,Qe[Ke++]=Et,Qe[Ke++]=gn,gn=e;var r=jt;e=Et;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jt=1<<32-ot(t)+s|n<<s|r,Et=i+e}else jt=1<<i|n<<s|r,Et=e}function Vl(e){e.return!==null&&(on(e,1),$d(e,1,0))}function Gl(e){for(;e===ii;)ii=On[--Fn],On[Fn]=null,oi=On[--Fn],On[Fn]=null;for(;e===gn;)gn=Qe[--Ke],Qe[Ke]=null,Et=Qe[--Ke],Qe[Ke]=null,jt=Qe[--Ke],Qe[Ke]=null}var Be=null,He=null,se=!1,it=null;function Wd(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _c(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,He=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:jt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,He=null,!0):!1;default:return!1}}function tl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nl(e){if(se){var t=He;if(t){var n=t;if(!_c(e,t)){if(tl(e))throw Error(b(418));t=Xt(n.nextSibling);var r=Be;t&&_c(e,t)?Wd(r,n):(e.flags=e.flags&-4097|2,se=!1,Be=e)}}else{if(tl(e))throw Error(b(418));e.flags=e.flags&-4097|2,se=!1,Be=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Ts(e){if(e!==Be)return!1;if(!se)return Ac(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zo(e.type,e.memoizedProps)),t&&(t=He)){if(tl(e))throw Ud(),Error(b(418));for(;t;)Wd(e,t),t=Xt(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=Be?Xt(e.stateNode.nextSibling):null;return!0}function Ud(){for(var e=He;e;)e=Xt(e.nextSibling)}function Zn(){He=Be=null,se=!1}function Ql(e){it===null?it=[e]:it.push(e)}var mg=It.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dc(e){var t=e._init;return t(e._payload)}function Hd(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Kt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,x){return f===null||f.tag!==6?(f=go(p,g.mode,x),f.return=g,f):(f=s(f,p),f.return=g,f)}function c(g,f,p,x){var T=p.type;return T===zn?d(g,f,p.props.children,x,p.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Dt&&Dc(T)===f.type)?(x=s(f,p.props),x.ref=yr(g,f,p),x.return=g,x):(x=Ys(p.type,p.key,p.props,null,g.mode,x),x.ref=yr(g,f,p),x.return=g,x)}function u(g,f,p,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=yo(p,g.mode,x),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,x,T){return f===null||f.tag!==7?(f=pn(p,g.mode,x,T),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=go(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fs:return p=Ys(f.type,f.key,f.props,null,g.mode,p),p.ref=yr(g,null,f),p.return=g,p;case Ln:return f=yo(f,g.mode,p),f.return=g,f;case Dt:var x=f._init;return h(g,x(f._payload),p)}if(Cr(f)||hr(f))return f=pn(f,g.mode,p,null),f.return=g,f;Ns(g,f)}return null}function m(g,f,p,x){var T=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return T!==null?null:l(g,f,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fs:return p.key===T?c(g,f,p,x):null;case Ln:return p.key===T?u(g,f,p,x):null;case Dt:return T=p._init,m(g,f,T(p._payload),x)}if(Cr(p)||hr(p))return T!==null?null:d(g,f,p,x,null);Ns(g,p)}return null}function S(g,f,p,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(p)||null,l(f,g,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fs:return g=g.get(x.key===null?p:x.key)||null,c(f,g,x,T);case Ln:return g=g.get(x.key===null?p:x.key)||null,u(f,g,x,T);case Dt:var C=x._init;return S(g,f,p,C(x._payload),T)}if(Cr(x)||hr(x))return g=g.get(p)||null,d(f,g,x,T,null);Ns(f,x)}return null}function v(g,f,p,x){for(var T=null,C=null,j=f,E=f=0,R=null;j!==null&&E<p.length;E++){j.index>E?(R=j,j=null):R=j.sibling;var P=m(g,j,p[E],x);if(P===null){j===null&&(j=R);break}e&&j&&P.alternate===null&&t(g,j),f=i(P,f,E),C===null?T=P:C.sibling=P,C=P,j=R}if(E===p.length)return n(g,j),se&&on(g,E),T;if(j===null){for(;E<p.length;E++)j=h(g,p[E],x),j!==null&&(f=i(j,f,E),C===null?T=j:C.sibling=j,C=j);return se&&on(g,E),T}for(j=r(g,j);E<p.length;E++)R=S(j,g,E,p[E],x),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?E:R.key),f=i(R,f,E),C===null?T=R:C.sibling=R,C=R);return e&&j.forEach(function(Q){return t(g,Q)}),se&&on(g,E),T}function w(g,f,p,x){var T=hr(p);if(typeof T!="function")throw Error(b(150));if(p=T.call(p),p==null)throw Error(b(151));for(var C=T=null,j=f,E=f=0,R=null,P=p.next();j!==null&&!P.done;E++,P=p.next()){j.index>E?(R=j,j=null):R=j.sibling;var Q=m(g,j,P.value,x);if(Q===null){j===null&&(j=R);break}e&&j&&Q.alternate===null&&t(g,j),f=i(Q,f,E),C===null?T=Q:C.sibling=Q,C=Q,j=R}if(P.done)return n(g,j),se&&on(g,E),T;if(j===null){for(;!P.done;E++,P=p.next())P=h(g,P.value,x),P!==null&&(f=i(P,f,E),C===null?T=P:C.sibling=P,C=P);return se&&on(g,E),T}for(j=r(g,j);!P.done;E++,P=p.next())P=S(j,g,E,P.value,x),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?E:P.key),f=i(P,f,E),C===null?T=P:C.sibling=P,C=P);return e&&j.forEach(function(U){return t(g,U)}),se&&on(g,E),T}function N(g,f,p,x){if(typeof p=="object"&&p!==null&&p.type===zn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case fs:e:{for(var T=p.key,C=f;C!==null;){if(C.key===T){if(T=p.type,T===zn){if(C.tag===7){n(g,C.sibling),f=s(C,p.props.children),f.return=g,g=f;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Dt&&Dc(T)===C.type){n(g,C.sibling),f=s(C,p.props),f.ref=yr(g,C,p),f.return=g,g=f;break e}n(g,C);break}else t(g,C);C=C.sibling}p.type===zn?(f=pn(p.props.children,g.mode,x,p.key),f.return=g,g=f):(x=Ys(p.type,p.key,p.props,null,g.mode,x),x.ref=yr(g,f,p),x.return=g,g=x)}return o(g);case Ln:e:{for(C=p.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=yo(p,g.mode,x),f.return=g,g=f}return o(g);case Dt:return C=p._init,N(g,f,C(p._payload),x)}if(Cr(p))return v(g,f,p,x);if(hr(p))return w(g,f,p,x);Ns(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=go(p,g.mode,x),f.return=g,g=f),o(g)):n(g,f)}return N}var qn=Hd(!0),Bd=Hd(!1),li=en(null),ai=null,$n=null,Kl=null;function Zl(){Kl=$n=ai=null}function ql(e){var t=li.current;re(li),e._currentValue=t}function rl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vn(e,t){ai=e,Kl=$n=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(Kl!==e)if(e={context:e,memoizedValue:t,next:null},$n===null){if(ai===null)throw Error(b(308));$n=e,ai.dependencies={lanes:0,firstContext:e}}else $n=$n.next=e;return t}var un=null;function Jl(e){un===null?un=[e]:un.push(e)}function Yd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Jl(t)):(n.next=s.next,s.next=n),t.interleaved=n,Lt(e,r)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rt=!1;function ea(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Lt(e,n)}return s=r.interleaved,s===null?(t.next=t,Jl(r)):(t.next=s.next,s.next=t),r.interleaved=t,Lt(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fl(e,n)}}function Rc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,r){var s=e.updateQueue;Rt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,S=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(m=t,S=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(S,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(S,h,m):v,m==null)break e;h=le({},h,m);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else S={eventTime:S,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=S,c=h):d=d.next=S,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vn|=o,e.lanes=o,e.memoizedState=h}}function Oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var os={},mt=en(os),Qr=en(os),Kr=en(os);function dn(e){if(e===os)throw Error(b(174));return e}function ta(e,t){switch(ee(Kr,t),ee(Qr,e),ee(mt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ro(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ro(t,e)}re(mt),ee(mt,t)}function Jn(){re(mt),re(Qr),re(Kr)}function Vd(e){dn(Kr.current);var t=dn(mt.current),n=Ro(t,e.type);t!==n&&(ee(Qr,e),ee(mt,n))}function na(e){Qr.current===e&&(re(mt),re(Qr))}var ie=en(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function ra(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var $s=It.ReactCurrentDispatcher,uo=It.ReactCurrentBatchConfig,yn=0,oe=null,me=null,ye=null,di=!1,Ir=!1,Zr=0,gg=0;function Te(){throw Error(b(321))}function sa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,s,i){if(yn=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?wg:Sg,e=n(r,s),Ir){i=0;do{if(Ir=!1,Zr=0,25<=i)throw Error(b(301));i+=1,ye=me=null,t.updateQueue=null,$s.current=kg,e=n(r,s)}while(Ir)}if($s.current=hi,t=me!==null&&me.next!==null,yn=0,ye=me=oe=null,di=!1,t)throw Error(b(300));return e}function oa(){var e=Zr!==0;return Zr=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function et(){if(me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,me=e;else{if(e===null)throw Error(b(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function qr(e,t){return typeof t=="function"?t(e):t}function ho(e){var t=et(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((yn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,oe.lanes|=d,vn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,at(r,t.memoizedState)||(Ae=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,vn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fo(e){var t=et(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);at(i,t.memoizedState)||(Ae=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gd(){}function Qd(e,t){var n=oe,r=et(),s=t(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Ae=!0),r=r.queue,la(qd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Jr(9,Zd.bind(null,n,r,s,t),void 0,null),ve===null)throw Error(b(349));yn&30||Kd(n,t,s)}return s}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zd(e,t,n,r){t.value=n,t.getSnapshot=r,Jd(t)&&eh(e)}function qd(e,t,n){return n(function(){Jd(t)&&eh(e)})}function Jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function eh(e){var t=Lt(e,1);t!==null&&lt(t,e,1,-1)}function Fc(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:e},t.queue=e,e=e.dispatch=xg.bind(null,oe,e),[t.memoizedState,e]}function Jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function th(){return et().memoizedState}function Ws(e,t,n,r){var s=ht();oe.flags|=e,s.memoizedState=Jr(1|t,n,void 0,r===void 0?null:r)}function ji(e,t,n,r){var s=et();r=r===void 0?null:r;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,r!==null&&sa(r,o.deps)){s.memoizedState=Jr(t,n,i,r);return}}oe.flags|=e,s.memoizedState=Jr(1|t,n,i,r)}function $c(e,t){return Ws(8390656,8,e,t)}function la(e,t){return ji(2048,8,e,t)}function nh(e,t){return ji(4,2,e,t)}function rh(e,t){return ji(4,4,e,t)}function sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ih(e,t,n){return n=n!=null?n.concat([e]):null,ji(4,4,sh.bind(null,t,e),n)}function aa(){}function oh(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lh(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ah(e,t,n){return yn&21?(at(n,t)||(n=fd(),oe.lanes|=n,vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=n)}function yg(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{q=n,uo.transition=r}}function ch(){return et().memoizedState}function vg(e,t,n){var r=Qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uh(e))dh(t,n);else if(n=Yd(e,t,n,r),n!==null){var s=Me();lt(n,e,r,s),hh(n,t,r)}}function xg(e,t,n){var r=Qt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uh(e))dh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,at(l,o)){var c=t.interleaved;c===null?(s.next=s,Jl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Yd(e,t,s,r),n!==null&&(s=Me(),lt(n,e,r,s),hh(n,t,r))}}function uh(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function dh(e,t){Ir=di=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fl(e,n)}}var hi={readContext:Je,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},wg={readContext:Je,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:$c,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ws(4194308,4,sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var n=ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vg.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Fc,useDebugValue:aa,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Fc(!1),t=e[0];return e=yg.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=ht();if(se){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ve===null)throw Error(b(349));yn&30||Kd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$c(qd.bind(null,r,i,e),[e]),r.flags|=2048,Jr(9,Zd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ht(),t=ve.identifierPrefix;if(se){var n=Et,r=jt;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sg={readContext:Je,useCallback:oh,useContext:Je,useEffect:la,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:lh,useReducer:ho,useRef:th,useState:function(){return ho(qr)},useDebugValue:aa,useDeferredValue:function(e){var t=et();return ah(t,me.memoizedState,e)},useTransition:function(){var e=ho(qr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Qd,useId:ch,unstable_isNewReconciler:!1},kg={readContext:Je,useCallback:oh,useContext:Je,useEffect:la,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:lh,useReducer:fo,useRef:th,useState:function(){return fo(qr)},useDebugValue:aa,useDeferredValue:function(e){var t=et();return me===null?t.memoizedState=e:ah(t,me.memoizedState,e)},useTransition:function(){var e=fo(qr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Qd,useId:ch,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Me(),s=Qt(e),i=bt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(lt(t,e,s,r),Fs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Me(),s=Qt(e),i=bt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(lt(t,e,s,r),Fs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Me(),r=Qt(e),s=bt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(lt(t,e,r,n),Fs(t,e,r))}};function Wc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Yr(n,r)||!Yr(s,i):!0}function fh(e,t,n){var r=!1,s=qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Re(t)?mn:je.current,r=t.contextTypes,i=(r=r!=null)?Kn(e,s):qt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ei,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Uc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ei.enqueueReplaceState(t,t.state,null)}function il(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ea(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Re(t)?mn:je.current,s.context=Kn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(sl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ei.enqueueReplaceState(s,s.state,null),ci(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function er(e,t){try{var n="",r=t;do n+=Kp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function po(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tg=typeof WeakMap=="function"?WeakMap:Map;function ph(e,t,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pi||(pi=!0,gl=r),ol(e,t)},n}function mh(e,t,n){n=bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ol(e,t),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Hc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Rg.bind(null,e,t,n),t.then(e,e))}function Bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bt(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var Ng=It.ReactCurrentOwner,Ae=!1;function be(e,t,n,r){t.child=e===null?Bd(t,null,n,r):qn(t,e.child,n,r)}function Xc(e,t,n,r,s){n=n.render;var i=t.ref;return Vn(t,s),r=ia(e,t,n,r,i,s),n=oa(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(se&&n&&Vl(t),t.flags|=1,be(e,t,r,s),t.child)}function Vc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ga(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gh(e,t,i,r,s)):(e=Ys(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(o,r)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=Kt(i,r),e.ref=t.ref,e.return=t,t.child=e}function gh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Yr(i,r)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,zt(e,t,s)}return ll(e,t,n,r,s)}function yh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Un,We),We|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Un,We),We|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(Un,We),We|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(Un,We),We|=r;return be(e,t,s,n),t.child}function vh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ll(e,t,n,r,s){var i=Re(n)?mn:je.current;return i=Kn(t,i),Vn(t,s),n=ia(e,t,n,r,i,s),r=oa(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(se&&r&&Vl(t),t.flags|=1,be(e,t,n,s),t.child)}function Gc(e,t,n,r,s){if(Re(n)){var i=!0;si(t)}else i=!1;if(Vn(t,s),t.stateNode===null)Us(e,t),fh(t,n,r),il(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Re(n)?mn:je.current,u=Kn(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Uc(t,o,r,u),Rt=!1;var m=t.memoizedState;o.state=m,ci(t,r,o,s),c=t.memoizedState,l!==r||m!==c||De.current||Rt?(typeof d=="function"&&(sl(t,n,d,r),c=t.memoizedState),(l=Rt||Wc(t,n,l,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:rt(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=Re(n)?mn:je.current,c=Kn(t,c));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Uc(t,o,r,c),Rt=!1,m=t.memoizedState,o.state=m,ci(t,r,o,s);var v=t.memoizedState;l!==h||m!==v||De.current||Rt?(typeof S=="function"&&(sl(t,n,S,r),v=t.memoizedState),(u=Rt||Wc(t,n,u,r,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return al(e,t,n,r,i,s)}function al(e,t,n,r,s,i){vh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ic(t,n,!1),zt(e,t,i);r=t.stateNode,Ng.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qn(t,e.child,null,i),t.child=qn(t,null,l,i)):be(e,t,l,i),t.memoizedState=r.state,s&&Ic(t,n,!0),t.child}function xh(e){var t=e.stateNode;t.pendingContext?zc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zc(e,t.context,!1),ta(e,t.containerInfo)}function Qc(e,t,n,r,s){return Zn(),Ql(s),t.flags|=256,be(e,t,n,r),t.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function wh(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(ie,s&1),e===null)return nl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pi(o,r,0,null),e=pn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ul(n),t.memoizedState=cl,e):ca(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Cg(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kt(l,i):(i=pn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ul(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=cl,r}return i=e.child,e=i.sibling,r=Kt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ca(e,t){return t=Pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cs(e,t,n,r){return r!==null&&Ql(r),qn(t,e.child,null,n),e=ca(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=po(Error(b(422))),Cs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Pi({mode:"visible",children:r.children},s,0,null),i=pn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&qn(t,e.child,null,o),t.child.memoizedState=ul(o),t.memoizedState=cl,i);if(!(t.mode&1))return Cs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(b(419)),r=po(i,r,void 0),Cs(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ae||l){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lt(e,s),lt(r,e,s,-1))}return ma(),r=po(Error(b(421))),Cs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Og.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,He=Xt(s.nextSibling),Be=t,se=!0,it=null,e!==null&&(Qe[Ke++]=jt,Qe[Ke++]=Et,Qe[Ke++]=gn,jt=e.id,Et=e.overflow,gn=t),t=ca(t,r.children),t.flags|=4096,t)}function Kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rl(e.return,t,n)}function mo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Sh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(be(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,n,t);else if(e.tag===19)Kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ui(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),mo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ui(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}mo(t,!0,n,null,i);break;case"together":mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jg(e,t,n){switch(t.tag){case 3:xh(t),Zn();break;case 5:Vd(t);break;case 1:Re(t.type)&&si(t);break;case 4:ta(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(li,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?wh(e,t,n):(ee(ie,ie.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ee(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,yh(e,t,n)}return zt(e,t,n)}var kh,dl,Th,Nh;kh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dl=function(){};Th=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dn(mt.current);var i=null;switch(n){case"input":s=Io(e,s),r=Io(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Do(e,s),r=Do(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ni)}Oo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Or.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Or.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Nh=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Eg(e,t,n){var r=t.pendingProps;switch(Gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Re(t.type)&&ri(),Ne(t),null;case 3:return r=t.stateNode,Jn(),re(De),re(je),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(xl(it),it=null))),dl(e,t),Ne(t),null;case 5:na(t);var s=dn(Kr.current);if(n=t.type,e!==null&&t.stateNode!=null)Th(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return Ne(t),null}if(e=dn(mt.current),Ts(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ft]=t,r[Gr]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Er.length;s++)ne(Er[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":ic(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":lc(r,i),ne("invalid",r)}Oo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,l,e),s=["children",""+l]):Or.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":ps(r),oc(r,i,!0);break;case"textarea":ps(r),ac(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ni)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ft]=t,e[Gr]=r,kh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fo(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<Er.length;s++)ne(Er[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":ic(e,r),s=Io(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),ne("invalid",e);break;case"textarea":lc(e,r),s=Do(e,r),ne("invalid",e);break;default:s=r}Oo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?td(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ju(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fr(e,c):typeof c=="number"&&Fr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Or.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ne("scroll",e):c!=null&&Il(e,i,c,o))}switch(n){case"input":ps(e),oc(e,r,!1);break;case"textarea":ps(e),ac(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Nh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=dn(Kr.current),dn(mt.current),Ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[ft]=t,(i=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:ks(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=t,t.stateNode=r}return Ne(t),null;case 13:if(re(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&He!==null&&t.mode&1&&!(t.flags&128))Ud(),Zn(),t.flags|=98560,i=!1;else if(i=Ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[ft]=t}else Zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),i=!1}else it!==null&&(xl(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):ma())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Jn(),dl(e,t),e===null&&Xr(t.stateNode.containerInfo),Ne(t),null;case 10:return ql(t.type._context),Ne(t),null;case 17:return Re(t.type)&&ri(),Ne(t),null;case 19:if(re(ie),i=t.memoizedState,i===null)return Ne(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)vr(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ui(e),o!==null){for(t.flags|=128,vr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>tr&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ui(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return Ne(t),null}else 2*de()-i.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,n=ie.current,ee(ie,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return pa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?We&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function bg(e,t){switch(Gl(t),t.tag){case 1:return Re(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jn(),re(De),re(je),ra(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return na(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return Jn(),null;case 10:return ql(t.type._context),null;case 22:case 23:return pa(),null;case 24:return null;default:return null}}var js=!1,Ce=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,I=null;function Wn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function hl(e,t,n){try{n()}catch(r){ce(e,t,r)}}var Zc=!1;function Pg(e,t){if(Qo=Js,e=Md(),Xl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var S;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(S=h.firstChild)!==null;)m=h,h=S;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(S=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=S}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ko={focusedElem:e,selectionRange:n},Js=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,N=v.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:rt(t.type,w),N);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(x){ce(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return v=Zc,Zc=!1,v}function _r(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&hl(t,n,i)}s=s.next}while(s!==r)}}function bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ch(e){var t=e.alternate;t!==null&&(e.alternate=null,Ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Gr],delete t[Jo],delete t[hg],delete t[fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jh(e){return e.tag===5||e.tag===3||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ni));else if(r!==4&&(e=e.child,e!==null))for(pl(e,t,n),e=e.sibling;e!==null;)pl(e,t,n),e=e.sibling}function ml(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ml(e,t,n),e=e.sibling;e!==null;)ml(e,t,n),e=e.sibling}var we=null,st=!1;function _t(e,t,n){for(n=n.child;n!==null;)Eh(e,t,n),n=n.sibling}function Eh(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(wi,n)}catch{}switch(n.tag){case 5:Ce||Wn(n,t);case 6:var r=we,s=st;we=null,_t(e,t,n),we=r,st=s,we!==null&&(st?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(st?(e=we,n=n.stateNode,e.nodeType===8?lo(e.parentNode,n):e.nodeType===1&&lo(e,n),Hr(e)):lo(we,n.stateNode));break;case 4:r=we,s=st,we=n.stateNode.containerInfo,st=!0,_t(e,t,n),we=r,st=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hl(n,t,o),s=s.next}while(s!==r)}_t(e,t,n);break;case 1:if(!Ce&&(Wn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ce(n,t,l)}_t(e,t,n);break;case 21:_t(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,_t(e,t,n),Ce=r):_t(e,t,n);break;default:_t(e,t,n)}}function Jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mg),t.forEach(function(r){var s=Fg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,st=!1;break e;case 3:we=l.stateNode.containerInfo,st=!0;break e;case 4:we=l.stateNode.containerInfo,st=!0;break e}l=l.return}if(we===null)throw Error(b(160));Eh(i,o,s),we=null,st=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}function bh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),dt(e),r&4){try{_r(3,e,e.return),bi(3,e)}catch(w){ce(e,e.return,w)}try{_r(5,e,e.return)}catch(w){ce(e,e.return,w)}}break;case 1:tt(t,e),dt(e),r&512&&n!==null&&Wn(n,n.return);break;case 5:if(tt(t,e),dt(e),r&512&&n!==null&&Wn(n,n.return),e.flags&32){var s=e.stateNode;try{Fr(s,"")}catch(w){ce(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ku(s,i),Fo(l,o);var u=Fo(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?td(s,h):d==="dangerouslySetInnerHTML"?Ju(s,h):d==="children"?Fr(s,h):Il(s,d,h,u)}switch(l){case"input":_o(s,i);break;case"textarea":Zu(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Hn(s,!!i.multiple,S,!1):m!==!!i.multiple&&(i.defaultValue!=null?Hn(s,!!i.multiple,i.defaultValue,!0):Hn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gr]=i}catch(w){ce(e,e.return,w)}}break;case 6:if(tt(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(b(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ce(e,e.return,w)}}break;case 3:if(tt(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(w){ce(e,e.return,w)}break;case 4:tt(t,e),dt(e);break;case 13:tt(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ha=de())),r&4&&Jc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||d,tt(t,e),Ce=u):tt(t,e),dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(m=I,S=m.child,m.tag){case 0:case 11:case 14:case 15:_r(4,m,m.return);break;case 1:Wn(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ce(r,n,w)}}break;case 5:Wn(m,m.return);break;case 22:if(m.memoizedState!==null){tu(h);continue}}S!==null?(S.return=m,I=S):tu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ed("display",o))}catch(w){ce(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ce(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tt(t,e),dt(e),r&4&&Jc(e);break;case 21:break;default:tt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jh(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fr(s,""),r.flags&=-33);var i=qc(e);ml(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=qc(e);pl(e,l,o);break;default:throw Error(b(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lg(e,t,n){I=e,Mh(e)}function Mh(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||js;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ce;l=js;var u=Ce;if(js=o,(Ce=c)&&!u)for(I=s;I!==null;)o=I,c=o.child,o.tag===22&&o.memoizedState!==null?nu(s):c!==null?(c.return=o,I=c):nu(s);for(;i!==null;)I=i,Mh(i),i=i.sibling;I=s,js=l,Ce=u}eu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):eu(e)}}function eu(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||bi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Oc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oc(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ce||t.flags&512&&fl(t)}catch(m){ce(t,t.return,m)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function tu(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function nu(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bi(4,t)}catch(c){ce(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ce(t,s,c)}}var i=t.return;try{fl(t)}catch(c){ce(t,i,c)}break;case 5:var o=t.return;try{fl(t)}catch(c){ce(t,o,c)}}}catch(c){ce(t,t.return,c)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var zg=Math.ceil,fi=It.ReactCurrentDispatcher,ua=It.ReactCurrentOwner,qe=It.ReactCurrentBatchConfig,G=0,ve=null,fe=null,Se=0,We=0,Un=en(0),ge=0,es=null,vn=0,Mi=0,da=0,Ar=null,_e=null,ha=0,tr=1/0,Nt=null,pi=!1,gl=null,Gt=null,Es=!1,Wt=null,mi=0,Dr=0,yl=null,Hs=-1,Bs=0;function Me(){return G&6?de():Hs!==-1?Hs:Hs=de()}function Qt(e){return e.mode&1?G&2&&Se!==0?Se&-Se:mg.transition!==null?(Bs===0&&(Bs=fd()),Bs):(e=q,e!==0||(e=window.event,e=e===void 0?16:wd(e.type)),e):1}function lt(e,t,n,r){if(50<Dr)throw Dr=0,yl=null,Error(b(185));rs(e,n,r),(!(G&2)||e!==ve)&&(e===ve&&(!(G&2)&&(Mi|=n),ge===4&&Ft(e,Se)),Oe(e,r),n===1&&G===0&&!(t.mode&1)&&(tr=de()+500,Ci&&tn()))}function Oe(e,t){var n=e.callbackNode;mm(e,t);var r=qs(e,e===ve?Se:0);if(r===0)n!==null&&dc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dc(n),t===1)e.tag===0?pg(ru.bind(null,e)):Fd(ru.bind(null,e)),ug(function(){!(G&6)&&tn()}),n=null;else{switch(pd(r)){case 1:n=Ol;break;case 4:n=dd;break;case 16:n=Zs;break;case 536870912:n=hd;break;default:n=Zs}n=Rh(n,Ph.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ph(e,t){if(Hs=-1,Bs=0,G&6)throw Error(b(327));var n=e.callbackNode;if(Gn()&&e.callbackNode!==n)return null;var r=qs(e,e===ve?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gi(e,r);else{t=r;var s=G;G|=2;var i=zh();(ve!==e||Se!==t)&&(Nt=null,tr=de()+500,fn(e,t));do try{Ag();break}catch(l){Lh(e,l)}while(!0);Zl(),fi.current=i,G=s,fe!==null?t=0:(ve=null,Se=0,t=ge)}if(t!==0){if(t===2&&(s=Bo(e),s!==0&&(r=s,t=vl(e,s))),t===1)throw n=es,fn(e,0),Ft(e,r),Oe(e,de()),n;if(t===6)Ft(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ig(s)&&(t=gi(e,r),t===2&&(i=Bo(e),i!==0&&(r=i,t=vl(e,i))),t===1))throw n=es,fn(e,0),Ft(e,r),Oe(e,de()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:ln(e,_e,Nt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=ha+500-de(),10<t)){if(qs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qo(ln.bind(null,e,_e,Nt),t);break}ln(e,_e,Nt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ot(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zg(r/1960))-r,10<r){e.timeoutHandle=qo(ln.bind(null,e,_e,Nt),r);break}ln(e,_e,Nt);break;case 5:ln(e,_e,Nt);break;default:throw Error(b(329))}}}return Oe(e,de()),e.callbackNode===n?Ph.bind(null,e):null}function vl(e,t){var n=Ar;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=gi(e,t),e!==2&&(t=_e,_e=n,t!==null&&xl(t)),e}function xl(e){_e===null?_e=e:_e.push.apply(_e,e)}function Ig(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~da,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ru(e){if(G&6)throw Error(b(327));Gn();var t=qs(e,0);if(!(t&1))return Oe(e,de()),null;var n=gi(e,t);if(e.tag!==0&&n===2){var r=Bo(e);r!==0&&(t=r,n=vl(e,r))}if(n===1)throw n=es,fn(e,0),Ft(e,t),Oe(e,de()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,_e,Nt),Oe(e,de()),null}function fa(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(tr=de()+500,Ci&&tn())}}function xn(e){Wt!==null&&Wt.tag===0&&!(G&6)&&Gn();var t=G;G|=1;var n=qe.transition,r=q;try{if(qe.transition=null,q=1,e)return e()}finally{q=r,qe.transition=n,G=t,!(G&6)&&tn()}}function pa(){We=Un.current,re(Un)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cg(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(Gl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ri();break;case 3:Jn(),re(De),re(je),ra();break;case 5:na(r);break;case 4:Jn();break;case 13:re(ie);break;case 19:re(ie);break;case 10:ql(r.type._context);break;case 22:case 23:pa()}n=n.return}if(ve=e,fe=e=Kt(e.current,null),Se=We=t,ge=0,es=null,da=Mi=vn=0,_e=Ar=null,un!==null){for(t=0;t<un.length;t++)if(n=un[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}un=null}return e}function Lh(e,t){do{var n=fe;try{if(Zl(),$s.current=hi,di){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}di=!1}if(yn=0,ye=me=oe=null,Ir=!1,Zr=0,ua.current=null,n===null||n.return===null){ge=1,es=t,fe=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=Bc(o);if(S!==null){S.flags&=-257,Yc(S,o,l,i,t),S.mode&1&&Hc(i,u,t),t=S,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Hc(i,u,t),ma();break e}c=Error(b(426))}}else if(se&&l.mode&1){var N=Bc(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Yc(N,o,l,i,t),Ql(er(c,l));break e}}i=c=er(c,l),ge!==4&&(ge=2),Ar===null?Ar=[i]:Ar.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=ph(i,c,t);Rc(i,g);break e;case 1:l=c;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Gt===null||!Gt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=mh(i,l,t);Rc(i,x);break e}}i=i.return}while(i!==null)}_h(n)}catch(T){t=T,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function zh(){var e=fi.current;return fi.current=hi,e===null?hi:e}function ma(){(ge===0||ge===3||ge===2)&&(ge=4),ve===null||!(vn&268435455)&&!(Mi&268435455)||Ft(ve,Se)}function gi(e,t){var n=G;G|=2;var r=zh();(ve!==e||Se!==t)&&(Nt=null,fn(e,t));do try{_g();break}catch(s){Lh(e,s)}while(!0);if(Zl(),G=n,fi.current=r,fe!==null)throw Error(b(261));return ve=null,Se=0,ge}function _g(){for(;fe!==null;)Ih(fe)}function Ag(){for(;fe!==null&&!om();)Ih(fe)}function Ih(e){var t=Dh(e.alternate,e,We);e.memoizedProps=e.pendingProps,t===null?_h(e):fe=t,ua.current=null}function _h(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bg(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(n=Eg(n,t,We),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function ln(e,t,n){var r=q,s=qe.transition;try{qe.transition=null,q=1,Dg(e,t,n,r)}finally{qe.transition=s,q=r}return null}function Dg(e,t,n,r){do Gn();while(Wt!==null);if(G&6)throw Error(b(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gm(e,i),e===ve&&(fe=ve=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Es||(Es=!0,Rh(Zs,function(){return Gn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var o=q;q=1;var l=G;G|=4,ua.current=null,Pg(e,n),bh(n,e),ng(Ko),Js=!!Qo,Ko=Qo=null,e.current=n,Lg(n),lm(),G=l,q=o,qe.transition=i}else e.current=n;if(Es&&(Es=!1,Wt=e,mi=s),i=e.pendingLanes,i===0&&(Gt=null),um(n.stateNode),Oe(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pi)throw pi=!1,e=gl,gl=null,e;return mi&1&&e.tag!==0&&Gn(),i=e.pendingLanes,i&1?e===yl?Dr++:(Dr=0,yl=e):Dr=0,tn(),null}function Gn(){if(Wt!==null){var e=pd(mi),t=qe.transition,n=q;try{if(qe.transition=null,q=16>e?16:e,Wt===null)var r=!1;else{if(e=Wt,Wt=null,mi=0,G&6)throw Error(b(331));var s=G;for(G|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:_r(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var m=d.sibling,S=d.return;if(Ch(d),d===u){I=null;break}if(m!==null){m.return=S,I=m;break}I=S}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_r(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){o=I;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,I=p;else e:for(o=f;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bi(9,l)}}catch(T){ce(l,l.return,T)}if(l===o){I=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,I=x;break e}I=l.return}}if(G=s,tn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(wi,e)}catch{}r=!0}return r}finally{q=n,qe.transition=t}}return!1}function su(e,t,n){t=er(n,t),t=ph(e,t,1),e=Vt(e,t,1),t=Me(),e!==null&&(rs(e,1,t),Oe(e,t))}function ce(e,t,n){if(e.tag===3)su(e,e,n);else for(;t!==null;){if(t.tag===3){su(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){e=er(n,e),e=mh(t,e,1),t=Vt(t,e,1),e=Me(),t!==null&&(rs(t,1,e),Oe(t,e));break}}t=t.return}}function Rg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(Se&n)===n&&(ge===4||ge===3&&(Se&130023424)===Se&&500>de()-ha?fn(e,0):da|=n),Oe(e,t)}function Ah(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var n=Me();e=Lt(e,t),e!==null&&(rs(e,t,n),Oe(e,n))}function Og(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ah(e,n)}function Fg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Ah(e,n)}var Dh;Dh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Ae=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ae=!1,jg(e,t,n);Ae=!!(e.flags&131072)}else Ae=!1,se&&t.flags&1048576&&$d(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var s=Kn(t,je.current);Vn(t,n),s=ia(null,t,r,e,s,n);var i=oa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(r)?(i=!0,si(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ea(t),s.updater=Ei,t.stateNode=s,s._reactInternals=t,il(t,r,e,n),t=al(null,t,r,!0,i,n)):(t.tag=0,se&&i&&Vl(t),be(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Wg(r),e=rt(r,e),s){case 0:t=ll(null,t,r,e,n);break e;case 1:t=Gc(null,t,r,e,n);break e;case 11:t=Xc(null,t,r,e,n);break e;case 14:t=Vc(null,t,r,rt(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),ll(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),Gc(e,t,r,s,n);case 3:e:{if(xh(t),e===null)throw Error(b(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Xd(e,t),ci(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=er(Error(b(423)),t),t=Qc(e,t,r,n,s);break e}else if(r!==s){s=er(Error(b(424)),t),t=Qc(e,t,r,n,s);break e}else for(He=Xt(t.stateNode.containerInfo.firstChild),Be=t,se=!0,it=null,n=Bd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===s){t=zt(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return Vd(t),e===null&&nl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Zo(r,s)?o=null:i!==null&&Zo(r,i)&&(t.flags|=32),vh(e,t),be(e,t,o,n),t.child;case 6:return e===null&&nl(t),null;case 13:return wh(e,t,n);case 4:return ta(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qn(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),Xc(e,t,r,s,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(li,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!De.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=bt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),rl(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),rl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vn(t,n),s=Je(s),r=r(s),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,s=rt(r,t.pendingProps),s=rt(r.type,s),Vc(e,t,r,s,n);case 15:return gh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),Us(e,t),t.tag=1,Re(r)?(e=!0,si(t)):e=!1,Vn(t,n),fh(t,r,s),il(t,r,s,n),al(null,t,r,!0,e,n);case 19:return Sh(e,t,n);case 22:return yh(e,t,n)}throw Error(b(156,t.tag))};function Rh(e,t){return ud(e,t)}function $g(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,r){return new $g(e,t,n,r)}function ga(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wg(e){if(typeof e=="function")return ga(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Al)return 11;if(e===Dl)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ga(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zn:return pn(n.children,s,i,t);case _l:o=8,s|=8;break;case Mo:return e=Ze(12,n,t,s|2),e.elementType=Mo,e.lanes=i,e;case Po:return e=Ze(13,n,t,s),e.elementType=Po,e.lanes=i,e;case Lo:return e=Ze(19,n,t,s),e.elementType=Lo,e.lanes=i,e;case Vu:return Pi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yu:o=10;break e;case Xu:o=9;break e;case Al:o=11;break e;case Dl:o=14;break e;case Dt:o=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Ze(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function pn(e,t,n,r){return e=Ze(7,e,r,t),e.lanes=n,e}function Pi(e,t,n,r){return e=Ze(22,e,r,t),e.elementType=Vu,e.lanes=n,e.stateNode={isHidden:!1},e}function go(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function yo(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ug(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ya(e,t,n,r,s,i,o,l,c){return e=new Ug(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ea(i),e}function Hg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Oh(e){if(!e)return qt;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Re(n))return Od(e,n,t)}return t}function Fh(e,t,n,r,s,i,o,l,c){return e=ya(n,r,!0,e,s,i,o,l,c),e.context=Oh(null),n=e.current,r=Me(),s=Qt(n),i=bt(r,s),i.callback=t??null,Vt(n,i,s),e.current.lanes=s,rs(e,s,r),Oe(e,r),e}function Li(e,t,n,r){var s=t.current,i=Me(),o=Qt(s);return n=Oh(n),t.context===null?t.context=n:t.pendingContext=n,t=bt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,o),e!==null&&(lt(e,s,o,i),Fs(e,s,o)),o}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function va(e,t){iu(e,t),(e=e.alternate)&&iu(e,t)}function Bg(){return null}var $h=typeof reportError=="function"?reportError:function(e){console.error(e)};function xa(e){this._internalRoot=e}zi.prototype.render=xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));Li(e,t,null,null)};zi.prototype.unmount=xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Li(null,e,null,null)}),t[Pt]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&xd(e)}};function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ou(){}function Yg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=yi(o);i.call(u)}}var o=Fh(t,r,e,0,null,!1,!1,"",ou);return e._reactRootContainer=o,e[Pt]=o.current,Xr(e.nodeType===8?e.parentNode:e),xn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=yi(c);l.call(u)}}var c=ya(e,0,!1,null,null,!1,!1,"",ou);return e._reactRootContainer=c,e[Pt]=c.current,Xr(e.nodeType===8?e.parentNode:e),xn(function(){Li(t,c,n,r)}),c}function _i(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=yi(o);l.call(c)}}Li(t,o,e,s)}else o=Yg(n,t,e,s,r);return yi(o)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jr(t.pendingLanes);n!==0&&(Fl(t,n|1),Oe(t,de()),!(G&6)&&(tr=de()+500,tn()))}break;case 13:xn(function(){var r=Lt(e,1);if(r!==null){var s=Me();lt(r,e,1,s)}}),va(e,1)}};$l=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=Me();lt(t,e,134217728,n)}va(e,134217728)}};gd=function(e){if(e.tag===13){var t=Qt(e),n=Lt(e,t);if(n!==null){var r=Me();lt(n,e,t,r)}va(e,t)}};yd=function(){return q};vd=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};Wo=function(e,t,n){switch(t){case"input":if(_o(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ni(r);if(!s)throw Error(b(90));Qu(r),_o(r,s)}}}break;case"textarea":Zu(e,n);break;case"select":t=n.value,t!=null&&Hn(e,!!n.multiple,t,!1)}};sd=fa;id=xn;var Xg={usingClientEntryPoint:!1,Events:[is,Dn,Ni,nd,rd,fa]},xr={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vg={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||Bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{wi=bs.inject(Vg),pt=bs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(t))throw Error(b(200));return Hg(e,t,null,n)};Xe.createRoot=function(e,t){if(!wa(e))throw Error(b(299));var n=!1,r="",s=$h;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ya(e,1,!1,null,null,n,!1,r,s),e[Pt]=t.current,Xr(e.nodeType===8?e.parentNode:e),new xa(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return xn(e)};Xe.hydrate=function(e,t,n){if(!Ii(t))throw Error(b(200));return _i(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!wa(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$h;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Fh(t,null,e,1,n??null,s,!1,i,o),e[Pt]=t.current,Xr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zi(t)};Xe.render=function(e,t,n){if(!Ii(t))throw Error(b(200));return _i(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!Ii(e))throw Error(b(40));return e._reactRootContainer?(xn(function(){_i(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Xe.unstable_batchedUpdates=fa;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ii(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return _i(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function Wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wh)}catch(e){console.error(e)}}Wh(),Wu.exports=Xe;var ls=Wu.exports;const Gg=Mu(ls);var lu=ls;Eo.createRoot=lu.createRoot,Eo.hydrateRoot=lu.hydrateRoot;function au(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Uh(...e){return t=>{let n=!1;const r=e.map(s=>{const i=au(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():au(e[s],null)}}}}function wn(...e){return y.useCallback(Uh(...e),e)}function vi(e){const t=Kg(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,l=y.Children.toArray(i),c=l.find(qg);if(c){const u=c.props.children,d=l.map(h=>h===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Qg=vi("Slot");function Kg(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=ey(s),l=Jg(i,s.props);return s.type!==y.Fragment&&(l.ref=r?Uh(r,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zg=Symbol("radix.slottable");function qg(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zg}function Jg(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function ey(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Hh(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Hh(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bh(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Hh(e))&&(r&&(r+=" "),r+=t);return r}const cu=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uu=Bh,Yh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return uu(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=cu(d)||cu(h);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...S}=d;return Object.entries(S).every(v=>{let[w,N]=v;return Array.isArray(N)?N.includes({...i,...l}[w]):{...i,...l}[w]===N})?[...u,h,m]:u},[]);return uu(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};function ty(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Xh(t))&&(r&&(r+=" "),r+=n);return r}function Xh(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Xh(e[r]))&&(n&&(n+=" "),n+=t);return n}var Sa="-";function ny(e){var t=sy(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(l){var c=l.split(Sa);return c[0]===""&&c.length!==1&&c.shift(),Vh(c,t)||ry(l)}function o(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function Vh(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?Vh(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Sa);return(o=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var du=/^\[(.+)\]$/;function ry(e){if(du.test(e)){var t=du.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function sy(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=oy(Object.entries(e.classGroups),n);return s.forEach(function(i){var o=i[0],l=i[1];wl(l,r,o,t)}),r}function wl(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:hu(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(iy(s)){wl(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];wl(c,hu(t,l),n,r)})})}function hu(e,t){var n=e;return t.split(Sa).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function iy(e){return e.isThemeGetter}function oy(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[r,i]}):e}function ly(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):s(o,l)}}}var Gh="!";function ay(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(o){for(var l=[],c=0,u=0,d,h=0;h<o.length;h++){var m=o[h];if(c===0){if(m===r&&(n||o.slice(h,h+s)===t)){l.push(o.slice(u,h)),u=h+s;continue}if(m==="/"){d=h;continue}}m==="["?c++:m==="]"&&c--}var S=l.length===0?o:o.substring(u),v=S.startsWith(Gh),w=v?S.substring(1):S,N=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:N}}}function cy(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function uy(e){return{cache:ly(e.cacheSize),splitModifiers:ay(e),...ny(e)}}var dy=/\s+/;function hy(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(dy).map(function(o){var l=n(o),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,h=l.maybePostfixModifierPosition,m=r(h?d.substring(0,h):d),S=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:o};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:o};S=!1}var v=cy(c).join(":"),w=u?v+Gh:v;return{isTailwindClass:!0,modifierId:w,classGroupId:m,originalClassName:o,hasPostfixModifier:S}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=l+c;return i.has(d)?!1:(i.add(d),s(c,u).forEach(function(h){return i.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function fy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,o=l;function l(u){var d=t[0],h=t.slice(1),m=h.reduce(function(S,v){return v(S)},d());return r=uy(m),s=r.cache.get,i=r.cache.set,o=c,c(u)}function c(u){var d=s(u);if(d)return d;var h=hy(u,r);return i(u,h),h}return function(){return o(ty.apply(null,arguments))}}function te(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Qh=/^\[(?:([a-z-]+):)?(.+)\]$/i,py=/^\d+\/\d+$/,my=new Set(["px","full","screen"]),gy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vy=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nt(e){return hn(e)||my.has(e)||py.test(e)||Sl(e)}function Sl(e){return Nn(e,"length",Ny)}function xy(e){return Nn(e,"size",Kh)}function wy(e){return Nn(e,"position",Kh)}function Sy(e){return Nn(e,"url",Cy)}function Ms(e){return Nn(e,"number",hn)}function hn(e){return!Number.isNaN(Number(e))}function ky(e){return e.endsWith("%")&&hn(e.slice(0,-1))}function wr(e){return fu(e)||Nn(e,"number",fu)}function Y(e){return Qh.test(e)}function Sr(){return!0}function At(e){return gy.test(e)}function Ty(e){return Nn(e,"",jy)}function Nn(e,t,n){var r=Qh.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Ny(e){return yy.test(e)}function Kh(){return!1}function Cy(e){return e.startsWith("url(")}function fu(e){return Number.isInteger(Number(e))}function jy(e){return vy.test(e)}function Ey(){var e=te("colors"),t=te("spacing"),n=te("blur"),r=te("brightness"),s=te("borderColor"),i=te("borderRadius"),o=te("borderSpacing"),l=te("borderWidth"),c=te("contrast"),u=te("grayscale"),d=te("hueRotate"),h=te("invert"),m=te("gap"),S=te("gradientColorStops"),v=te("gradientColorStopPositions"),w=te("inset"),N=te("margin"),g=te("opacity"),f=te("padding"),p=te("saturate"),x=te("scale"),T=te("sepia"),C=te("skew"),j=te("space"),E=te("translate"),R=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},Q=function(){return["auto",Y,t]},U=function(){return[Y,t]},he=function(){return["",nt]},F=function(){return["auto",hn,Y]},ae=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},pe=function(){return["solid","dashed","dotted","double","none"]},xe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",Y]},O=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},X=function(){return[hn,Ms]},V=function(){return[hn,Y]};return{cacheSize:500,theme:{colors:[Sr],spacing:[nt],blur:["none","",At,Y],brightness:X(),borderColor:[e],borderRadius:["none","","full",At,Y],borderSpacing:U(),borderWidth:he(),contrast:X(),grayscale:A(),hueRotate:V(),invert:A(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[ky,Sl],inset:Q(),margin:Q(),opacity:X(),padding:U(),saturate:X(),scale:X(),sepia:A(),skew:V(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Y]}],container:["container"],columns:[{columns:[At]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ae(),[Y])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wr]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Y]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",wr]}],"grid-cols":[{"grid-cols":[Sr]}],"col-start-end":[{col:["auto",{span:["full",wr]},Y]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Sr]}],"row-start-end":[{row:["auto",{span:[wr]},Y]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Y]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Y]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Y,t]}],"min-w":[{"min-w":["min","max","fit",Y,nt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[At]},At,Y]}],h:[{h:[Y,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Y,nt]}],"max-h":[{"max-h":[Y,t,"min","max","fit"]}],"font-size":[{text:["base",At,Sl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ms]}],"font-family":[{font:[Sr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Y]}],"line-clamp":[{"line-clamp":["none",hn,Ms]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Y,nt]}],"list-image":[{"list-image":["none",Y]}],"list-style-type":[{list:["none","disc","decimal",Y]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(pe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nt]}],"underline-offset":[{"underline-offset":["auto",Y,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ae(),[wy])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xy]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sy]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(pe(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:pe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(pe())}],"outline-offset":[{"outline-offset":[Y,nt]}],"outline-w":[{outline:[nt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[nt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",At,Ty]}],"shadow-color":[{shadow:[Sr]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":xe()}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",At,Y]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[p]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Y]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Y]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Y]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[wr,Y]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Y]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nt,Ms]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var by=fy(Ey);function nn(...e){return by(Bh(e))}const My=Yh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?Qg:"button";return a.jsx(o,{className:nn(My({variant:t,size:n,className:e})),ref:i,...s})});_.displayName="Button";const H=({content:e,side:t="top",className:n="",children:r,offsetY:s=8})=>{const i=`tooltip-${ue.useId()}`,o=ue.isValidElement(r)?ue.cloneElement(r,{"aria-describedby":i}):a.jsx("span",{tabIndex:0,"aria-describedby":i,className:"inline-flex",children:r}),l=ue.useRef(null),c=ue.useRef(null),u=ue.useRef(null),[d,h]=ue.useState(!1),[m,S]=ue.useState(null),v=ue.useCallback(()=>{let f=s;if(l.current)try{const p=l.current.dataset;if(p&&p.tooltipOffset){const x=parseInt(p.tooltipOffset,10);Number.isNaN(x)||(f=x)}}catch{}return f},[s]),w=ue.useCallback(()=>{if(!l.current)return;const f=l.current.getBoundingClientRect(),p=v(),x=f.left+f.width/2,T=40;let C=f.top;t==="top"?C=f.top-T-p:t==="bottom"||t==="auto"?C=f.bottom+p:C=f.top+f.height/2,S({left:x,top:C})},[t,v]);ue.useEffect(()=>(window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[w]);const N=()=>{requestAnimationFrame(()=>w()),h(!0)},g=()=>{h(!1)};return ue.useEffect(()=>{if(!d||!u.current||!l.current)return;const f=u.current.getBoundingClientRect(),p=l.current.getBoundingClientRect(),x=v(),T=f.width/2;let C=p.left+p.width/2;const j=8+T,E=window.innerWidth-8-T;C<j&&(C=j),C>E&&(C=E);let R=p.top-f.height-x;(t==="bottom"||t==="auto")&&(R=p.bottom+x),R=Math.max(8,Math.min(window.innerHeight-f.height-8,R)),S({left:C,top:R})},[d,t,v]),a.jsxs(a.Fragment,{children:[a.jsx("span",{ref:l,onMouseEnter:N,onFocus:N,onMouseLeave:g,onBlur:g,className:`relative inline-flex ${n}`,children:o}),typeof document<"u"&&m&&d&&ls.createPortal(a.jsxs("div",{ref:u,id:i,role:"tooltip",className:"pointer-events-none opacity-100 scale-100 transition duration-150 ease-out select-none absolute z-50",style:{left:m.left,top:m.top,transform:"translateX(-50%)",pointerEvents:"none"},children:[a.jsx("span",{ref:c,className:"inline-block bg-black text-white text-xs px-3 py-1.5 rounded-md shadow-md max-w-[18rem] break-words",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e}),a.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 mt-[-6px] w-2 h-2 rotate-45 bg-black","aria-hidden":!0})]}),document.body)]})},Ut=y.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:nn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ut.displayName="Input";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ly=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),pu=e=>{const t=Ly(e);return t.charAt(0).toUpperCase()+t.slice(1)},Zh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),zy=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...Iy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zh("lucide",s),...!i&&!zy(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(e,t)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(_y,{ref:i,iconNode:t,className:Zh(`lucide-${Py(pu(e))}`,`lucide-${e}`,r),...s}));return n.displayName=pu(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Dy=W("arrow-up-down",Ay);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["circle",{cx:"9",cy:"9",r:"7",key:"p2h5vp"}],["circle",{cx:"15",cy:"15",r:"7",key:"19ennj"}]],Oy=W("blend",Ry);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$y=W("check",Fy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Uy=W("circle-question-mark",Wy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kr=W("circle",Hy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Yy=W("download",By);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],vo=W("eraser",Xy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gy=W("eye-off",Vy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ky=W("eye",Qy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],qy=W("folder-open",Zy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ev=W("folder",Jy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],mu=W("grid-3x3",tv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],gu=W("link-2",nv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yu=W("map-pin",rv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],vu=W("map",sv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M5 12h14",key:"1ays0h"}]],kl=W("minus",iv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],lv=W("moon",ov);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],cv=W("mouse-pointer-2",av);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],Ps=W("mouse",uv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],hv=W("mouse-pointer",dv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],xo=W("move",fv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],wo=W("paint-bucket",pv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v4",key:"qmzblu"}],["path",{d:"M17 2a1 1 0 0 1 1 1v9H6V3a1 1 0 0 1 1-1z",key:"ycvu00"}],["path",{d:"M6 12a1 1 0 0 0-1 1v1a2 2 0 0 0 2 2h2a1 1 0 0 1 1 1v2.9a2 2 0 1 0 4 0V17a1 1 0 0 1 1-1h2a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1",key:"iw4wnp"}]],Ls=W("paintbrush-vertical",mv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xu=W("pen",gv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],wu=W("pipette",yv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xv=W("plus",vv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Sv=W("redo-2",wv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Su=W("rotate-ccw",kv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ku=W("save",Tv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Cv=W("scissors",Nv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tu=W("settings",jv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],bv=W("shapes",Ev);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],an=W("square",Mv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],Lv=W("stamp",Pv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Iv=W("sun",zv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Tr=W("target",_v);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dv=W("trash-2",Av);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Ov=W("undo-2",Rv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],So=W("upload",Fv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],ko=W("wand-sparkles",$v);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ie=W("x",Wv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Nu=W("zoom-in",Uv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Bv=W("zoom-out",Hv);class To{constructor(t){this.showMinimap=!0,this.isDarkMode=!1,this.debugMode=!1,this.mapWidth=20,this.mapHeight=15,this.tileSizeX=64,this.tileSizeY=32,this.orientation="isometric",this.tileContentThreshold=10,this.objectSeparationSensitivity=.5,this.detectedTileData=new Map,this.layerTilesets=new Map,this.layerTileData=new Map,this.layerActiveGid=new Map,this.tilesets=[],this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.tileLayers=[],this.activeLayerId=null,this.nextLayerId=1,this.collisionData=[],this.objects=[],this.nextObjectId=1,this.selectedObjectId=null,this.tool="tiles",this.currentTool="brush",this.currentSelectionTool="rectangular",this.currentShapeTool="rectangle",this.currentStampMode="select",this.activeGid=0,this.isMouseDown=!1,this.selection={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,tiles:[]},this.isSelecting=!1,this.shapeDrawing={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,preview:[]},this.isDrawingShape=!1,this.hoverX=-1,this.hoverY=-1,this.zoom=1,this.panX=0,this.panY=0,this.isPanning=!1,this.lastPanX=0,this.lastPanY=0,this.spacePressed=!1,this.history=[],this.historyIndex=-1,this.maxHistorySize=50,this.isApplyingHistory=!1,this.hasUnsavedChanges=!1,this.autoSaveTimeout=null,this.lastSaveTimestamp=0,this.autoSaveCallback=null,this.saveStatusCallback=null,this.AUTO_SAVE_DELAY=8e3,this.IMMEDIATE_SAVE_DELAY=2e3,this.autoSaveEnabled=!0,this.eyedropperCallback=null,this.stamps=new Map,this.activeStamp=null,this.stampPreview={x:0,y:0,visible:!1},this.stampCallback=null,this.mapCanvas=t,this.initializeCanvas(),this.initializeState(),this.bindEvents(),this.createDefaultLayers(),this.saveState(),this.draw()}getTileCount(){return this.tileCount}setTileContentThreshold(t){this.tileContentThreshold=Math.max(0,Math.min(255,t))}getTileContentThreshold(){return this.tileContentThreshold}refreshTilePalette(t=!1){this.tilesetImage&&this.createTilePalette(t)}getDetectedTileInfo(){const t=[];return this.detectedTileData.forEach((n,r)=>{t.push({gid:r,width:n.width,height:n.height,sourceX:n.sourceX,sourceY:n.sourceY})}),t.sort((n,r)=>n.gid-r.gid)}getDetectedTilesForLayer(t){const n=this.layerTileData.get(t);return n?Array.from(n.entries()):[]}getCurrentLayerActiveGid(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);return t&&this.layerActiveGid.get(t.type)||0}setCurrentLayerActiveGid(t){const n=this.tileLayers.find(r=>r.id===this.activeLayerId);n&&(this.layerActiveGid.set(n.type,t),this.activeGid=t)}mergeBrushes(t){if(t.length<2)return;const n=t.map(h=>this.detectedTileData.get(h)).filter(h=>h!==void 0);if(n.length!==t.length)throw new Error("Some selected brushes not found");let r=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(const h of n)r=Math.min(r,h.sourceX),s=Math.min(s,h.sourceY),i=Math.max(i,h.sourceX+h.width),o=Math.max(o,h.sourceY+h.height);const l={sourceX:r,sourceY:s,width:i-r,height:o-s},c=Array.from(this.detectedTileData.entries()),u=c.findIndex(([h])=>t.includes(h)),d=c.filter(([h])=>!t.includes(h));d.splice(u,0,[t[0],l]),this.detectedTileData.clear(),d.forEach(([h,m],S)=>{this.detectedTileData.set(S,m)}),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Merged ${t.length} brushes into new brush at position ${u}`)}separateBrush(t){const n=this.detectedTileData.get(t);if(!n)throw new Error(`Brush ${t} not found`);const r=Array.from(this.detectedTileData.entries()),s=r.findIndex(([l])=>l===t),i=r.filter(([l])=>l!==t),o=[];if(this.tilesetImage){const l=document.createElement("canvas");l.width=n.width,l.height=n.height;const c=l.getContext("2d");if(c){c.drawImage(this.tilesetImage,n.sourceX,n.sourceY,n.width,n.height,0,0,n.width,n.height);const d=c.getImageData(0,0,n.width,n.height).data,h=new Array(n.width*n.height).fill(!1);for(let m=0;m<n.height;m++)for(let S=0;S<n.width;S++){const v=m*n.width+S;if(h[v]||this.isPixelTransparent(d,S,m,n.width))continue;const w=this.floodFillObjectDataInRegion(d,n.width,n.height,S,m,h);w&&this.isValidObjectSize(w.bounds)&&o.push({sourceX:n.sourceX+w.bounds.x,sourceY:n.sourceY+w.bounds.y,width:w.bounds.width,height:w.bounds.height})}}}o.forEach((l,c)=>{i.splice(s+c,0,[s+c,l])}),this.detectedTileData.clear(),i.forEach(([l,c],u)=>{this.detectedTileData.set(u,c)}),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Separated brush ${t} into ${o.length} new brushes`)}removeBrush(t){if(console.log(`removeBrush called with brushId: ${t}`),console.log("detectedTileData keys before removal:",Array.from(this.detectedTileData.keys())),!this.detectedTileData.has(t))throw console.error(`Brush ${t} not found in detectedTileData`),new Error(`Brush ${t} not found`);const n=Array.from(this.detectedTileData.entries());console.log("brushArray before filtering:",n.map(([s,i])=>s));const r=n.filter(([s])=>s!==t);console.log("filteredArray after filtering:",r.map(([s,i])=>s)),this.detectedTileData.clear(),r.forEach(([s,i],o)=>{this.detectedTileData.set(o,i)}),console.log("detectedTileData keys after rebuild:",Array.from(this.detectedTileData.keys())),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Removed brush ${t}`)}reorderBrush(t,n){const r=Array.from(this.detectedTileData.entries());if(t<0||t>=r.length||n<0||n>=r.length)throw new Error("Invalid brush indices for reordering");const[s]=r.splice(t,1);r.splice(n,0,s),this.detectedTileData.clear(),r.forEach(([i,o],l)=>{this.detectedTileData.set(l,o)}),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Reordered brush from index ${t} to ${n}`)}floodFillObjectDataInRegion(t,n,r,s,i,o){const l=[{x:s,y:i}];let c=s,u=s,d=i,h=i,m=0;const S=[];for(;l.length>0;){const p=l.pop(),{x,y:T}=p;if(x<0||x>=n||T<0||T>=r)continue;const C=T*n+x;o[C]||this.isPixelTransparent(t,x,T,n)||(o[C]=!0,m++,S.push({x,y:T}),c=Math.min(c,x),u=Math.max(u,x),d=Math.min(d,T),h=Math.max(h,T),l.push({x:x+1,y:T}),l.push({x:x-1,y:T}),l.push({x,y:T+1}),l.push({x,y:T-1}))}if(m===0)return null;const v=1,w=Math.max(0,c-v),N=Math.max(0,d-v),g=Math.min(n-1,u+v),f=Math.min(r-1,h+v);return{bounds:{x:w,y:N,width:g-w+1,height:f-N+1},pixels:S}}initializeCanvas(){const t=this.mapCanvas.getContext("2d");if(!t)throw new Error("Unable to get canvas context");if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas()),window.ResizeObserver){const n=new ResizeObserver(()=>this.resizeCanvas());this.mapCanvas.parentElement&&n.observe(this.mapCanvas.parentElement)}}resizeCanvas(){const t=this.mapCanvas.parentElement;t&&requestAnimationFrame(()=>{const n=t.getBoundingClientRect(),r=Math.max(1,Math.floor(n.width)),s=Math.max(1,Math.floor(n.height));(this.mapCanvas.width!==r||this.mapCanvas.height!==s)&&(this.mapCanvas.width=r,this.mapCanvas.height=s,this.draw())})}initializeState(){this.collisionData=new Array(this.mapWidth*this.mapHeight).fill(0)}bindEvents(){this.mapCanvas.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.mapCanvas.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.mapCanvas.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.mapCanvas.addEventListener("contextmenu",t=>t.preventDefault()),this.mapCanvas.addEventListener("wheel",this.handleWheel.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this)),this.mapCanvas.tabIndex=0}createDefaultLayers(){this.tileLayers=[{id:1,name:"NPC Layer",type:"npc",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:2,name:"Enemy Layer",type:"enemy",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:3,name:"Event Layer",type:"event",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:4,name:"Collision Layer",type:"collision",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:5,name:"Object Layer",type:"object",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:6,name:"Background Layer",type:"background",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1}],this.activeLayerId=6,this.nextLayerId=7,this.sortLayersByPriority()}handleMouseDown(t){const n=this.mapCanvas.getBoundingClientRect(),r=t.clientX-n.left,s=t.clientY-n.top;if(this.spacePressed)this.isPanning=!0,this.lastPanX=r,this.lastPanY=s,this.mapCanvas.style.cursor="grabbing";else{this.isMouseDown=!0;const i=this.screenToTile(r,s);i&&(this.tool==="tiles"?this.handleTileClick(i.x,i.y,t.button===2):this.tool==="selection"?this.handleSelectionStart(i.x,i.y,t.button===2):this.tool==="shape"?this.handleShapeStart(i.x,i.y,t.button===2):this.tool==="eyedropper"?this.handleEyedropper(i.x,i.y)&&(this.isMouseDown=!1):this.tool==="stamp"&&this.handleStampClick(i.x,i.y,t.button===2))}}handleMouseMove(t){const n=this.mapCanvas.getBoundingClientRect(),r=t.clientX-n.left,s=t.clientY-n.top;if(this.isPanning&&this.spacePressed){const i=r-this.lastPanX,o=s-this.lastPanY;this.setPan(i,o),this.lastPanX=r,this.lastPanY=s}else{const i=this.screenToTile(r,s);i&&(this.hoverX=i.x,this.hoverY=i.y,this.tool==="stamp"&&this.currentStampMode==="place"&&this.activeStamp&&(this.stampPreview.x=i.x,this.stampPreview.y=i.y,this.stampPreview.visible=!0),this.isMouseDown&&!this.spacePressed&&(this.tool==="tiles"?this.handleTileClick(i.x,i.y,!1):this.isSelecting?this.handleSelectionDrag(i.x,i.y):this.isDrawingShape&&this.handleShapeDrag(i.x,i.y)))}this.draw()}handleMouseUp(){this.isSelecting?this.handleSelectionEnd():this.isDrawingShape&&this.handleShapeEnd(),this.isMouseDown=!1,this.isPanning=!1}handleWheel(t){t.preventDefault();const n=t.deltaY>0?.9:1.1;this.setZoom(this.zoom*n)}handleKeyDown(t){if(t.code==="Space"&&(t.preventDefault(),this.spacePressed=!0,this.mapCanvas.style.cursor="grab"),t.ctrlKey||t.metaKey)switch(t.code){case"KeyA":t.preventDefault(),this.selectAll();break}switch(t.code){case"Delete":case"Backspace":t.preventDefault(),this.deleteSelection();break;case"Escape":t.preventDefault(),this.clearSelection(),this.isDrawingShape&&(this.shapeDrawing.active=!1,this.isDrawingShape=!1,this.shapeDrawing.preview=[],this.draw());break}}handleKeyUp(t){t.code==="Space"&&(t.preventDefault(),this.spacePressed=!1,this.mapCanvas.style.cursor="crosshair")}screenToTile(t,n){const r=this.screenToWorld(t,n);return this.raycastToTile(r.x,r.y)}handleStampClick(t,n,r){if(r){this.stampPreview.visible=!1,this.draw();return}this.currentStampMode==="create"?this.handleSelectionStart(t,n,r):this.currentStampMode==="place"&&this.activeStamp&&this.placeStamp(t,n)}handleTileClick(t,n,r){if(this.activeLayerId!==null){const s=this.tileLayers.find(i=>i.id===this.activeLayerId);if(s){const i=n*this.mapWidth+t,o=s.data[i];let l;const c=this.getCurrentLayerActiveGid();if(r)l=0;else switch(this.currentTool){case"brush":if(c===0)return;l=c;break;case"eraser":l=0;break;case"bucket":if(c===0)return;o!==c&&(this.saveState(),this.bucketFill(s,t,n,c),this.markAsChanged(),this.draw());return;default:if(c===0)return;l=c;break}o!==l&&(this.saveState(),console.log(`Painting on layer: ${s.name} (ID: ${s.id}, Type: ${s.type})`),console.log(`Position: (${t}, ${n}), Index: ${i}`),console.log(`Current value: ${o}, New value: ${l}`),console.log(`Active GID for this layer: ${c}`),s.data[i]=l,this.markAsChanged(),this.draw())}}}handleSelectionStart(t,n,r){if(r){this.clearSelection();return}const s=this.tileLayers.find(i=>i.id===this.activeLayerId);s&&(this.selection.startX=t,this.selection.startY=n,this.selection.endX=t,this.selection.endY=n,this.currentSelectionTool==="magic-wand"?(this.selectMagicWand(s,t,n),this.draw()):this.currentSelectionTool==="same-tile"?(this.selectSameTile(s,t,n),this.draw()):this.isSelecting=!0)}handleSelectionDrag(t,n){this.isSelecting&&(this.selection.endX=t,this.selection.endY=n,this.draw())}handleSelectionEnd(){if(!this.isSelecting)return;const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&(this.currentSelectionTool==="rectangular"?this.selectRectangular(t,this.selection.startX,this.selection.startY,this.selection.endX,this.selection.endY):this.currentSelectionTool==="circular"&&this.selectCircular(t,this.selection.startX,this.selection.startY,this.selection.endX,this.selection.endY),this.isSelecting=!1,this.draw())}handleShapeStart(t,n,r){if(r){this.shapeDrawing.active=!1,this.isDrawingShape=!1,this.draw();return}this.shapeDrawing.active=!0,this.shapeDrawing.startX=t,this.shapeDrawing.startY=n,this.shapeDrawing.endX=t,this.shapeDrawing.endY=n,this.shapeDrawing.preview=[],this.isDrawingShape=!0}handleShapeDrag(t,n){if(this.isDrawingShape){switch(this.shapeDrawing.endX=t,this.shapeDrawing.endY=n,this.currentShapeTool){case"rectangle":this.shapeDrawing.preview=this.drawRectangleShape(this.shapeDrawing.startX,this.shapeDrawing.startY,this.shapeDrawing.endX,this.shapeDrawing.endY);break;case"circle":this.shapeDrawing.preview=this.drawCircleShape(this.shapeDrawing.startX,this.shapeDrawing.startY,this.shapeDrawing.endX,this.shapeDrawing.endY);break;case"line":this.shapeDrawing.preview=this.drawLineShape(this.shapeDrawing.startX,this.shapeDrawing.startY,this.shapeDrawing.endX,this.shapeDrawing.endY);break}this.draw()}}handleShapeEnd(){if(!this.isDrawingShape)return;const t=this.tileLayers.find(r=>r.id===this.activeLayerId);if(!t)return;const n=this.getCurrentLayerActiveGid();this.shapeDrawing.preview.length>0&&n>0&&(this.saveState(),this.shapeDrawing.preview.forEach(r=>{const s=r.y*this.mapWidth+r.x;t.data[s]=n}),this.markAsChanged()),this.shapeDrawing.active=!1,this.isDrawingShape=!1,this.shapeDrawing.preview=[],this.draw()}handleEyedropper(t,n){const r=this.tileLayers.find(s=>s.id===this.activeLayerId);if(!r)return null;if(t>=0&&t<this.mapWidth&&n>=0&&n<this.mapHeight){const s=n*this.mapWidth+t,i=r.data[s];if(i>0)return this.setCurrentLayerActiveGid(i),this.updateTilePaletteSelection(),this.tool="tiles",this.currentTool="brush",this.mapCanvas.style.cursor="crosshair",this.eyedropperCallback&&this.eyedropperCallback(),i}return null}updateTilePaletteSelection(){const t=document.getElementById("activeGid");t&&(t.textContent=this.activeGid.toString()),document.querySelectorAll(".tile-palette .tile").forEach((r,s)=>{const i=r;s===this.activeGid-1?(i.classList.add("selected"),i.scrollIntoView({behavior:"smooth",block:"nearest"})):i.classList.remove("selected")})}draw(){this.ctx.clearRect(0,0,this.mapCanvas.width,this.mapCanvas.height),this.ctx.save(),this.drawGrid(),this.drawTiles(),this.hoverX>=0&&this.hoverY>=0&&this.drawHover(),this.drawSelection(),this.drawShapePreview(),this.ctx.restore(),this.drawMiniMap(),this.drawStampPreview(),this.drawDebugInfo()}mapToScreen(t,n){const r=(t-n)*(this.tileSizeX/2),s=(t+n)*(this.tileSizeY/2),i=this.mapCanvas.width/2+this.panX,o=100+this.panY;return{x:(r+i)*this.zoom,y:(s+o)*this.zoom}}screenToMap(t,n){const r=t/this.zoom,s=n/this.zoom,i=this.mapCanvas.width/2+this.panX,o=100+this.panY,l=r-i,c=s-o,u=l-this.tileSizeX/2,d=c-this.tileSizeY/2,h=this.tileSizeX/2,m=this.tileSizeY/2,S=(u/h+d/m)/2,v=(d/m-u/h)/2;return{x:Math.floor(S),y:Math.floor(v)}}screenToWorld(t,n){const r=t/this.zoom,s=n/this.zoom,i=this.mapCanvas.width/2+this.panX,o=100+this.panY;return{x:r-i,y:s-o}}raycastToTile(t,n){const r=[],s=this.worldToScreen(t,n);for(let i=0;i<this.mapHeight;i++)for(let o=0;o<this.mapWidth;o++)if(this.isPointInTileDiamond(t,n,o,i)){const l=this.mapToScreen(o,i),c=Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2));r.push({x:o,y:i,distance:c})}return r.length>0?(r.sort((i,o)=>i.distance-o.distance),{x:r[0].x,y:r[0].y}):null}isPointInTileDiamond(t,n,r,s){const i=this.mapToScreen(r,s),o=this.worldToScreen(t,n),l=o.x-i.x,c=o.y-i.y,u=this.tileSizeX/2*this.zoom,d=this.tileSizeY/2*this.zoom,h=.9,m=Math.abs(l/u),S=Math.abs(c/d);return m+S<=h}tileToWorld(t,n){return{x:(t-n)*(this.tileSizeX/2),y:(t+n)*(this.tileSizeY/2)}}worldToScreen(t,n){const r=this.mapCanvas.width/2+this.panX,s=100+this.panY;return{x:(t+r)*this.zoom,y:(n+s)*this.zoom}}drawDebugInfo(){if(this.debugMode){this.ctx.strokeStyle="rgba(255, 0, 0, 0.5)",this.ctx.lineWidth=1;for(let t=0;t<this.mapHeight;t++)for(let n=0;n<this.mapWidth;n++){const r=this.mapToScreen(n,t),s=this.tileSizeX/2*this.zoom,i=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y-i),this.ctx.lineTo(r.x+s,r.y),this.ctx.lineTo(r.x,r.y+i),this.ctx.lineTo(r.x-s,r.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.strokeStyle="rgba(0, 255, 0, 0.5)",this.ctx.lineWidth=1;const o=this.tileSizeX*this.zoom,l=this.tileSizeY*this.zoom,c=r.y+i,u=r.x-o/2,d=c-l;this.ctx.strokeRect(u,d,o,l),this.ctx.strokeStyle="rgba(255, 0, 0, 0.5)",this.ctx.fillStyle="rgba(255, 255, 255, 0.8)",this.ctx.font="10px Arial",this.ctx.textAlign="center",this.ctx.fillText(`${n},${t}`,r.x,r.y)}}}toggleDebugMode(){this.debugMode=!this.debugMode,this.draw()}getDebugMode(){return this.debugMode}setZoom(t){this.zoom=Math.max(.1,Math.min(5,t)),this.draw()}getZoom(){return this.zoom}zoomIn(){this.setZoom(this.zoom*1.2)}zoomOut(){this.setZoom(this.zoom/1.2)}resetZoom(){this.zoom=1,this.panX=0,this.panY=0,this.draw()}toggleMinimap(){this.showMinimap=!this.showMinimap,this.draw()}setPan(t,n){this.panX+=t,this.panY+=n,this.draw()}resizeCanvasToContainer(){this.resizeCanvas()}drawGrid(){this.ctx.strokeStyle=this.isDarkMode?"#666":"#999",this.ctx.lineWidth=Math.max(1,Math.min(3,2/this.zoom)),this.ctx.globalAlpha=.8;for(let t=0;t<this.mapHeight;t++)for(let n=0;n<this.mapWidth;n++){const r=this.mapToScreen(n,t),s=this.tileSizeX/2*this.zoom,i=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y-i),this.ctx.lineTo(r.x+s,r.y),this.ctx.lineTo(r.x,r.y+i),this.ctx.lineTo(r.x-s,r.y),this.ctx.closePath(),this.ctx.stroke()}this.ctx.globalAlpha=1}drawTiles(){const t=[...this.tileLayers].reverse();for(const n of t){if(!n.visible)continue;const r=this.layerTilesets.get(n.type);if(!r||!r.image)continue;this.ctx.globalAlpha=n.transparency||1;const s=this.layerTileData.get(n.type)||new Map;for(let i=0;i<this.mapHeight;i++)for(let o=0;o<this.mapWidth;o++){const l=i*this.mapWidth+o,c=n.data[l];c>0&&this.drawTileFromLayer(o,i,c,r,s)}}this.ctx.globalAlpha=1}drawTileFromLayer(t,n,r,s,i){if(!s.image||r<=0)return;const o=i.get(r);let l,c,u,d;if(o)l=o.sourceX,c=o.sourceY,u=o.width,d=o.height;else{const f=r-1;l=f%s.columns*this.tileSizeX,c=Math.floor(f/s.columns)*this.tileSizeY,u=this.tileSizeX,d=this.tileSizeY}const h=this.mapToScreen(t,n),m=u*this.zoom,S=d*this.zoom,v=this.tileSizeY/2*this.zoom,w=h.y+v,N=h.x-m/2,g=w-S;this.ctx.drawImage(s.image,l,c,u,d,N,g,m,S)}drawTile(t,n,r){if(!this.tilesetImage||r<=0)return;const s=this.detectedTileData.get(r);let i,o,l,c;if(s)i=s.sourceX,o=s.sourceY,l=s.width,c=s.height;else{const N=r-1;i=N%this.tilesetColumns*this.tileSizeX,o=Math.floor(N/this.tilesetColumns)*this.tileSizeY,l=this.tileSizeX,c=this.tileSizeY}const u=this.mapToScreen(t,n),d=l*this.zoom,h=c*this.zoom,m=this.tileSizeY/2*this.zoom,S=u.y+m,v=u.x-d/2,w=S-h;this.ctx.drawImage(this.tilesetImage,i,o,l,c,v,w,d,h)}drawHover(){this.ctx.strokeStyle="#007acc",this.ctx.lineWidth=Math.max(1,Math.min(3,2/this.zoom));const t=this.mapToScreen(this.hoverX,this.hoverY),n=this.tileSizeX/2*this.zoom,r=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y-r),this.ctx.lineTo(t.x+n,t.y),this.ctx.lineTo(t.x,t.y+r),this.ctx.lineTo(t.x-n,t.y),this.ctx.closePath(),this.ctx.stroke()}drawSelection(){this.isSelecting&&(this.currentSelectionTool==="rectangular"||this.currentSelectionTool==="circular")&&(this.ctx.strokeStyle="#ff6b00",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.ctx.setLineDash([5,5]),this.currentSelectionTool==="rectangular"?this.drawRectangularSelectionPreview():this.currentSelectionTool==="circular"&&this.drawCircularSelectionPreview(),this.ctx.setLineDash([])),this.selection.active&&this.selection.tiles.length>0&&(this.ctx.strokeStyle="#00ff00",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.selection.tiles.forEach(t=>{const n=this.mapToScreen(t.x,t.y),r=this.tileSizeX/2*this.zoom,s=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y-s),this.ctx.lineTo(n.x+r,n.y),this.ctx.lineTo(n.x,n.y+s),this.ctx.lineTo(n.x-r,n.y),this.ctx.closePath(),this.ctx.stroke()}))}drawRectangularSelectionPreview(){const t=Math.min(this.selection.startX,this.selection.endX),n=Math.max(this.selection.startX,this.selection.endX),r=Math.min(this.selection.startY,this.selection.endY),s=Math.max(this.selection.startY,this.selection.endY);for(let i=r;i<=s;i++)for(let o=t;o<=n;o++)if(o>=0&&o<this.mapWidth&&i>=0&&i<this.mapHeight){const l=this.mapToScreen(o,i),c=this.tileSizeX/2*this.zoom,u=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(l.x,l.y-u),this.ctx.lineTo(l.x+c,l.y),this.ctx.lineTo(l.x,l.y+u),this.ctx.lineTo(l.x-c,l.y),this.ctx.closePath(),this.ctx.stroke()}}drawCircularSelectionPreview(){const t=Math.sqrt(Math.pow(this.selection.endX-this.selection.startX,2)+Math.pow(this.selection.endY-this.selection.startY,2));for(let n=0;n<this.mapHeight;n++)for(let r=0;r<this.mapWidth;r++)if(Math.sqrt(Math.pow(r-this.selection.startX,2)+Math.pow(n-this.selection.startY,2))<=t){const i=this.mapToScreen(r,n),o=this.tileSizeX/2*this.zoom,l=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y-l),this.ctx.lineTo(i.x+o,i.y),this.ctx.lineTo(i.x,i.y+l),this.ctx.lineTo(i.x-o,i.y),this.ctx.closePath(),this.ctx.stroke()}}drawShapePreview(){!this.isDrawingShape||this.shapeDrawing.preview.length===0||(this.ctx.strokeStyle="#0099ff",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.ctx.setLineDash([3,3]),this.shapeDrawing.preview.forEach(t=>{const n=this.mapToScreen(t.x,t.y),r=this.tileSizeX/2*this.zoom,s=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y-s),this.ctx.lineTo(n.x+r,n.y),this.ctx.lineTo(n.x,n.y+s),this.ctx.lineTo(n.x-r,n.y),this.ctx.closePath(),this.ctx.stroke()}),this.ctx.setLineDash([]))}drawStampPreview(){if(!(!this.stampPreview.visible||!this.activeStamp)){this.ctx.strokeStyle="#00ff00",this.ctx.fillStyle="rgba(0, 255, 0, 0.2)",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.ctx.setLineDash([3,3]);for(let t=0;t<this.activeStamp.height;t++)for(let n=0;n<this.activeStamp.width;n++){const r=this.stampPreview.x+n,s=this.stampPreview.y+t;if(r>=0&&r<this.mapWidth&&s>=0&&s<this.mapHeight){const i=this.mapToScreen(r,s),o=this.tileSizeX/2*this.zoom,l=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y-l),this.ctx.lineTo(i.x+o,i.y),this.ctx.lineTo(i.x,i.y+l),this.ctx.lineTo(i.x-o,i.y),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}}this.ctx.setLineDash([])}}drawMiniMap(){if(!this.showMinimap)return;const t=150,n=120,r=10,s=this.mapCanvas.width-t-r,i=this.mapCanvas.height-n-r;this.ctx.save();const o=5,l=s-o,c=i-o,u=t+o*2,d=n+o*2,h=Math.min(12,Math.floor(Math.min(u,d)/6)),m=Math.min(8,Math.floor(Math.min(t,n)/8)),S=(T,C,j,E,R)=>{const P=Math.max(0,Math.min(R,Math.min(j,E)/2));this.ctx.beginPath(),this.ctx.moveTo(T+P,C),this.ctx.lineTo(T+j-P,C),this.ctx.quadraticCurveTo(T+j,C,T+j,C+P),this.ctx.lineTo(T+j,C+E-P),this.ctx.quadraticCurveTo(T+j,C+E,T+j-P,C+E),this.ctx.lineTo(T+P,C+E),this.ctx.quadraticCurveTo(T,C+E,T,C+E-P),this.ctx.lineTo(T,C+P),this.ctx.quadraticCurveTo(T,C,T+P,C),this.ctx.closePath()};this.ctx.fillStyle=this.isDarkMode?"rgba(42, 42, 42, 0.9)":"rgba(0, 0, 0, 0.7)",S(l,c,u,d,h),this.ctx.fill(),this.ctx.fillStyle=this.isDarkMode?"#2a2a2a":"#f0f0f0",S(s,i,t,n,m),this.ctx.fill(),this.ctx.strokeStyle=this.isDarkMode?"#999":"#333",this.ctx.lineWidth=1,S(s,i,t,n,m),this.ctx.stroke();const v=Math.floor(t/this.mapWidth)||1,w=Math.floor(n/this.mapHeight)||1,N=Math.max(1,Math.min(v,w)),g=this.mapWidth*N,f=this.mapHeight*N,p=s+Math.floor((t-g)/2),x=i+Math.floor((n-f)/2);this.ctx.imageSmoothingEnabled=!1;for(let T=0;T<this.tileLayers.length;T++){const C=this.tileLayers[T];if(C.visible)for(let j=0;j<this.mapHeight;j++)for(let E=0;E<this.mapWidth;E++){const R=j*this.mapWidth+E,P=C.data[R];if(P>0){const Q=p+E*N,U=x+j*N,he=P*137.5%360;this.ctx.fillStyle=`hsl(${he}, 55%, ${T===0?"45%":"60%"})`,this.ctx.fillRect(Q,U,N,N)}}}if(N>=3){this.ctx.strokeStyle=this.isDarkMode?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.05)",this.ctx.lineWidth=.5;for(let T=0;T<this.mapHeight;T++)for(let C=0;C<this.mapWidth;C++){const j=p+C*N+.25,E=x+T*N+.25;this.ctx.strokeRect(j,E,N-.5,N-.5)}}this.ctx.restore()}handleFileUpload(t,n){if(n==="tileset"){const r=new FileReader;r.onload=s=>{var o;const i=new Image;i.onload=()=>{this.tilesetImage=i,this.tilesetFileName=t.name,this.tilesetColumns=Math.floor(i.width/this.tileSizeX),this.tilesetRows=Math.floor(i.height/this.tileSizeY),this.tileCount=this.tilesetColumns*this.tilesetRows,this.createTilePalette(),this.draw()},i.src=(o=s.target)==null?void 0:o.result},r.readAsDataURL(t)}else if(n==="layerTileset"){const r=this.tileLayers.find(s=>s.id===this.activeLayerId);r&&this.setLayerTileset(r.type,t)}}createTilePalette(t=!1){const n=document.getElementById("tilesContainer");if(!n||!this.tilesetImage)return;n.innerHTML="";let r;if(t&&this.detectedTileData.size>0)r=Array.from(this.detectedTileData.entries()).map(([i,o])=>({index:i,sourceX:o.sourceX,sourceY:o.sourceY,width:o.width,height:o.height}));else{this.detectedTileData.clear(),r=this.detectVariableSizedTiles().map(l=>(this.detectedTileData.set(l.index,{sourceX:l.sourceX,sourceY:l.sourceY,width:l.width,height:l.height}),l));const o=this.tileLayers.find(l=>l.id===this.activeLayerId);if(o){const l=new Map;for(const[c,u]of this.detectedTileData.entries())l.set(c,u);this.layerTileData.set(o.type,l),console.log(`Stored ${l.size} newly detected tiles for layer type: ${o.type}`)}}let s=0;for(const i of r){const o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.width=i.width,o.height=i.height,o.className="palette-tile",o.style.setProperty("--tile-width",`${i.width}px`),o.style.setProperty("--tile-height",`${i.height}px`);const l=o.getContext("2d");l&&l.drawImage(this.tilesetImage,i.sourceX,i.sourceY,i.width,i.height,0,0,i.width,i.height);const c=document.createElement("div");c.className="brush-wrapper",c.style.position="relative",c.style.display="inline-block",c.style.margin="2px";const u=document.createElement("div");u.className="selection-number",u.style.position="absolute",u.style.top="2px",u.style.left="2px",u.style.background="red",u.style.color="white",u.style.borderRadius="50%",u.style.width="16px",u.style.height="16px",u.style.fontSize="10px",u.style.display="none",u.style.alignItems="center",u.style.justifyContent="center",u.style.fontWeight="bold",u.style.zIndex="10";const d=document.createElement("div");d.className="remove-overlay",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.right="0",d.style.bottom="0",d.style.background="rgba(255, 0, 0, 0.7)",d.style.display="none",d.style.alignItems="center",d.style.justifyContent="center",d.style.fontSize="24px",d.style.color="white",d.style.cursor="pointer",d.style.zIndex="10",d.textContent="✕",d.addEventListener("click",v=>{v.preventDefault(),v.stopPropagation(),console.log(`Remove overlay clicked for tile index: ${i.index}`),this.handleBrushRemove(i.index)}),o.addEventListener("click",v=>{v.preventDefault();const w=document.querySelector("[data-brush-tool]"),N=(w==null?void 0:w.getAttribute("data-brush-tool"))||"none";console.log(`Tile clicked! Index: ${i.index}, Current brush tool: ${N}`),N==="merge"?(console.log("Handling merge tool selection"),this.handleBrushSelection(i.index,c,u)):N==="separate"?(console.log("Handling separate tool"),this.handleBrushSeparate(i.index)):N==="remove"?(console.log("Handling remove tool"),this.handleBrushRemove(i.index)):(console.log("Normal tile selection"),this.setCurrentLayerActiveGid(i.index),this.updateActiveTile())}),c.draggable=!1,c.addEventListener("dragstart",v=>{const w=document.querySelector("[data-brush-tool]");((w==null?void 0:w.getAttribute("data-brush-tool"))||"none")==="move"?(c.style.opacity="0.5",v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",i.index.toString()),this.dispatchBrushEvent("dragstart",i.index)):v.preventDefault()}),c.addEventListener("dragend",v=>{c.style.opacity="1",this.dispatchBrushEvent("dragend",i.index)}),c.addEventListener("dragover",v=>{const w=document.querySelector("[data-brush-tool]");((w==null?void 0:w.getAttribute("data-brush-tool"))||"none")==="move"&&(v.preventDefault(),v.dataTransfer.dropEffect="move",c.style.borderTop="3px solid #007acc")}),c.addEventListener("dragleave",v=>{c.style.borderTop=""}),c.addEventListener("drop",v=>{v.preventDefault(),c.style.borderTop="";const w=document.querySelector("[data-brush-tool]");if(((w==null?void 0:w.getAttribute("data-brush-tool"))||"none")==="move"){const g=parseInt(v.dataTransfer.getData("text/plain")),f=i.index;g!==f&&this.dispatchBrushEvent("drop",{from:g,to:f})}});const h=()=>{const v=document.querySelector("[data-brush-tool]"),w=(v==null?void 0:v.getAttribute("data-brush-tool"))||"none";c.draggable=w==="move",w==="move"?(c.style.cursor="move",c.title="Drag to reorder"):(c.style.cursor="",c.title="")};h();const m=new MutationObserver(()=>{h()}),S=document.querySelector("[data-brush-tool]");S&&m.observe(S,{attributes:!0,attributeFilter:["data-brush-tool"]}),c.addEventListener("mouseenter",()=>{const v=document.querySelector("[data-brush-tool]");((v==null?void 0:v.getAttribute("data-brush-tool"))||"none")==="remove"&&(d.style.display="flex")}),c.addEventListener("mouseleave",()=>{d.style.display="none"}),o.setAttribute("data-tile-index",i.index.toString()),o.setAttribute("data-tile-width",i.width.toString()),o.setAttribute("data-tile-height",i.height.toString()),o.setAttribute("data-source-x",i.sourceX.toString()),o.setAttribute("data-source-y",i.sourceY.toString()),c.appendChild(o),c.appendChild(u),c.appendChild(d),n.appendChild(c),s++}console.log(`Created ${s} variable-sized tiles from tileset`)}handleBrushSelection(t,n,r){if(n.classList.contains("brush-selected"))n.classList.remove("brush-selected"),r.style.display="none",this.dispatchBrushEvent("deselect",t);else{n.classList.add("brush-selected"),r.style.display="flex";const i=document.querySelectorAll(".brush-selected").length;r.textContent=i.toString(),this.dispatchBrushEvent("select",t)}}handleBrushSeparate(t){this.dispatchBrushEvent("separate",t)}handleBrushRemove(t){console.log(`handleBrushRemove called with tileIndex: ${t}`),this.dispatchBrushEvent("remove",t)}dispatchBrushEvent(t,n){const r=new CustomEvent("brushAction",{detail:typeof n=="number"?{action:t,tileIndex:n}:{action:t,...n}});document.dispatchEvent(r)}detectVariableSizedTiles(){if(!this.tilesetImage)return[];const t=[],n=document.createElement("canvas");n.width=this.tilesetImage.width,n.height=this.tilesetImage.height;const r=n.getContext("2d");if(!r)return[];r.drawImage(this.tilesetImage,0,0);const i=r.getImageData(0,0,this.tilesetImage.width,this.tilesetImage.height).data,o=new Array(this.tilesetImage.width*this.tilesetImage.height).fill(!1);let l=1;const c=[];for(let u=0;u<this.tilesetImage.height;u++)for(let d=0;d<this.tilesetImage.width;d++){const h=u*this.tilesetImage.width+d;if(o[h]||this.isPixelTransparent(i,d,u,this.tilesetImage.width))continue;const m=this.floodFillObjectData(i,this.tilesetImage.width,this.tilesetImage.height,d,u,o);m&&this.isValidObjectSize(m.bounds)&&c.push(m)}for(const u of c){const d=this.intelligentObjectSplit(u);for(const h of d)t.push({index:l++,sourceX:h.x,sourceY:h.y,width:h.width,height:h.height})}return t}isPixelTransparent(t,n,r,s){const i=(r*s+n)*4+3;return t[i]<=this.tileContentThreshold}floodFillObjectData(t,n,r,s,i,o){const l=[{x:s,y:i}];let c=s,u=s,d=i,h=i,m=0;const S=[];for(;l.length>0;){const p=l.pop(),{x,y:T}=p;if(x<0||x>=n||T<0||T>=r)continue;const C=T*n+x;o[C]||this.isPixelTransparent(t,x,T,n)||(o[C]=!0,m++,S.push({x,y:T}),c=Math.min(c,x),u=Math.max(u,x),d=Math.min(d,T),h=Math.max(h,T),l.push({x:x+1,y:T}),l.push({x:x-1,y:T}),l.push({x,y:T+1}),l.push({x,y:T-1}),l.push({x:x+1,y:T+1}),l.push({x:x+1,y:T-1}),l.push({x:x-1,y:T+1}),l.push({x:x-1,y:T-1}))}if(m===0)return null;const v=1,w=Math.max(0,c-v),N=Math.max(0,d-v),g=Math.min(n-1,u+v),f=Math.min(r-1,h+v);return{bounds:{x:w,y:N,width:g-w+1,height:f-N+1},pixels:S}}intelligentObjectSplit(t){const{bounds:n,pixels:r}=t,{width:s,height:i}=n,o=r.length,l=s*i,c=o/l,u=Math.max(this.tileSizeX,this.tileSizeY),d=this.shouldSplitDirection(r,n,"horizontal",u),h=this.shouldSplitDirection(r,n,"vertical",u),m=this.isFloorPattern(n,r),S=this.isVerticalWall(n,r),v=this.isHorizontalWall(n,r);return console.log(`Object analysis: ${s}x${i}, density: ${c.toFixed(2)}, floor: ${m}, vWall: ${S}, hWall: ${v}`),m?(console.log("Detected floor/ground pattern - splitting into individual tiles"),this.splitObjectByGrid(t,"horizontal")):S?(console.log("Detected vertical wall/structure - keeping as single tile"),[n]):v?(console.log("Detected horizontal wall - keeping as single tile"),[n]):d&&s>this.tileSizeX*1.5?(console.log("Splitting horizontal arrangement into individual objects"),this.splitObjectByGrid(t,"horizontal")):h&&i>this.tileSizeY*1.5&&!this.isLikelySingleVerticalObject(n,r)?(console.log("Splitting vertical arrangement into individual objects"),this.splitObjectByGrid(t,"vertical")):c<.4&&l>u*u*2?(console.log("Splitting sparse large object"),this.splitObjectByDensity(t)):(s>this.tileSizeX*1.8||i>this.tileSizeY*1.8)&&!S&&!v&&c<.8?(console.log("Splitting large non-wall object into tile-sized pieces"),this.splitObjectByGrid(t,s>i?"horizontal":"vertical")):(console.log("Keeping as single object"),[n])}isVerticalWall(t,n){const{width:r,height:s}=t,i=s/r,o=n.length/(r*s);if(i<1.5||o<.5)return!1;const l=this.hasConsistentVerticalWidth(n,t),c=this.hasVerticalContinuity(n,t),u=s>this.tileSizeY*1.5&&r<=this.tileSizeX*1.2;return l&&c||u&&o>.6}isHorizontalWall(t,n){const{width:r,height:s}=t,i=r/s,o=n.length/(r*s);if(i<2||o<.6||s<this.tileSizeY*.7)return!1;const l=this.hasConsistentHorizontalHeight(n,t),c=this.hasHorizontalContinuity(n,t);return l&&c}isLikelySingleVerticalObject(t,n){const{width:r,height:s}=t;return n.length/(r*s)>.7?!0:this.hasVerticalContinuity(n,t)}hasConsistentVerticalWidth(t,n){const{y:r,height:s}=n,i=Math.max(1,Math.floor(s/5)),o=[];for(let d=0;d<5;d++){const h=r+d*i,m=Math.min(h+i,r+s);let S=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,w=!1;for(const N of t)N.y>=h&&N.y<m&&(S=Math.min(S,N.x),v=Math.max(v,N.x),w=!0);w&&o.push(v-S+1)}if(o.length<2)return!1;const l=o.reduce((d,h)=>d+h,0)/o.length,c=o.reduce((d,h)=>d+Math.pow(h-l,2),0)/o.length,u=Math.sqrt(c);return l>0&&u/l<.3}hasConsistentHorizontalHeight(t,n){const{x:r,width:s}=n,i=Math.max(1,Math.floor(s/5)),o=[];for(let d=0;d<5;d++){const h=r+d*i,m=Math.min(h+i,r+s);let S=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,w=!1;for(const N of t)N.x>=h&&N.x<m&&(S=Math.min(S,N.y),v=Math.max(v,N.y),w=!0);w&&o.push(v-S+1)}if(o.length<2)return!1;const l=o.reduce((d,h)=>d+h,0)/o.length,c=o.reduce((d,h)=>d+Math.pow(h-l,2),0)/o.length,u=Math.sqrt(c);return l>0&&u/l<.3}hasVerticalContinuity(t,n){const{y:r,height:s}=n,i=Math.max(1,Math.floor(s/10));let o=0,l=0;for(let c=r;c<r+s;c+=i){const u=Math.min(c+i,r+s);let d=!1;for(const h of t)if(h.y>=c&&h.y<u){d=!0;break}d&&o++,l++}return l>0&&o/l>=.7}hasHorizontalContinuity(t,n){const{x:r,width:s}=n,i=Math.max(1,Math.floor(s/10));let o=0,l=0;for(let c=r;c<r+s;c+=i){const u=Math.min(c+i,r+s);let d=!1;for(const h of t)if(h.x>=c&&h.x<u){d=!0;break}d&&o++,l++}return l>0&&o/l>=.7}isFloorPattern(t,n){const{width:r,height:s}=t,i=s<=this.tileSizeY*.6,o=r>this.tileSizeX*1.3,l=this.hasRepeatingHorizontalPattern(n,t),c=this.hasDiamondLikeShape(n,t);return i&&o||l&&o||c&&o}hasRepeatingHorizontalPattern(t,n){const{x:r,width:s}=n,i=this.tileSizeX,o=Math.floor(s/i);if(o<2)return!1;const l=[];for(let h=0;h<o;h++){const m=r+h*i,S=m+i;let v=0;for(const w of t)w.x>=m&&w.x<S&&v++;l.push(v)}const c=l.reduce((h,m)=>h+m,0)/l.length,u=l.reduce((h,m)=>h+Math.pow(m-c,2),0)/l.length,d=Math.sqrt(u);return c>0&&d/c<.5}hasDiamondLikeShape(t,n){const{y:r,height:s}=n,i=[];for(let h=0;h<s;h++){let m=0;for(const S of t)S.y===r+h&&m++;i.push(m)}if(i.length<3)return!1;const o=Math.floor(i.length*.2),l=Math.floor(i.length*.3),c=Math.floor(i.length*.7),u=(i.slice(0,o).reduce((h,m)=>h+m,0)+i.slice(-o).reduce((h,m)=>h+m,0))/(o*2||1);return i.slice(l,c).reduce((h,m)=>h+m,0)/(c-l||1)>u*1.2}shouldSplitDirection(t,n,r,s){const{x:i,y:o,width:l,height:c}=n;if(r==="horizontal"){const u=[],d=Math.max(1,Math.floor(l/(l/s)));for(let v=0;v<l;v+=d){let w=0;for(const N of t)N.x>=i+v&&N.x<i+v+d&&w++;u.push(w)}let h=0,m=0;const S=u.reduce((v,w)=>v+w,0)/u.length;for(let v=0;v<u.length;v++)u[v]<S*.3?h++:u[v]>S*.7&&m++;return m>=2&&h>=1}else{const u=[],d=Math.max(1,Math.floor(c/(c/s)));for(let v=0;v<c;v+=d){let w=0;for(const N of t)N.y>=o+v&&N.y<o+v+d&&w++;u.push(w)}let h=0,m=0;const S=u.reduce((v,w)=>v+w,0)/u.length;for(let v=0;v<u.length;v++)u[v]<S*.3?h++:u[v]>S*.7&&m++;return m>=2&&h>=1}}splitObjectByGrid(t,n){const{bounds:r}=t,s=[];if(n==="horizontal"){const i=this.tileSizeX;for(let o=r.x;o<r.x+r.width;o+=i){const l=this.findContentInRegion(t.pixels,{x:o,y:r.y,width:Math.min(i,r.x+r.width-o),height:r.height});l&&s.push(l)}}else{const i=this.tileSizeY;for(let o=r.y;o<r.y+r.height;o+=i){const l=this.findContentInRegion(t.pixels,{x:r.x,y:o,width:r.width,height:Math.min(i,r.y+r.height-o)});l&&s.push(l)}}return s.length>0?s:[r]}splitObjectByDensity(t){const{bounds:n}=t,r=Math.min(this.tileSizeX,this.tileSizeY),s=[];for(let i=n.y;i<n.y+n.height;i+=r)for(let o=n.x;o<n.x+n.width;o+=r){const l=this.findContentInRegion(t.pixels,{x:o,y:i,width:Math.min(r,n.x+n.width-o),height:Math.min(r,n.y+n.height-i)});l&&s.push(l)}return s.length>0?s:[n]}findContentInRegion(t,n){let r=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,l=!1;for(const u of t)u.x>=n.x&&u.x<n.x+n.width&&u.y>=n.y&&u.y<n.y+n.height&&(r=Math.min(r,u.x),s=Math.max(s,u.x),i=Math.min(i,u.y),o=Math.max(o,u.y),l=!0);if(!l)return null;const c=1;return{x:Math.max(0,r-c),y:Math.max(0,i-c),width:s-r+1+c*2,height:o-i+1+c*2}}isValidObjectSize(t){var s,i;const r=Math.max(((s=this.tilesetImage)==null?void 0:s.width)||512,((i=this.tilesetImage)==null?void 0:i.height)||512);return t.width>=8&&t.height>=8&&t.width<=r&&t.height<=r&&t.width*t.height>=8*8}setObjectSeparationSensitivity(t){this.objectSeparationSensitivity=Math.max(0,Math.min(1,t))}getObjectSeparationSensitivity(){return this.objectSeparationSensitivity}tileHasContent(t){try{const r=t.getImageData(0,0,this.tileSizeX,this.tileSizeY).data;for(let s=3;s<r.length;s+=4)if(r[s]>this.tileContentThreshold)return!0;return!1}catch(n){return console.warn("Could not analyze tile content, assuming tile has content:",n),!0}}updateActiveTile(){const t=document.getElementById("activeGid");if(t&&(t.textContent=this.activeGid.toString()),document.querySelectorAll(".palette-tile").forEach(r=>r.classList.remove("selected")),this.activeGid>0){const r=document.querySelector(`.palette-tile[data-tile-index="${this.activeGid}"]`);r&&r.classList.add("selected")}}resizeMap(t,n){this.mapWidth=t,this.mapHeight=n;for(const r of this.tileLayers){const s=new Array(t*n).fill(0);for(let i=0;i<Math.min(n,this.mapHeight);i++)for(let o=0;o<Math.min(t,this.mapWidth);o++){const l=i*this.mapWidth+o,c=i*t+o;l<r.data.length&&(s[c]=r.data[l])}r.data=s}this.draw(),this.markAsChanged(!0)}addLayer(t,n){if(this.tileLayers.find(i=>i.type===n))return!1;this.saveState();const s={id:this.nextLayerId++,name:t,type:n,data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1};return this.tileLayers.push(s),this.sortLayersByPriority(),this.activeLayerId=s.id,this.draw(),this.markAsChanged(!0),!0}sortLayersByPriority(){const t={npc:1,enemy:2,event:3,collision:4,object:5,background:6};this.tileLayers.sort((n,r)=>t[n.type]-t[r.type])}deleteLayer(t){if(this.tileLayers.length<=1)return!1;const n=this.tileLayers.findIndex(r=>r.id===t);return n!==-1?(this.saveState(),this.tileLayers.splice(n,1),this.activeLayerId===t&&(this.activeLayerId=this.tileLayers.length>0?this.tileLayers[0].id:null),this.draw(),this.markAsChanged(!0),!0):!1}setActiveLayer(t){this.activeLayerId=t;const n=this.tileLayers.find(r=>r.id===t);n&&this.updateCurrentTileset(n.type),this.draw()}toggleLayerVisibility(t){const n=this.tileLayers.find(r=>r.id===t);n&&(n.visible=!n.visible,this.draw())}setLayerTransparency(t,n){const r=this.tileLayers.find(s=>s.id===t);r&&(r.transparency=Math.max(0,Math.min(1,n)),this.draw())}setMapSize(t,n){this.mapWidth=t,this.mapHeight=n,this.collisionData=new Array(t*n).fill(0),this.tileLayers.forEach(r=>{const s=r.data;r.data=new Array(t*n).fill(0);for(let i=0;i<Math.min(n,15);i++)for(let o=0;o<Math.min(t,20);o++){const l=i*20+o,c=i*t+o;l<s.length&&(r.data[c]=s[l])}}),this.draw()}renameLayer(t,n){const r=this.tileLayers.find(s=>s.id===t);r&&(r.name=n)}changeLayerType(t,n,r){const s=this.tileLayers.find(i=>i.id===t);return s?(s.type=n,s.name=r,this.sortLayersByPriority(),!0):!1}setLayerType(t,n){const r=this.tileLayers.find(s=>s.id===t);r&&(r.type=n,this.sortLayersByPriority())}getLayers(){return this.tileLayers}getActiveLayerId(){return this.activeLayerId}getHoverCoordinates(){return this.hoverX>=0&&this.hoverY>=0?{x:this.hoverX,y:this.hoverY}:null}setCurrentTool(t){this.currentTool=t,this.tool="tiles"}getCurrentTool(){return this.currentTool}setCurrentSelectionTool(t){this.currentSelectionTool=t,this.tool="selection"}getCurrentSelectionTool(){return this.currentSelectionTool}setCurrentShapeTool(t){this.currentShapeTool=t,this.tool="shape"}getCurrentShapeTool(){return this.currentShapeTool}setEyedropperTool(){this.tool="eyedropper",this.mapCanvas.style.cursor="crosshair"}isEyedropperActive(){return this.tool==="eyedropper"}setEyedropperCallback(t){this.eyedropperCallback=t}setStampTool(){this.tool="stamp",this.mapCanvas.style.cursor="crosshair",this.stampPreview.visible=!1}isStampActive(){return this.tool==="stamp"}setCurrentStampMode(t){this.currentStampMode=t,this.stampPreview.visible=t==="place"&&this.activeStamp!==null,this.draw()}getCurrentStampMode(){return this.currentStampMode}createStampFromSelection(t){if(!this.selection.active||this.selection.tiles.length===0)return!1;let n=1/0,r=1/0,s=-1/0,i=-1/0;for(const h of this.selection.tiles)n=Math.min(n,h.x),r=Math.min(r,h.y),s=Math.max(s,h.x),i=Math.max(i,h.y);const o=s-n+1,l=i-r+1,c=[],u=this.activeLayerId||0;for(const h of this.selection.tiles)h.gid>0&&c.push({tileId:h.gid,layerId:u,x:h.x-n,y:h.y-r});const d={id:Date.now().toString(),name:t,width:o,height:l,tiles:c};return this.stamps.set(d.id,d),this.clearSelection(),this.stampCallback&&this.stampCallback(Array.from(this.stamps.values())),!0}setActiveStamp(t){t&&this.stamps.has(t)?(this.activeStamp=this.stamps.get(t),this.currentStampMode="place",this.stampPreview.visible=!0):(this.activeStamp=null,this.stampPreview.visible=!1),this.draw()}getStamps(){return Array.from(this.stamps.values())}deleteStamp(t){return this.stamps.has(t)?(this.stamps.delete(t),this.activeStamp&&this.activeStamp.id===t&&(this.activeStamp=null,this.stampPreview.visible=!1),this.stampCallback&&this.stampCallback(Array.from(this.stamps.values())),this.draw(),!0):!1}setStampCallback(t){this.stampCallback=t}placeStamp(t,n){if(this.activeStamp&&!(t<0||n<0||t+this.activeStamp.width>this.mapWidth||n+this.activeStamp.height>this.mapHeight)){for(const r of this.activeStamp.tiles){const s=t+r.x,o=(n+r.y)*this.mapWidth+s;let l=this.tileLayers.find(c=>c.id===r.layerId);!l&&this.activeLayerId!==null&&(l=this.tileLayers.find(c=>c.id===this.activeLayerId)),l&&(l.data[o]=r.tileId)}this.saveState(),this.draw()}}clearSelection(){this.selection.active=!1,this.selection.tiles=[],this.draw()}hasActiveSelection(){return this.selection.active&&this.selection.tiles.length>0}getSelection(){return[...this.selection.tiles]}selectAll(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);if(t){this.selection.tiles=[];for(let n=0;n<this.mapHeight;n++)for(let r=0;r<this.mapWidth;r++){const s=n*this.mapWidth+r,i=t.data[s];this.selection.tiles.push({x:r,y:n,gid:i})}this.selection.active=!0,this.draw()}}deleteSelection(){if(!this.selection.active||this.selection.tiles.length===0)return;const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&(this.saveState(),this.selection.tiles.forEach(n=>{const r=n.y*this.mapWidth+n.x;t.data[r]=0}),this.clearSelection(),this.markAsChanged(),this.draw())}fillSelection(){if(!this.selection.active||this.selection.tiles.length===0||this.activeGid===0)return;const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&(this.saveState(),this.selection.tiles.forEach(n=>{const r=n.y*this.mapWidth+n.x;t.data[r]=this.activeGid}),this.markAsChanged(),this.draw())}bucketFill(t,n,r,s){const i=t.data[r*this.mapWidth+n];if(i===s)return;const o=[{x:n,y:r}],l=new Set;for(;o.length>0;){const{x:c,y:u}=o.pop(),d=u*this.mapWidth+c;c<0||c>=this.mapWidth||u<0||u>=this.mapHeight||l.has(d)||t.data[d]===i&&(l.add(d),t.data[d]=s,o.push({x:c+1,y:u}),o.push({x:c-1,y:u}),o.push({x:c,y:u+1}),o.push({x:c,y:u-1}))}}selectRectangular(t,n,r,s,i){this.selection.tiles=[];const o=Math.min(n,s),l=Math.max(n,s),c=Math.min(r,i),u=Math.max(r,i);for(let d=c;d<=u;d++)for(let h=o;h<=l;h++)if(h>=0&&h<this.mapWidth&&d>=0&&d<this.mapHeight){const m=d*this.mapWidth+h,S=t.data[m];this.selection.tiles.push({x:h,y:d,gid:S})}this.selection.active=!0}selectMagicWand(t,n,r){const s=t.data[r*this.mapWidth+n];this.selection.tiles=[];const i=[{x:n,y:r}],o=new Set;for(;i.length>0;){const{x:l,y:c}=i.pop(),u=c*this.mapWidth+l;l<0||l>=this.mapWidth||c<0||c>=this.mapHeight||o.has(u)||t.data[u]===s&&(o.add(u),this.selection.tiles.push({x:l,y:c,gid:s}),i.push({x:l+1,y:c}),i.push({x:l-1,y:c}),i.push({x:l,y:c+1}),i.push({x:l,y:c-1}))}this.selection.active=!0}selectSameTile(t,n,r){const s=t.data[r*this.mapWidth+n];this.selection.tiles=[];for(let i=0;i<this.mapHeight;i++)for(let o=0;o<this.mapWidth;o++){const l=i*this.mapWidth+o;t.data[l]===s&&this.selection.tiles.push({x:o,y:i,gid:s})}this.selection.active=!0}selectCircular(t,n,r,s,i){this.selection.tiles=[];const o=Math.sqrt(Math.pow(s-n,2)+Math.pow(i-r,2));for(let l=0;l<this.mapHeight;l++)for(let c=0;c<this.mapWidth;c++)if(Math.sqrt(Math.pow(c-n,2)+Math.pow(l-r,2))<=o){const d=l*this.mapWidth+c,h=t.data[d];this.selection.tiles.push({x:c,y:l,gid:h})}this.selection.active=!0}drawRectangleShape(t,n,r,s){const i=[],o=Math.min(t,r),l=Math.max(t,r),c=Math.min(n,s),u=Math.max(n,s);for(let d=o;d<=l;d++)for(let h=c;h<=u;h++)(d===o||d===l||h===c||h===u)&&d>=0&&d<this.mapWidth&&h>=0&&h<this.mapHeight&&i.push({x:d,y:h});return i}drawCircleShape(t,n,r,s){const i=[],o=Math.sqrt(Math.pow(r-t,2)+Math.pow(s-n,2));for(let l=0;l<360;l+=1){const c=l*Math.PI/180,u=Math.round(t+o*Math.cos(c)),d=Math.round(n+o*Math.sin(c));u>=0&&u<this.mapWidth&&d>=0&&d<this.mapHeight&&(i.some(h=>h.x===u&&h.y===d)||i.push({x:u,y:d}))}return i}drawLineShape(t,n,r,s){const i=[],o=Math.abs(r-t),l=Math.abs(s-n),c=t<r?1:-1,u=n<s?1:-1;let d=o-l,h=t,m=n,S=!1;for(;!S;){if(h>=0&&h<this.mapWidth&&m>=0&&m<this.mapHeight&&i.push({x:h,y:m}),h===r&&m===s){S=!0;continue}const v=2*d;v>-l&&(d-=l,h+=c),v<o&&(d+=o,m+=u)}return i}setLayerTileset(t,n){const r=new Image;r.onload=()=>{const s=Math.floor(r.width/this.tileSizeX),i=Math.floor(r.height/this.tileSizeY),o=s*i;this.layerTilesets.set(t,{image:r,fileName:n.name,columns:s,rows:i,count:o});const l=this.tileLayers.find(c=>c.id===this.activeLayerId);l&&l.type===t&&this.updateCurrentTileset(t)},r.src=URL.createObjectURL(n)}getCurrentLayerType(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);return t?t.type:null}hasLayerTileset(t){return this.layerTilesets.has(t)}updateCurrentTileset(t){const n=this.layerTilesets.get(t);if(n){this.tilesetImage=n.image,this.tilesetFileName=n.fileName,this.tilesetColumns=n.columns,this.tilesetRows=n.rows,this.tileCount=n.count;const r=this.layerTileData.get(t);if(this.detectedTileData.clear(),r)for(const[i,o]of r.entries())this.detectedTileData.set(i,o);const s=this.layerActiveGid.get(t)||0;this.activeGid=s,this.createTilePalette()}else this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.detectedTileData.clear(),this.activeGid=0,this.clearTilePalette()}clearTilePalette(){const t=document.getElementById("tilesContainer");t&&(t.innerHTML="")}clearLayer(){if(this.activeLayerId!==null){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&t.data.fill(0)}this.draw()}removeLayerTileset(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);if(t){const n=t.type;this.layerTilesets.delete(n),this.layerTileData.delete(n),this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.detectedTileData.clear(),this.activeGid=0,this.clearTilePalette(),this.draw()}}exportFlareMap(){if(!this.tilesetImage||!this.tilesetFileName){alert("Please load a tileset first before exporting.");return}const t=this.generateFlareMapTxt(),n=this.generateFlareTilesetDef();this.downloadFile(t,"map.txt","text/plain"),this.downloadFile(n,"tileset.txt","text/plain"),console.log("Flare map and tileset definition exported successfully!")}autoSaveExport(){if(!this.tilesetImage||!this.tilesetFileName||!this.tileLayers.some(n=>n.data.some(r=>r!==0)))return!1;try{return this.saveToLocalStorage(),!0}catch(n){return console.warn("Auto-save failed:",n),!1}}generateFlareMapTxt(){const t=[];t.push("[header]"),t.push(`width=${this.mapWidth}`),t.push(`height=${this.mapHeight}`),t.push(`tilewidth=${this.tileSizeX}`),t.push(`tileheight=${this.tileSizeY}`),t.push("orientation=isometric"),t.push("tileset=tileset.txt"),t.push("");for(const n of this.tileLayers)if(n.visible){t.push("[layer]"),t.push(`type=${n.type}`),t.push("data=");for(let r=0;r<this.mapHeight;r++){const s=[];for(let i=0;i<this.mapWidth;i++){const o=r*this.mapWidth+i;s.push(n.data[o].toString())}t.push(s.join(","))}t.push("")}return t.join(`
`)}generateFlareTilesetDef(){if(!this.tilesetFileName)return"";const t=[];t.push(`img=../maps/${this.tilesetFileName}`),t.push("");for(let n=0;n<this.tileCount;n++){const r=n+1,s=n%this.tilesetColumns*this.tileSizeX,i=Math.floor(n/this.tilesetColumns)*this.tileSizeY,o=this.tileSizeX,l=this.tileSizeY,c=this.tileSizeX/2,u=this.tileSizeY/2;t.push(`tile=${r},${s},${i},${o},${l},${c},${u}`)}return t.join(`
`)}downloadFile(t,n,r){const s=new Blob([t],{type:r}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}saveState(){if(this.isApplyingHistory)return;const t={layers:this.tileLayers.map(n=>({...n,data:[...n.data]})),objects:this.objects.map(n=>({...n}))};this.history=this.history.slice(0,this.historyIndex+1),this.history.push(t),this.historyIndex=this.history.length-1,this.history.length>this.maxHistorySize&&(this.history.shift(),this.historyIndex--),this.markAsChanged(!1)}deepCopyLayers(t){return t.map(n=>({...n,data:[...n.data]}))}deepCopyObjects(t){return t.map(n=>({...n}))}undo(){this.historyIndex>0&&(this.historyIndex--,this.applyHistoryState())}redo(){this.historyIndex<this.history.length-1&&(this.historyIndex++,this.applyHistoryState())}applyHistoryState(){if(this.historyIndex>=0&&this.historyIndex<this.history.length){this.isApplyingHistory=!0;const t=this.history[this.historyIndex];this.tileLayers=this.deepCopyLayers(t.layers),this.objects=this.deepCopyObjects(t.objects),this.draw(),this.isApplyingHistory=!1}}setAutoSaveCallback(t){this.autoSaveCallback=t}setSaveStatusCallback(t){this.saveStatusCallback=t}setAutoSaveEnabled(t){this.autoSaveEnabled=t,!t&&this.autoSaveTimeout&&(clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=null)}setDarkMode(t){this.isDarkMode=t,this.draw()}markAsChanged(t=!1){if(!this.autoSaveEnabled)return;this.hasUnsavedChanges=!0,this.updateSaveStatus("unsaved"),this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout);const n=t?this.IMMEDIATE_SAVE_DELAY:this.AUTO_SAVE_DELAY;this.autoSaveTimeout=window.setTimeout(()=>{this.performAutoSave()},n)}async performAutoSave(){if(this.hasUnsavedChanges)try{this.updateSaveStatus("saving"),this.autoSaveExport()?(this.autoSaveCallback&&await this.autoSaveCallback(),this.hasUnsavedChanges=!1,this.lastSaveTimestamp=Date.now(),this.updateSaveStatus("saved")):this.updateSaveStatus("saved"),this.autoSaveTimeout=null}catch(t){console.error("Auto-save failed:",t),this.updateSaveStatus("error"),this.autoSaveTimeout=window.setTimeout(()=>{this.performAutoSave()},15e3)}}saveToLocalStorage(){try{const t={timestamp:Date.now(),mapWidth:this.mapWidth,mapHeight:this.mapHeight,layers:this.tileLayers,objects:this.objects,tilesetFileName:this.tilesetFileName,tilesetImage:this.tilesetImage?this.canvasToDataURL(this.tilesetImage):null,tileSizeX:this.tileSizeX,tileSizeY:this.tileSizeY,detectedTileData:Array.from(this.detectedTileData.entries()),tileContentThreshold:this.tileContentThreshold,objectSeparationSensitivity:this.objectSeparationSensitivity};localStorage.setItem("tilemap_autosave_backup",JSON.stringify(t))}catch(t){console.warn("Failed to save to localStorage:",t)}}canvasToDataURL(t){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");return r?(r.drawImage(t,0,0),n.toDataURL("image/png")):""}generateMinimapDataUrl(){try{const r=Math.max(1,Math.floor(Math.min(160/Math.max(1,this.mapWidth),120/Math.max(1,this.mapHeight)))),s=this.mapWidth*r,i=this.mapHeight*r,o=document.createElement("canvas");o.width=s,o.height=i;const l=o.getContext("2d");if(!l)return"";l.imageSmoothingEnabled=!1,l.fillStyle="#ffffff",l.fillRect(0,0,s,i);for(let c=0;c<this.tileLayers.length;c++){const u=this.tileLayers[c];if(u.visible)for(let d=0;d<this.mapHeight;d++)for(let h=0;h<this.mapWidth;h++){const m=d*this.mapWidth+h,S=u.data[m];if(S>0){const v=S*137.5%360;l.fillStyle=`hsl(${v},55%,${c===0?"45%":"60%"})`,l.fillRect(h*r,d*r,r,r)}}}return o.toDataURL("image/png")}catch(t){return console.warn("generateMinimapDataUrl failed",t),""}}loadFromLocalStorage(){try{const t=localStorage.getItem("tilemap_autosave_backup");if(!t)return!1;const n=JSON.parse(t);if(Date.now()-n.timestamp>24*60*60*1e3)return!1;if(this.mapWidth=n.mapWidth,this.mapHeight=n.mapHeight,this.tileLayers=n.layers,this.objects=n.objects,this.tilesetFileName=n.tilesetFileName,n.tileContentThreshold!==void 0&&(this.tileContentThreshold=n.tileContentThreshold),n.objectSeparationSensitivity!==void 0&&(this.objectSeparationSensitivity=n.objectSeparationSensitivity),n.detectedTileData){this.detectedTileData.clear();for(const[s,i]of n.detectedTileData)this.detectedTileData.set(s,i)}if(n.tilesetImage){const s=new Image;s.onload=()=>{this.tilesetImage=s,this.tilesetColumns=Math.floor(s.width/this.tileSizeX),this.tilesetRows=Math.floor(s.height/this.tileSizeY),this.tileCount=this.tilesetColumns*this.tilesetRows,n.detectedTileData&&n.detectedTileData.length>0?this.createTilePalette(!0):this.createTilePalette(),this.updateActiveTile(),this.draw()},s.src=n.tilesetImage}return this.draw(),!0}catch(t){return console.error("Failed to load from localStorage:",t),!1}}clearLocalStorageBackup(){localStorage.removeItem("tilemap_autosave_backup")}async saveProjectData(t){var n,r;try{console.log("=== SAVE PROJECT DATA DEBUG ==="),console.log("Project path:",t),console.log("Number of layer tilesets:",this.layerTilesets.size);const s={},i=[];console.log("=== SAVING LAYER TILESETS ===");for(const[l,c]of this.layerTilesets.entries())if(c.image&&c.fileName){console.log(`Saving tileset for layer ${l}: ${c.fileName}`);const u=this.canvasToDataURL(c.image);s[c.fileName]=u,i.push({layerType:l,fileName:c.fileName,name:c.fileName.replace(/\.[^/.]+$/,""),columns:c.columns,rows:c.rows,count:c.count,detectedTiles:this.getDetectedTilesForLayer(l)}),console.log(`Saved tileset: ${c.fileName} (${u.length} bytes)`)}else console.log(`No tileset image for layer ${l}`);if(this.layerTilesets.size===0&&this.tilesetImage&&this.tilesetFileName){console.log("Saving legacy tileset:",this.tilesetFileName);const l=this.canvasToDataURL(this.tilesetImage);s[this.tilesetFileName]=l,i.push({fileName:this.tilesetFileName,name:this.tilesetFileName.replace(/\.[^/.]+$/,""),detectedTiles:Array.from(this.detectedTileData.entries())})}const o={name:((n=this.tilesetFileName)==null?void 0:n.replace(/\.[^/.]+$/,""))||"Untitled Map",width:this.mapWidth,height:this.mapHeight,tileSize:64,layers:this.tileLayers,objects:this.objects,tilesets:i,tilesetImages:s,minimap:this.generateMinimapDataUrl(),version:"1.0",tileContentThreshold:this.tileContentThreshold,objectSeparationSensitivity:this.objectSeparationSensitivity};if(console.log("Project data prepared:",{name:o.name,tilesetCount:Object.keys(o.tilesetImages).length,layerCount:o.layers.length,layerTilesetCount:i.length}),(r=window.electronAPI)!=null&&r.saveMapProject){console.log("Saving via Electron API...");const l=await window.electronAPI.saveMapProject(t,o);return console.log("Electron save result:",l),l}else return console.log("Falling back to localStorage save..."),this.saveToLocalStorage(),!0}catch(s){return console.error("Error saving project data:",s),!1}}updateSaveStatus(t){this.saveStatusCallback&&this.saveStatusCallback(t)}getUnsavedChanges(){return this.hasUnsavedChanges}getLastSaveTime(){return this.lastSaveTimestamp}forceSave(){this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),this.performAutoSave()}resetForNewProject(){this.clearLocalStorageBackup(),this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.detectedTileData.clear(),this.clearTilePalette(),this.tileLayers=[],this.activeLayerId=null,this.nextLayerId=1,this.objects=[],this.nextObjectId=1,this.selectedObjectId=null,this.layerTilesets.clear(),this.tilesets=[],this.collisionData=[],this.selection={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,tiles:[]},this.isSelecting=!1,this.shapeDrawing={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,preview:[]},this.isDrawingShape=!1,this.stamps.clear(),this.activeStamp=null,this.stampPreview={x:0,y:0,visible:!1},this.hasUnsavedChanges=!1,this.lastSaveTimestamp=0,this.autoSaveTimeout&&(clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=null),this.createDefaultLayers(),this.history=[],this.historyIndex=-1,this.saveState(),this.ctx.clearRect(0,0,this.mapCanvas.width,this.mapCanvas.height),this.draw()}loadProjectData(t){try{if(console.log("=== LOADING PROJECT DATA IN EDITOR ==="),console.log("Project data:",{hasLayers:!!(t.layers&&t.layers.length>0),layerCount:t.layers?t.layers.length:0,hasObjects:!!(t.objects&&t.objects.length>0),objectCount:t.objects?t.objects.length:0,width:t.width,height:t.height,hasTilesets:!!(t.tilesets&&t.tilesets.length>0),tilesetCount:t.tilesets?t.tilesets.length:0}),t.tileContentThreshold!==void 0&&(this.tileContentThreshold=t.tileContentThreshold),t.objectSeparationSensitivity!==void 0&&(this.objectSeparationSensitivity=t.objectSeparationSensitivity),this.layerTilesets.clear(),t.tilesets&&Array.isArray(t.tilesets)){console.log("Loading tilesets:",t.tilesets.length);let n=0;const r=t.tilesets.length;for(const s of t.tilesets)if(s.fileName&&t.tilesetImages&&t.tilesetImages[s.fileName]){const i=t.tilesetImages[s.fileName],o=new Image;o.onload=()=>{console.log(`Tileset ${s.fileName} loaded for layer: ${s.layerType||"legacy"}`);const l={image:o,fileName:s.fileName,columns:s.columns||Math.floor(o.width/this.tileSizeX),rows:s.rows||Math.floor(o.height/this.tileSizeY),count:s.count||(s.columns||Math.floor(o.width/this.tileSizeX))*(s.rows||Math.floor(o.height/this.tileSizeY))};if(s.layerType)this.layerTilesets.set(s.layerType,l),console.log(`Set tileset for layer type ${s.layerType}`);else{this.tilesetImage=o,this.tilesetFileName=s.fileName,this.tilesetColumns=l.columns,this.tilesetRows=l.rows,this.tileCount=l.count;const c=this.tileLayers.find(u=>u.id===this.activeLayerId);c&&!this.layerTilesets.has(c.type)&&(this.layerTilesets.set(c.type,l),console.log(`Assigned legacy tileset to active layer: ${c.type}`))}if(s.detectedTiles&&Array.isArray(s.detectedTiles))if(console.log(`Restoring ${s.detectedTiles.length} detected tiles for ${s.layerType||"legacy"}`),s.layerType){const c=new Map;for(const[u,d]of s.detectedTiles)c.set(u,d);this.layerTileData.set(s.layerType,c),console.log(`Stored ${c.size} tiles for layer type: ${s.layerType}`)}else{this.detectedTileData.clear();for(const[u,d]of s.detectedTiles)this.detectedTileData.set(u,d);const c=this.tileLayers.find(u=>u.id===this.activeLayerId);if(c){const u=new Map;for(const[d,h]of s.detectedTiles)u.set(d,h);this.layerTileData.set(c.type,u)}}if(n++,n===r){console.log("All tilesets loaded, updating UI for active layer");const c=this.tileLayers.find(u=>u.id===this.activeLayerId);c&&this.updateCurrentTileset(c.type)}},o.src=i}else if(n++,n===r){console.log("All tilesets processed, updating UI for active layer");const i=this.tileLayers.find(o=>o.id===this.activeLayerId);i&&this.updateCurrentTileset(i.type)}}if(t.detectedTileData&&Array.isArray(t.detectedTileData)){this.detectedTileData.clear();for(const[n,r]of t.detectedTileData)this.detectedTileData.set(n,r)}t.layers&&t.layers.length>0?(console.log("Loading layers:",t.layers.length),this.tileLayers=[...t.layers],this.tileLayers.length>0&&(!this.activeLayerId||!this.tileLayers.find(n=>n.id===this.activeLayerId))&&(this.activeLayerId=this.tileLayers[0].id,console.log("Set active layer to:",this.activeLayerId))):(console.log("No layers found in project data, creating default layers"),this.createDefaultLayers()),t.objects&&t.objects.length>0&&(console.log("Loading objects:",t.objects.length),this.objects=[...t.objects]),t.width&&t.height&&(console.log("Setting map dimensions:",t.width,"x",t.height),this.mapWidth=t.width,this.mapHeight=t.height),console.log("Project data loaded successfully"),this.draw()}catch(n){console.error("Error loading project data:",n)}}async loadTilesetFromDataURL(t,n){return new Promise((r,s)=>{console.log("Loading tileset from dataURL:",n,"Length:",t.length);const i=new Image;i.onload=()=>{console.log("Tileset image loaded successfully:",i.width,"x",i.height),this.tilesetImage=i,this.tilesetFileName=n,this.tilesetColumns=Math.floor(i.width/this.tileSizeX),this.tilesetRows=Math.floor(i.height/this.tileSizeY),this.tileCount=this.tilesetColumns*this.tilesetRows,console.log("Tileset properties:",{columns:this.tilesetColumns,rows:this.tilesetRows,tileCount:this.tileCount});const o=this.tileLayers.find(c=>c.id===this.activeLayerId);if(o){console.log("Setting tileset for active layer type:",o.type),this.layerTilesets.set(o.type,{image:i,fileName:n,columns:this.tilesetColumns,rows:this.tilesetRows,count:this.tileCount});const c=this.layerTileData.has(o.type);if(console.log(`Layer ${o.type} has existing tile data:`,c),!c)this.detectedTileData.clear();else{const u=this.layerTileData.get(o.type);if(this.detectedTileData.clear(),u)for(const[d,h]of u.entries())this.detectedTileData.set(d,h)}}else console.log("No active layer found, storing as global tileset");const l=o?this.layerTileData.has(o.type):!1;this.createTilePalette(l),console.log("Tile detection completed, detected tiles:",this.detectedTileData.size),this.draw(),console.log("Tileset loaded and palette created"),r()},i.onerror=o=>{console.error("Failed to load tileset image:",o),s(new Error("Failed to load tileset from data URL"))},i.src=t})}debugLayerData(){console.log("=== LAYER DATA DEBUG ===");for(const t of this.tileLayers){const n=t.data.filter(s=>s>0).length,r=this.layerTilesets.get(t.type);console.log(`Layer ${t.name} (${t.type}): ${n} painted tiles, has tileset: ${!!(r!=null&&r.image)}`)}}redraw(){this.draw()}getMapWidth(){return this.mapWidth}getMapHeight(){return this.mapHeight}}const Yv=1,Xv=1e6;let No=0;function Vv(){return No=(No+1)%Number.MAX_SAFE_INTEGER,No.toString()}const Co=new Map,Cu=e=>{if(Co.has(e))return;const t=setTimeout(()=>{Co.delete(e),Rr({type:"REMOVE_TOAST",toastId:e})},Xv);Co.set(e,t)},Gv=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Yv)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Cu(n):e.toasts.forEach(r=>{Cu(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Xs=[];let Vs={toasts:[]};function Rr(e){Vs=Gv(Vs,e),Xs.forEach(t=>{t(Vs)})}function Qv({...e}){const t=Vv(),n=s=>Rr({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Rr({type:"DISMISS_TOAST",toastId:t});return Rr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function qh(){const[e,t]=y.useState(Vs);return y.useEffect(()=>(Xs.push(t),()=>{const n=Xs.indexOf(t);n>-1&&Xs.splice(n,1)}),[e]),{...e,toast:Qv,dismiss:n=>Rr({type:"DISMISS_TOAST",toastId:n})}}function Ue(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Jh(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];const u=h=>{var g;const{scope:m,children:S,...v}=h,w=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,N=y.useMemo(()=>v,Object.values(v));return a.jsx(w.Provider,{value:N,children:S})};u.displayName=i+"Provider";function d(h,m){var w;const S=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,v=y.useContext(S);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Kv(s,...t)]}function Kv(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Zv(e){const t=e+"CollectionProvider",[n,r]=Jh(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:N,children:g}=w,f=ue.useRef(null),p=ue.useRef(new Map).current;return a.jsx(s,{scope:N,itemMap:p,collectionRef:f,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=vi(l),u=ue.forwardRef((w,N)=>{const{scope:g,children:f}=w,p=i(l,g),x=wn(N,p.collectionRef);return a.jsx(c,{ref:x,children:f})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=vi(d),S=ue.forwardRef((w,N)=>{const{scope:g,children:f,...p}=w,x=ue.useRef(null),T=wn(N,x),C=i(d,g);return ue.useEffect(()=>(C.itemMap.set(x,{ref:x,...p}),()=>void C.itemMap.delete(x))),a.jsx(m,{[h]:"",ref:T,children:f})});S.displayName=d;function v(w){const N=i(e+"CollectionConsumer",w);return ue.useCallback(()=>{const f=N.collectionRef.current;if(!f)return[];const p=Array.from(f.querySelectorAll(`[${h}]`));return Array.from(N.itemMap.values()).sort((C,j)=>p.indexOf(C.ref.current)-p.indexOf(j.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:u,ItemSlot:S},v,r]}var qv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=qv.reduce((e,t)=>{const n=vi(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ef(e,t){e&&ls.flushSync(()=>e.dispatchEvent(t))}function Sn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Jv(e,t=globalThis==null?void 0:globalThis.document){const n=Sn(e);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var e0="DismissableLayer",Tl="dismissableLayer.update",t0="dismissableLayer.pointerDownOutside",n0="dismissableLayer.focusOutside",ju,tf=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nf=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(tf),[d,h]=y.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=y.useState({}),v=wn(t,j=>h(j)),w=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=w.indexOf(N),f=d?w.indexOf(d):-1,p=u.layersWithOutsidePointerEventsDisabled.size>0,x=f>=g,T=s0(j=>{const E=j.target,R=[...u.branches].some(P=>P.contains(E));!x||R||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},m),C=i0(j=>{const E=j.target;[...u.branches].some(P=>P.contains(E))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},m);return Jv(j=>{f===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ju=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Eu(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ju)}},[d,m,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Eu())},[d,u]),y.useEffect(()=>{const j=()=>S({});return document.addEventListener(Tl,j),()=>document.removeEventListener(Tl,j)},[]),a.jsx(gt.div,{...c,ref:v,style:{pointerEvents:p?x?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,T.onPointerDownCapture)})});nf.displayName=e0;var r0="DismissableLayerBranch",rf=y.forwardRef((e,t)=>{const n=y.useContext(tf),r=y.useRef(null),s=wn(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(gt.div,{...e,ref:s})});rf.displayName=r0;function s0(e,t=globalThis==null?void 0:globalThis.document){const n=Sn(e),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){sf(t0,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function i0(e,t=globalThis==null?void 0:globalThis.document){const n=Sn(e),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&sf(n0,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Eu(){const e=new CustomEvent(Tl);document.dispatchEvent(e)}function sf(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ef(s,i):s.dispatchEvent(i)}var o0=nf,l0=rf,ts=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},a0="Portal",of=y.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=y.useState(!1);ts(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Gg.createPortal(a.jsx(gt.div,{...r,ref:t}),o):null});of.displayName=a0;function c0(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var lf=e=>{const{present:t,children:n}=e,r=u0(t),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=wn(r.ref,d0(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};lf.displayName="Presence";function u0(e){const[t,n]=y.useState(),r=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=c0(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=zs(r.current);i.current=l==="mounted"?u:"none"},[l]),ts(()=>{const u=r.current,d=s.current;if(d!==e){const m=i.current,S=zs(u);e?c("MOUNT"):S==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ts(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=S=>{const w=zs(r.current).includes(CSS.escape(S.animationName));if(S.target===t&&w&&(c("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},m=S=>{S.target===t&&(i.current=zs(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function zs(e){return(e==null?void 0:e.animationName)||"none"}function d0(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var h0=Rp[" useInsertionEffect ".trim().toString()]||ts;function f0({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=p0({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=y.useCallback(d=>{var h;if(l){const m=m0(d)?d(e):d;m!==e&&((h=o.current)==null||h.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function p0({defaultProp:e,onChange:t}){const[n,r]=y.useState(e),s=y.useRef(n),i=y.useRef(t);return h0(()=>{i.current=t},[t]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function m0(e){return typeof e=="function"}var g0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),y0="VisuallyHidden",ka=y.forwardRef((e,t)=>a.jsx(gt.span,{...e,ref:t,style:{...g0,...e.style}}));ka.displayName=y0;var Ta="ToastProvider",[Na,v0,x0]=Zv("Toast"),[af,B0]=Jh("Toast",[x0]),[w0,Ai]=af(Ta),cf=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),h=y.useRef(!1),m=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ta}\`. Expected non-empty \`string\`.`),a.jsx(Na.Provider,{scope:t,children:a.jsx(w0,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(S=>S+1),[]),onToastRemove:y.useCallback(()=>d(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};cf.displayName=Ta;var uf="ToastViewport",S0=["F8"],Nl="toast.viewportPause",Cl="toast.viewportResume",df=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=S0,label:s="Notifications ({hotkey})",...i}=e,o=Ai(uf,n),l=v0(n),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),m=wn(t,h,o.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;y.useEffect(()=>{const N=g=>{var p;r.length!==0&&r.every(x=>g[x]||g.code===x)&&((p=h.current)==null||p.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),y.useEffect(()=>{const N=c.current,g=h.current;if(v&&N&&g){const f=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Nl);g.dispatchEvent(C),o.isClosePausedRef.current=!0}},p=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Cl);g.dispatchEvent(C),o.isClosePausedRef.current=!1}},x=C=>{!N.contains(C.relatedTarget)&&p()},T=()=>{N.contains(document.activeElement)||p()};return N.addEventListener("focusin",f),N.addEventListener("focusout",x),N.addEventListener("pointermove",f),N.addEventListener("pointerleave",T),window.addEventListener("blur",f),window.addEventListener("focus",p),()=>{N.removeEventListener("focusin",f),N.removeEventListener("focusout",x),N.removeEventListener("pointermove",f),N.removeEventListener("pointerleave",T),window.removeEventListener("blur",f),window.removeEventListener("focus",p)}}},[v,o.isClosePausedRef]);const w=y.useCallback(({tabbingDirection:N})=>{const f=l().map(p=>{const x=p.ref.current,T=[x,..._0(x)];return N==="forwards"?T:T.reverse()});return(N==="forwards"?f.reverse():f).flat()},[l]);return y.useEffect(()=>{const N=h.current;if(N){const g=f=>{var T,C,j;const p=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!p){const E=document.activeElement,R=f.shiftKey;if(f.target===N&&R){(T=u.current)==null||T.focus();return}const U=w({tabbingDirection:R?"backwards":"forwards"}),he=U.findIndex(F=>F===E);jo(U.slice(he+1))?f.preventDefault():R?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return N.addEventListener("keydown",g),()=>N.removeEventListener("keydown",g)}},[l,w]),a.jsxs(l0,{ref:c,role:"region","aria-label":s.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(jl,{ref:u,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"forwards"});jo(N)}}),a.jsx(Na.Slot,{scope:n,children:a.jsx(gt.ol,{tabIndex:-1,...i,ref:m})}),v&&a.jsx(jl,{ref:d,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"backwards"});jo(N)}})]})});df.displayName=uf;var hf="ToastFocusProxy",jl=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Ai(hf,n);return a.jsx(ka,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});jl.displayName=hf;var as="Toast",k0="toast.swipeStart",T0="toast.swipeMove",N0="toast.swipeCancel",C0="toast.swipeEnd",ff=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=f0({prop:r,defaultProp:s??!0,onChange:i,caller:as});return a.jsx(lf,{present:n||l,children:a.jsx(b0,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Sn(e.onPause),onResume:Sn(e.onResume),onSwipeStart:Ue(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});ff.displayName=as;var[j0,E0]=af(as,{onClose(){}}),b0=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:S,...v}=e,w=Ai(as,n),[N,g]=y.useState(null),f=wn(t,F=>g(F)),p=y.useRef(null),x=y.useRef(null),T=s||w.duration,C=y.useRef(0),j=y.useRef(T),E=y.useRef(0),{onToastAdd:R,onToastRemove:P}=w,Q=Sn(()=>{var ae;(N==null?void 0:N.contains(document.activeElement))&&((ae=w.viewport)==null||ae.focus()),o()}),U=y.useCallback(F=>{!F||F===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(Q,F))},[Q]);y.useEffect(()=>{const F=w.viewport;if(F){const ae=()=>{U(j.current),u==null||u()},pe=()=>{const xe=new Date().getTime()-C.current;j.current=j.current-xe,window.clearTimeout(E.current),c==null||c()};return F.addEventListener(Nl,pe),F.addEventListener(Cl,ae),()=>{F.removeEventListener(Nl,pe),F.removeEventListener(Cl,ae)}}},[w.viewport,T,c,u,U]),y.useEffect(()=>{i&&!w.isClosePausedRef.current&&U(T)},[i,T,w.isClosePausedRef,U]),y.useEffect(()=>(R(),()=>P()),[R,P]);const he=y.useMemo(()=>N?wf(N):null,[N]);return w.viewport?a.jsxs(a.Fragment,{children:[he&&a.jsx(M0,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:he}),a.jsx(j0,{scope:n,onClose:Q,children:ls.createPortal(a.jsx(Na.ItemSlot,{scope:n,children:a.jsx(o0,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||Q(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(gt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...v,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Ue(e.onPointerDown,F=>{F.button===0&&(p.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ue(e.onPointerMove,F=>{if(!p.current)return;const ae=F.clientX-p.current.x,pe=F.clientY-p.current.y,xe=!!x.current,M=["left","right"].includes(w.swipeDirection),A=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,O=M?A(0,ae):0,X=M?0:A(0,pe),V=F.pointerType==="touch"?10:2,J={x:O,y:X},K={originalEvent:F,delta:J};xe?(x.current=J,Is(T0,h,K,{discrete:!1})):bu(J,w.swipeDirection,V)?(x.current=J,Is(k0,d,K,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(ae)>V||Math.abs(pe)>V)&&(p.current=null)}),onPointerUp:Ue(e.onPointerUp,F=>{const ae=x.current,pe=F.target;if(pe.hasPointerCapture(F.pointerId)&&pe.releasePointerCapture(F.pointerId),x.current=null,p.current=null,ae){const xe=F.currentTarget,M={originalEvent:F,delta:ae};bu(ae,w.swipeDirection,w.swipeThreshold)?Is(C0,S,M,{discrete:!0}):Is(N0,m,M,{discrete:!0}),xe.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),M0=e=>{const{__scopeToast:t,children:n,...r}=e,s=Ai(as,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return z0(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(of,{asChild:!0,children:a.jsx(ka,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},P0="ToastTitle",pf=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(gt.div,{...r,ref:t})});pf.displayName=P0;var L0="ToastDescription",mf=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(gt.div,{...r,ref:t})});mf.displayName=L0;var gf="ToastAction",yf=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(xf,{altText:n,asChild:!0,children:a.jsx(Ca,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${gf}\`. Expected non-empty \`string\`.`),null)});yf.displayName=gf;var vf="ToastClose",Ca=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=E0(vf,n);return a.jsx(xf,{asChild:!0,children:a.jsx(gt.button,{type:"button",...r,ref:t,onClick:Ue(e.onClick,s.onClose)})})});Ca.displayName=vf;var xf=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function wf(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),I0(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...wf(r))}}),t}function Is(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ef(s,i):s.dispatchEvent(i)}var bu=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function z0(e=()=>{}){const t=Sn(e);ts(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function I0(e){return e.nodeType===e.ELEMENT_NODE}function _0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jo(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var A0=cf,Sf=df,kf=ff,Tf=pf,Nf=mf,Cf=yf,jf=Ca;const D0=A0,Ef=y.forwardRef(({className:e,...t},n)=>a.jsx(Sf,{ref:n,className:nn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ef.displayName=Sf.displayName;const R0=Yh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bf=y.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(kf,{ref:r,className:nn(R0({variant:t}),e),...n}));bf.displayName=kf.displayName;const O0=y.forwardRef(({className:e,...t},n)=>a.jsx(Cf,{ref:n,className:nn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));O0.displayName=Cf.displayName;const Mf=y.forwardRef(({className:e,...t},n)=>a.jsx(jf,{ref:n,className:nn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ie,{className:"h-4 w-4"})}));Mf.displayName=jf.displayName;const Pf=y.forwardRef(({className:e,...t},n)=>a.jsx(Tf,{ref:n,className:nn("text-sm font-semibold",e),...t}));Pf.displayName=Tf.displayName;const Lf=y.forwardRef(({className:e,...t},n)=>a.jsx(Nf,{ref:n,className:nn("text-sm opacity-90",e),...t}));Lf.displayName=Nf.displayName;function F0(){const{toasts:e}=qh();return a.jsxs(D0,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(bf,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Pf,{children:n}),r&&a.jsx(Lf,{children:r})]}),s,a.jsx(Mf,{})]},t)}),a.jsx(Ef,{})]})}var $0={};const W0=({onCreateNewMap:e,onOpenMap:t,isDarkMode:n})=>{const[r,s]=y.useState(!1),[i,o]=y.useState([]),[l,c]=y.useState({}),[u,d]=y.useState({name:"New Map",width:20,height:15,tileSize:64,location:""});y.useEffect(()=>{(async()=>{const x=localStorage.getItem("recentMaps");if(!x)return;let T=JSON.parse(x);const C=window.electronAPI;if(C&&typeof C.checkProjectExists=="function")try{const E=(await Promise.all(T.map(async R=>{try{return await C.checkProjectExists(R.path)?R:null}catch{return R}}))).filter(Boolean);T=E,E.length!==JSON.parse(x).length&&localStorage.setItem("recentMaps",JSON.stringify(E))}catch(j){console.warn("Prune recent maps failed:",j)}o(T)})()},[]),y.useEffect(()=>{if(!i||i.length===0)return;const p=async x=>{const T=x;if(T.thumbnailDataUrl){c(C=>({...C,[x.id]:T.thumbnailDataUrl}));return}try{const C=window.electronAPI;if(C&&typeof C.getProjectThumbnail=="function"){const j=await C.getProjectThumbnail(x.path);if(j){c(E=>({...E,[x.id]:j}));return}}if(!(C&&typeof C.getProjectThumbnail=="function")){c(j=>({...j,[x.id]:null}));return}}catch(C){console.error("Failed to load thumbnail for",x.path,C)}c(C=>({...C,[x.id]:null}))};return i.forEach(x=>{p(x)}),()=>{Object.values(l).forEach(x=>{x&&x.startsWith("blob:")&&URL.revokeObjectURL(x)})}},[i]);const h=p=>{localStorage.setItem("recentMaps",JSON.stringify(p)),o(p)},m=async()=>{var p;try{if((p=window.electronAPI)!=null&&p.selectDirectory){const x=await window.electronAPI.selectDirectory();x&&d({...u,location:x})}else if("showDirectoryPicker"in window){const x=await window.showDirectoryPicker();d({...u,location:x.name})}else{const x="C:\\Users\\"+(navigator.userAgent.includes("Windows")&&$0.USERNAME||"User")+"\\Documents\\TileMaps";d({...u,location:x})}}catch(x){console.error("Error selecting directory:",x)}},S=async()=>{var p;if(!u.location){alert("Please select a location for your map project");return}try{const x=`${u.location}\\${u.name}`;if((p=window.electronAPI)!=null&&p.createMapProject){if(await window.electronAPI.createMapProject(u)){const j=[{id:Date.now().toString(),name:u.name,lastModified:"Just now",path:x},...i.slice(0,9)];h(j),e(u,x)}}else console.log("Creating map project:",u),e(u)}catch(x){console.error("Error creating map project:",x),alert("Error creating map project. Please try again.")}},v=p=>{t(p.path)},w=async()=>{var p;try{if((p=window.electronAPI)!=null&&p.selectDirectory){const x=await window.electronAPI.selectDirectory();x&&t(x)}else alert("Open Map Project functionality requires the desktop app")}catch(x){console.error("Error opening map project:",x)}},N=()=>{var p;(p=window.electronAPI)!=null&&p.minimize?window.electronAPI.minimize():console.log("Minimize clicked - Electron API not available")},g=()=>{var p;(p=window.electronAPI)!=null&&p.maximize?window.electronAPI.maximize():console.log("Maximize clicked - Electron API not available")},f=()=>{var p;(p=window.electronAPI)!=null&&p.close?window.electronAPI.close():console.log("Close clicked - Electron API not available")};return r?a.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-neutral-900 dark:to-neutral-800 flex flex-col ${n?"dark":""}`,children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-neutral-900 text-orange-600 dark:text-orange-400 flex justify-between items-center px-4 py-1 select-none drag-region border-b border-gray-200 dark:border-neutral-700",children:[a.jsx("div",{className:"text-sm font-medium",children:"Tile Map Editor"}),a.jsxs("div",{className:"flex no-drag",children:[a.jsx(H,{content:"Minimize",children:a.jsx("button",{onClick:N,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",children:a.jsx(kl,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Maximize",children:a.jsx("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",children:a.jsx(an,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Close",children:a.jsx("button",{onClick:f,className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",children:a.jsx(Ie,{className:"w-4 h-4"})})})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-lg shadow-xl p-8 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center",children:a.jsx("img",{src:"/flare-logo.png",alt:"Flare Logo",className:"w-40 h-40 object-contain"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create a New Flare Project"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Configure your new project"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Name"}),a.jsx(Ut,{value:u.name,onChange:p=>d({...u,name:p.target.value}),placeholder:"Enter map name"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Width (tiles)"}),a.jsx(Ut,{type:"number",value:u.width,onChange:p=>d({...u,width:parseInt(p.target.value)||20}),min:"5",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (tiles)"}),a.jsx(Ut,{type:"number",value:u.height,onChange:p=>d({...u,height:parseInt(p.target.value)||15}),min:"5",max:"100"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Location"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ut,{value:u.location,onChange:p=>d({...u,location:p.target.value}),placeholder:"Select folder for your project",readOnly:!0}),a.jsx(_,{type:"button",variant:"outline",onClick:m,children:a.jsx(ev,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(_,{variant:"outline",onClick:()=>s(!1),className:"flex-1",children:"Back"}),a.jsx(_,{onClick:S,className:"flex-1",children:"Create Map"})]})]})})]}):a.jsxs("div",{className:`h-screen overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100 dark:from-neutral-900 dark:to-neutral-800 flex flex-col ${n?"dark":""}`,children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-neutral-900 text-orange-600 dark:text-orange-400 flex justify-between items-center px-4 py-1 select-none drag-region border-b border-gray-200 dark:border-neutral-700",children:[a.jsx("div",{className:"text-sm font-medium",children:"Flarism"})," ",a.jsxs("div",{className:"flex no-drag",children:[a.jsx(H,{content:"Minimize",children:a.jsx("button",{onClick:N,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",children:a.jsx(kl,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Maximize",children:a.jsx("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",children:a.jsx(an,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Close",children:a.jsx("button",{onClick:f,className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",children:a.jsx(Ie,{className:"w-4 h-4"})})})]})]}),a.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[a.jsxs("div",{className:"w-80 bg-white dark:bg-neutral-900 border-r border-slate-200 dark:border-neutral-700 p-6 flex flex-col h-full",children:[a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Projects"})}),a.jsxs("div",{className:"flex-1 min-h-0 h-full",children:[a.jsx("div",{className:"space-y-2 overflow-y-auto minimal-scroll px-1 py-1 h-full",children:i.map(p=>a.jsx("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-neutral-700 hover:bg-slate-50 dark:hover:bg-neutral-800 cursor-pointer transition-colors",onClick:()=>v(p),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-100 dark:bg-orange-900 rounded overflow-hidden flex items-center justify-center",children:l[p.id]?a.jsx("img",{src:l[p.id]||"",alt:`${p.name} thumbnail`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(mu,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:p.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.lastModified})]})]})},p.id))}),i.length===0&&a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[a.jsx(mu,{className:"w-20 h-20 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),a.jsx("p",{children:"No recent project"}),a.jsx("p",{className:"text-sm",children:"Create your first projet to get started"})]})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-50 h-20",children:a.jsx("img",{src:"/flare-logo.png",alt:"Flare Logo",className:"w-100 h-100 object-contain"})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Modern & Simple GUI for Flare"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(_,{onClick:()=>s(!0),className:"w-full h-12 text-lg",size:"lg",children:[a.jsx(xv,{className:"w-5 h-5 mr-2"}),"Create New Projet"]}),a.jsxs(_,{variant:"outline",onClick:w,className:"w-full h-12 text-lg",size:"lg",children:[a.jsx(qy,{className:"w-5 h-5 mr-2"}),"Open Existing Project"]})]})]})})]})]})};function U0(){var Va;const[e,t]=y.useState(!0),[n,r]=y.useState(null),s=y.useRef(null),[i,o]=y.useState(20),[l,c]=y.useState(15),[u]=y.useState("(none)"),[d,h]=y.useState(!0),[m,S]=y.useState([]),[v,w]=y.useState(null),[N,g]=y.useState(!1),[f,p]=y.useState(!1),[x,T]=y.useState(!1),[C,j]=y.useState(!0),[E,R]=y.useState(null),[P,Q]=y.useState("brush"),[U,he]=y.useState(!1),[F,ae]=y.useState(!1),[pe,xe]=y.useState(!1),[M,A]=y.useState("brush"),[O,X]=y.useState("rectangular"),[V,J]=y.useState("rectangle"),[K,ct]=y.useState("none"),[Fe,yt]=y.useState([]),[ja,zf]=y.useState([]),[ir,Ea]=y.useState(null),[Cn,or]=y.useState("select"),[H0,Di]=y.useState(!1),[lr,ba]=y.useState(""),[If,cs]=y.useState(!1),[jn,ar]=y.useState(null),[_f,Ma]=y.useState("Untitled Map"),[$e,Af]=y.useState(()=>{const k=localStorage.getItem("isDarkMode");return k?JSON.parse(k):!1}),[us,Df]=y.useState("saved"),[cr,Rf]=y.useState(!0),[Of,Pa]=y.useState(0),[Ri,La]=y.useState(!1),[za,Ff]=y.useState(!1),[Ge,Ia]=y.useState(null),[_a,Aa]=y.useState(!1),[Oi,Da]=y.useState(!1),[$f,rn]=y.useState(0),[En,ur]=y.useState(null),sn=y.useRef(null),vt=y.useRef(null),xt=y.useRef(null),wt=y.useRef(null),Fi=y.useRef(null),[$i,Wf]=y.useState(null),[Uf,Hf]=y.useState(0),[Bf,Yf]=y.useState(!1),{toast:ds}=qh();y.useEffect(()=>()=>{},[ds]),y.useEffect(()=>{$e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),n&&n.setDarkMode($e),localStorage.setItem("isDarkMode",JSON.stringify($e))},[$e,n]);const bn=y.useCallback(k=>{k.setAutoSaveCallback(async()=>{try{window.electronAPI&&Ge&&await k.saveProjectData(Ge)}catch(L){console.warn("Auto-save to disk failed:",L)}Pa(Date.now())}),k.setSaveStatusCallback(L=>{Df(L),Ff(L==="unsaved"||L==="error")}),k.setAutoSaveEnabled(cr),k.setEyedropperCallback(()=>{Q("brush"),A("brush")}),k.setStampCallback(L=>{zf(L)})},[cr,Ge]);y.useEffect(()=>{if(s.current&&!e&&!n&&!_a){const k=new To(s.current);k.setDarkMode($e),bn(k),r(k)}},[e,n,bn,_a,$e]),y.useEffect(()=>{if(!n)return;const k=()=>{const D=n.getHoverCoordinates();Wf(D)};let L;const z=()=>{k(),L=requestAnimationFrame(z)};return z(),()=>{L&&cancelAnimationFrame(L)}},[n]),y.useEffect(()=>{if(n&&P==="brush"){const L={brush:"brush",bucket:"bucket",eraser:"eraser"}[M]||"brush";n.setCurrentTool(L)}else if(n&&P==="selection"){const L={rectangular:"rectangular","magic-wand":"magic-wand","same-tile":"same-tile",circular:"circular"}[O]||"rectangular";n.setCurrentSelectionTool(L)}else if(n&&P==="shape"){const L={rectangle:"rectangle",circle:"circle",line:"line"}[V]||"rectangle";n.setCurrentShapeTool(L)}else n&&P==="eyedropper"?n.setEyedropperTool():n&&P==="stamp"&&n.setStampTool()},[n,P,M,O,V]),y.useEffect(()=>{!n||P!=="stamp"||n.setCurrentStampMode(Cn)},[n,P,Cn]),y.useEffect(()=>{!n||P!=="stamp"||n.setActiveStamp(ir)},[n,P,ir]),y.useEffect(()=>{if(!n)return;const L=setInterval(()=>{const z=n.getSelection(),D=n.hasActiveSelection();Hf(z.length),Yf(D)},100);return()=>clearInterval(L)},[n]);const St=y.useCallback(()=>{if(n){const k=n.getLayers();S([...k]);const L=n.getActiveLayerId();w(L)}},[n]);y.useEffect(()=>{n&&St()},[n,St]),y.useEffect(()=>{const k=L=>{N&&g(!1)};return N&&document.addEventListener("click",k),()=>{document.removeEventListener("click",k)}},[N]);const Ee=y.useCallback((k,L)=>{if(Fi.current){const z=Fi.current.getBoundingClientRect();let D=window.innerWidth/2;if(s&&s.current){const Z=s.current.getBoundingClientRect();D=Z.left+Z.width/2}const $=Math.max(8,z.top-60);ur({content:k,x:D,y:$,visible:!0,fadeOut:!1})}else{const z=L.getBoundingClientRect(),D=z.left+z.width/2,$=z.top-10;ur({content:k,x:D,y:$,visible:!0,fadeOut:!1})}sn.current&&clearTimeout(sn.current),sn.current=setTimeout(()=>{ur(z=>z?{...z,fadeOut:!0}:null),setTimeout(()=>{ur(null)},300)},1e3)},[]),ze=y.useCallback(()=>{sn.current&&clearTimeout(sn.current),ur(null)},[]);y.useEffect(()=>()=>{sn.current&&clearTimeout(sn.current),vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current),wt.current&&clearTimeout(wt.current)},[]);const Ra=y.useCallback(()=>{vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current),wt.current&&clearTimeout(wt.current),ae(!1),xe(!1),Di(!1),he(!0)},[]),Oa=y.useCallback(()=>{vt.current=setTimeout(()=>{he(!1)},1e3)},[]),Fa=y.useCallback(()=>{vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current),wt.current&&clearTimeout(wt.current),he(!1),xe(!1),Di(!1),ae(!0)},[]),$a=y.useCallback(()=>{xt.current=setTimeout(()=>{ae(!1)},1e3)},[]),Wa=y.useCallback(()=>{vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current),wt.current&&clearTimeout(wt.current),he(!1),ae(!1),xe(!0)},[]),Ua=y.useCallback(()=>{wt.current=setTimeout(()=>{xe(!1)},1e3)},[]),Ha=y.useCallback(()=>{if(!n||!lr.trim())return;n.createStampFromSelection(lr.trim())&&(ba(""),Di(!1),or("select"))},[n,lr]),Xf=y.useCallback(k=>{Ea(k),or("place")},[]),Vf=y.useCallback(k=>{n&&(n.deleteStamp(k),ir===k&&(Ea(null),or("select")))},[n,ir]),Gf=()=>{switch(M){case"bucket":return a.jsx(wo,{className:"w-4 h-4"});case"eraser":return a.jsx(vo,{className:"w-4 h-4"});default:return a.jsx(Ls,{className:"w-4 h-4"})}},Qf=()=>{switch(O){case"magic-wand":return a.jsx(ko,{className:"w-4 h-4"});case"same-tile":return a.jsx(Tr,{className:"w-4 h-4"});case"circular":return a.jsx(kr,{className:"w-4 h-4"});default:return a.jsx(hv,{className:"w-4 h-4"})}},Kf=()=>{switch(V){case"circle":return a.jsx(kr,{className:"w-4 h-4"});case"line":return a.jsx(xu,{className:"w-4 h-4"});default:return a.jsx(bv,{className:"w-4 h-4"})}},Zf=y.useCallback(()=>{if(!(!n||Fe.length<2))try{n.mergeBrushes(Fe),yt([]),ct("none")}catch(k){console.error("Failed to merge brushes:",k)}},[n,Fe]),qf=y.useCallback(()=>{yt([]),ct("none")},[]),Ba=y.useCallback(k=>{if(n)try{n.separateBrush(k)}catch(L){console.error("Failed to separate brush:",L)}},[n]),Ya=y.useCallback(k=>{n&&(console.log(`handleRemoveBrush called with brushId: ${k}`),ar({type:"removeBrush",payload:k}))},[n]),Xa=y.useCallback((k,L)=>{if(n)try{const z=n.getDetectedTileInfo(),D=z.findIndex(Z=>Z.gid===k),$=z.findIndex(Z=>Z.gid===L);D!==-1&&$!==-1&&(n.reorderBrush(D,$),console.log(`Reordered brush ${k} to position of ${L}`))}catch(z){console.error("Failed to reorder brush:",z)}},[n]);y.useEffect(()=>{console.log(`Brush tool changed to: ${K}`);const k=document.querySelector("[data-brush-tool]");if(k)k.setAttribute("data-brush-tool",K),console.log(`Updated existing data-brush-tool attribute to: ${K}`);else{const L=document.createElement("div");L.setAttribute("data-brush-tool",K),L.style.display="none",document.body.appendChild(L),console.log(`Created new data-brush-tool element with value: ${K}`)}},[K]),y.useEffect(()=>{const k=L=>{const{action:z,tileIndex:D}=L.detail;switch(z){case"select":yt($=>[...$,D]);break;case"deselect":yt($=>$.filter(Z=>Z!==D));break;case"separate":Ba(D);break;case"remove":Ya(D);break;case"drop":L.detail.from&&L.detail.to&&Xa(L.detail.from,L.detail.to);break}};return document.addEventListener("brushAction",k),()=>{document.removeEventListener("brushAction",k)}},[Ba,Ya,Xa]);const Jf=y.useCallback(async(k,L)=>{try{console.log("=== LOAD PROJECT DATA DEBUG ==="),console.log("Map config received:",{name:L.name,tilesets:L.tilesets?L.tilesets.length:0,tilesetImages:L.tilesetImages?Object.keys(L.tilesetImages).length:0,layers:L.layers?L.layers.length:0}),console.log("Map config full structure:",L),console.log("Creating layers from config...");const z=L.layers||[];console.log("Layers from config:",z);for(const D of z)if(console.log("Processing layer:",D),k.addLayer(D.name,D.type)){console.log(`Created layer: ${D.type} - ${D.name}`);const Z=k.getLayers().find(ut=>ut.type===D.type);Z&&D.data&&Array.isArray(D.data)&&(console.log(`Setting data for layer ${Z.id} with ${D.data.length} tiles`),Z.data=D.data)}else console.log(`Failed to create layer: ${D.type} - ${D.name}`);return console.log("=== CALLING EDITOR loadProjectData ==="),k.loadProjectData(L),console.log("Project data loading completed"),!0}catch(z){return console.error("Error loading project data:",z),!1}},[]);y.useEffect(()=>{E&&s.current&&!e&&(console.log("Canvas available and map config pending, creating editor..."),(async()=>{var L;try{console.log("Creating new editor with pending config...");const z=new To(s.current);console.log("Clearing local storage backup..."),z.clearLocalStorageBackup(),console.log("Setting map size..."),z.setMapSize(E.width,E.height),console.log("Loading project data...");const D=await Jf(z,E);if(console.log("Project data loading result:",D),console.log("=== EDITOR STATE AFTER loadProjectData ==="),console.log("Tile count after loadProjectData:",z.getTileCount()),console.log("Active layer after loadProjectData:",z.getActiveLayerId()),console.log("Layers after loadProjectData:",z.getLayers().map($=>({id:$.id,name:$.name,type:$.type}))),(L=window.electronAPI)!=null&&L.discoverTilesetImages&&Ge){console.log("Calling discoverTilesetImages for path:",Ge);const $=await window.electronAPI.discoverTilesetImages(Ge),Z=($==null?void 0:$.tilesetImages)||{},ut=Object.keys(Z),Hi=E,Ga=Hi.tilesets&&Array.isArray(Hi.tilesets)&&Hi.tilesets.some(Mn=>Mn.layerType);if(console.log("Has per-layer tilesets in project:",Ga),console.log("Available discovered images:",ut),!Ga&&ut.length>0){console.log("No per-layer tilesets found, using fallback assignment");const Mn=kt=>(kt||"").toLowerCase().replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]+/g," ").trim(),Qa=z.getActiveLayerId(),xp=z.getLayers();let Ka=!1;for(const kt of xp){const Za=[Mn(kt.type),Mn(kt.name)];let Tt=null;for(const dr of ut){const Bi=Mn(dr);if(Za.includes(Bi)){Tt=dr;break}}if(!Tt){const dr=ut.find(Bi=>{const wp=Mn(Bi);return Za.some(qa=>qa&&wp.includes(qa))});dr&&(Tt=dr)}!Tt&&ut.length===1&&(Tt=ut[0]),Tt?(console.log(`Assigning tileset '${Tt}' to layer ${kt.id} (${kt.type})`),z.setActiveLayer(kt.id),await z.loadTilesetFromDataURL(Z[Tt],Tt),Ka=!0):console.log(`No matching tileset found for layer ${kt.id} (${kt.type})`)}Qa!==null&&z.setActiveLayer(Qa),Ka&&z.forceSave()}else console.log("Per-layer tilesets already loaded, skipping fallback assignment")}console.log("Setting up autosave and updating UI..."),z.setDarkMode($e),bn(z),r(z),setTimeout(()=>{St();const $=z.getActiveLayerId(),Z=z.getLayers().find(ut=>ut.id===$);console.log("Final UI update - checking active layer:",$,Z==null?void 0:Z.type),z.redraw()},150),R(null)}catch(z){console.error("Failed to create editor with pending config:",z),R(null)}})())},[E,e,Ge,bn,St]);const ep=(k,L)=>{var D;const z=(D=k.target.files)==null?void 0:D[0];z&&(n!=null&&n.handleFileUpload)&&n.handleFileUpload(z,L)},tp=k=>{n&&(n.setActiveLayer(k),w(k))},np=k=>{if(n){n.toggleLayerVisibility(k);const L=n.getLayers();S([...L])}},rp=(k,L)=>{if(n){const z=m.find(D=>D.id===k);if(z){const D=z.transparency||0,$=Math.max(0,Math.min(1,D+L));n.setLayerTransparency(k,$),St()}}},sp=()=>{n!=null&&n.resizeMap&&n.resizeMap(i,l)},ip=()=>{n!=null&&n.zoomIn&&n.zoomIn()},op=()=>{n!=null&&n.zoomOut&&n.zoomOut()},lp=()=>{n!=null&&n.resetZoom&&n.resetZoom()},ap=()=>{n!=null&&n.undo&&(n.undo(),St())},cp=()=>{n!=null&&n.redo&&(n.redo(),St())},up=async()=>{var k;if(!n||!Ge){ds({title:"Export Failed",description:"No project loaded or editor not initialized.",variant:"destructive"});return}Da(!0),rn(0);try{rn(25);const L=n.generateFlareMapTxt();rn(50);const z=n.generateFlareTilesetDef();if(rn(75),(k=window.electronAPI)!=null&&k.saveExportFiles){const D=await window.electronAPI.saveExportFiles(Ge,L,z);if(rn(100),D)ds({title:"Export Successful",description:"Map and tileset files saved to project folder.",variant:"default"});else throw new Error("Failed to save export files")}else n.exportFlareMap(),rn(100)}catch(L){console.error("Export failed:",L),ds({title:"Export Failed",description:"An error occurred while exporting the map.",variant:"destructive"})}finally{setTimeout(()=>{Da(!1),rn(0)},1e3)}},Wi=y.useCallback(async()=>{if(n){La(!0);try{if(window.electronAPI&&Ge){const k=await n.saveProjectData(Ge);await new Promise(L=>setTimeout(L,300)),k&&Pa(Date.now())}else n.forceSave(),await new Promise(k=>setTimeout(k,500))}catch(k){console.error("Save error:",k)}finally{La(!1)}}},[n,Ge]),dp=()=>{n!=null&&n.toggleMinimap&&n.toggleMinimap(),h(!d)},hp=(k,L)=>{if(localStorage.removeItem("tilemap_autosave_backup"),Ia(L??null),o(k.width),c(k.height),Ma(k.name),t(!1),n&&r(null),s.current){const z=new To(s.current);z.resetForNewProject(),z.setMapSize(k.width,k.height),z.setDarkMode($e),bn(z),r(z),St()}},Ui=y.useCallback(async k=>{var L;console.log("=== HANDLE OPEN MAP CALLED ===",k),console.log("Project path details:",{path:k,timestamp:new Date().toISOString()});try{if(Aa(!0),Ia(k),(L=window.electronAPI)!=null&&L.openMapProject){console.log("Calling electronAPI.openMapProject...");const z=await window.electronAPI.openMapProject(k);if(console.log("=== RAW MAP CONFIG RECEIVED ==="),console.log("Full mapConfig object:",JSON.stringify(z,null,2)),z){console.log("=== MAP CONFIG ANALYSIS ==="),console.log("Map dimensions:",{width:z.width,height:z.height}),console.log("Map name:",z.name);const D=z;console.log("Tilesets count:",D.tilesets?D.tilesets.length:0),console.log("Tileset images count:",D.tilesetImages?Object.keys(D.tilesetImages).length:0),console.log("Layers count:",D.layers?D.layers.length:0),D.tilesets&&(console.log("=== TILESETS DETAILS ==="),D.tilesets.forEach(($,Z)=>{console.log(`Tileset ${Z}:`,{fileName:$.fileName,tileWidth:$.tileWidth,tileHeight:$.tileHeight,spacing:$.spacing,margin:$.margin,tileCount:$.tileCount})})),D.layers&&(console.log("=== LAYERS DETAILS ==="),D.layers.forEach(($,Z)=>{console.log(`Layer ${Z}:`,{id:$.id,name:$.name,type:$.type,visible:$.visible,opacity:$.opacity,dataLength:$.data?$.data.length:0})})),D.tilesetImages&&(console.log("=== TILESET IMAGES DETAILS ==="),Object.entries(D.tilesetImages).forEach(([$,Z])=>{console.log(`Image ${$}:`,{dataType:typeof Z,dataLength:Z?Z.length:0,isDataURL:typeof Z=="string"&&Z.startsWith("data:")})})),console.log("Setting map dimensions and clearing editor..."),o(z.width),c(z.height),t(!1),console.log("Clearing existing editor..."),n?(console.log("Found existing editor, clearing it"),r(null)):console.log("No existing editor to clear"),console.log("Storing map config for deferred editor creation"),R(z)}}else console.log("Opening map project:",k)}catch(z){console.error("Error opening map project:",z)}finally{Aa(!1)}},[n,bn,St]);y.useEffect(()=>{window.electronAPI&&(window.electronAPI.onMenuSaveMap(async()=>{await Wi()}),window.electronAPI.onMenuOpenMap(async()=>{const k=await window.electronAPI.selectDirectory();k&&await Ui(k)}),window.electronAPI.onMenuNewMap(()=>{t(!0)}))},[Wi,Ui]);const fp=()=>{var k;(k=window.electronAPI)!=null&&k.minimize?window.electronAPI.minimize():console.log("Minimize clicked - Electron API not available")},pp=()=>{var k;(k=window.electronAPI)!=null&&k.maximize?window.electronAPI.maximize():console.log("Maximize clicked - Electron API not available")},mp=()=>{var k;(k=window.electronAPI)!=null&&k.close?window.electronAPI.close():console.log("Close clicked - Electron API not available")},gp=()=>{n&&n.fillSelection()},yp=()=>{n&&n.clearSelection()},vp=()=>{n&&n.deleteSelection()};return a.jsx(a.Fragment,{children:e?a.jsx(W0,{onCreateNewMap:hp,onOpenMap:Ui,isDarkMode:$e}):a.jsxs("div",{className:"h-screen bg-background text-foreground flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-neutral-900 text-orange-600 dark:text-orange-400 flex justify-between items-center px-4 py-1 select-none drag-region border-b border-gray-200 dark:border-neutral-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-sm font-medium",children:"Flare Map Editor"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[us==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-orange-600",children:"Saving..."})]}),us==="saved"&&Of>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-green-600",children:"Saved"})]}),us==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{className:"text-red-600",children:"Save Error"})]}),us==="unsaved"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-yellow-600",children:"Unsaved"})]})]})]}),a.jsxs("div",{className:"flex no-drag",children:[a.jsx(H,{content:"Minimize",children:a.jsx("button",{onClick:fp,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded transition-colors",children:a.jsx(kl,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Maximize",children:a.jsx("button",{onClick:pp,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded transition-colors",children:a.jsx(an,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Close",children:a.jsx("button",{onClick:mp,className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded transition-colors",children:a.jsx(Ie,{className:"w-4 h-4"})})})]})]}),a.jsxs("main",{className:"flex flex-1 min-h-0",children:[a.jsxs("aside",{className:"w-80 border-r border-border bg-muted/30 p-4 overflow-y-auto",children:[a.jsxs("section",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Tileset"}),a.jsx(H,{content:"Import a PNG tileset for the active layer",side:"bottom",children:a.jsxs(_,{variant:"outline",size:"sm",className:"relative bg-orange-500 hover:bg-orange-600 text-white border-orange-500 hover:border-orange-600 h-6 text-xs px-2 shadow-sm",children:[a.jsx(So,{className:"w-3 h-3 mr-1"}),"Import Tileset",a.jsx("input",{type:"file",accept:"image/png",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:k=>ep(k,"layerTileset")})]})})]}),a.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:a.jsx("div",{children:a.jsx("span",{className:"font-medium",children:v?`${((Va=m.find(k=>k.id===v))==null?void 0:Va.type)||"none"} tileset`:"none tileset"})})}),a.jsx("div",{id:"tilesetMeta",className:"text-sm text-muted-foreground mb-2"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{id:"tilesContainer",className:"tile-palette"}),a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Brush Tools"}),a.jsxs("div",{className:"flex gap-1 flex-wrap",children:[a.jsx(H,{content:"Move/Reorder brushes",children:a.jsx(_,{variant:K==="move"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ct(K==="move"?"none":"move"),children:a.jsx(Dy,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Merge brushes",children:a.jsx(_,{variant:K==="merge"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ct(K==="merge"?"none":"merge"),children:a.jsx(gu,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Separate brushes",children:a.jsx(_,{variant:K==="separate"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ct(K==="separate"?"none":"separate"),children:a.jsx(Cv,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Remove brushes",children:a.jsx(_,{variant:K==="remove"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ct(K==="remove"?"none":"remove"),children:a.jsx(Dv,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Remove tileset for current layer",children:a.jsx(_,{variant:"outline",size:"sm",className:"text-xs px-1 py-1 h-6 border-red-500 hover:border-red-600 hover:bg-red-50 shadow-sm",onClick:()=>{ar({type:"removeTileset"})},children:a.jsx(Ie,{className:"w-3 h-3 text-red-500"})})})]}),K==="merge"&&a.jsxs("div",{className:"mt-2 flex gap-2 items-center",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",Fe.length]}),a.jsx(H,{content:"Approve merge",children:a.jsx(_,{variant:"default",size:"sm",className:"text-xs px-2 py-1 h-6",onClick:Zf,disabled:Fe.length<2,children:a.jsx($y,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Cancel merge",children:a.jsx(_,{variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-6",onClick:qf,children:a.jsx(Ie,{className:"w-3 h-3"})})})]}),K!=="none"&&a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground bg-gray-50 p-2 rounded",children:[K==="move"&&"Drag brushes to reorder them",K==="merge"&&"Click brushes to select them, then approve to merge",K==="separate"&&"Click on merged brushes to separate them",K==="remove"&&"Click on brushes to remove them (with confirmation)"]})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Active GID: ",a.jsx("span",{id:"activeGid",children:u})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-sm font-semibold mb-2",children:"Layers"}),a.jsx("div",{className:"mb-2 space-y-0.5",children:m.map(k=>a.jsx("div",{className:`px-2 py-1 border rounded transition-colors text-xs ${v===k.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 dark:border-orange-400":"border-border hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:a.jsx("div",{className:"cursor-pointer",onClick:()=>tp(k.id),children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(H,{content:k.visible?"Hide layer":"Show layer",children:a.jsx(_,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),np(k.id)},className:"w-4 h-4 p-0 hover:bg-gray-200 dark:hover:bg-gray-700",children:k.visible?a.jsx(Ky,{className:"w-2.5 h-2.5"}):a.jsx(Gy,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"})})}),a.jsx(_,{variant:"ghost",size:"sm",className:"w-4 h-4 p-0 hover:bg-gray-200 dark:hover:bg-gray-700",onMouseEnter:L=>{const z=Math.round((k.transparency||0)*100);Ee(a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ps,{className:"w-3 h-3"}),"Transparency (",z,"%)"]}),L.currentTarget)},onMouseLeave:ze,onWheel:L=>{L.preventDefault();const z=L.deltaY>0?.1:-.1,D=k.transparency||0,$=Math.max(0,Math.min(1,D+z));rp(k.id,z);const Z=Math.round($*100);Ee(a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ps,{className:"w-3 h-3"}),"Transparency (",Z,"%)"]}),L.currentTarget)},children:a.jsx(Oy,{className:"w-2.5 h-2.5"})}),a.jsx("span",{className:"text-xs font-medium truncate",children:k.name})]})})})},k.id))})]})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 w-96",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Map Settings"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>p(!1),className:"w-8 h-8 p-0",children:a.jsx(Ie,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Map Name"}),a.jsx(Ut,{type:"text",value:_f,onChange:k=>Ma(k.target.value),placeholder:"Enter map name",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Map Width"}),a.jsx(Ut,{type:"number",value:i,onChange:k=>o(Number(k.target.value)),min:"1",max:"100",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Map Height"}),a.jsx(Ut,{type:"number",value:l,onChange:k=>c(Number(k.target.value)),min:"1",max:"100",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Theme (Experimental)"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Light Mode"}),a.jsxs("button",{onClick:()=>Af(!$e),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${$e?"bg-orange-600":"bg-gray-200"}`,children:[a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${$e?"translate-x-6":"translate-x-1"}`}),a.jsx("span",{className:"sr-only",children:"Toggle dark mode"})]}),a.jsxs("span",{className:"text-sm flex items-center gap-1",children:[$e?a.jsx(lv,{className:"w-4 h-4"}):a.jsx(Iv,{className:"w-4 h-4"}),"Dark Mode"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Debug Mode"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Disabled"}),a.jsxs("button",{onClick:()=>{n&&n.toggleDebugMode()},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n!=null&&n.getDebugMode()?"bg-orange-600":"bg-gray-200"}`,children:[a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n!=null&&n.getDebugMode()?"translate-x-6":"translate-x-1"}`}),a.jsx("span",{className:"sr-only",children:"Toggle debug mode"})]}),a.jsxs("span",{className:"text-sm flex items-center gap-1",children:[a.jsx(Tr,{className:"w-4 h-4"}),"Debug Tiles"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shows tile boundaries and coordinates for debugging"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Auto-Save"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Disabled"}),a.jsxs("button",{onClick:()=>{const k=!cr;Rf(k),n&&n.setAutoSaveEnabled(k)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${cr?"bg-orange-600":"bg-gray-200"}`,children:[a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${cr?"translate-x-6":"translate-x-1"}`}),a.jsx("span",{className:"sr-only",children:"Toggle auto-save"})]}),a.jsx("span",{className:"text-sm",children:"Enabled"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Automatically saves your work every 8 seconds"})]})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx(_,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),a.jsx(_,{onClick:()=>{sp(),p(!1)},className:"flex-1",children:"Apply Changes"})]})]})}),If&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 w-80",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Clear Layer"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>cs(!1),className:"w-8 h-8 p-0",children:a.jsx(Ie,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"text-sm text-foreground mb-4",children:"Are you sure you want to clear all tiles from the current layer? This action cannot be undone."}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(_,{variant:"outline",onClick:()=>cs(!1),children:"Cancel"}),a.jsx(_,{onClick:()=>{n&&n.clearLayer(),A("brush"),cs(!1)},children:"Clear"})]})]})}),jn&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 w-80",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Confirm"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>ar(null),className:"w-8 h-8 p-0",children:a.jsx(Ie,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-sm text-foreground mb-4",children:[jn.type==="removeBrush"&&"Are you sure you want to remove this brush?",jn.type==="removeTileset"&&"Are you sure you want to remove the tileset for this layer? This will clear the tileset but keep any placed tiles."]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(_,{variant:"outline",onClick:()=>ar(null),children:"Cancel"}),a.jsx(_,{onClick:()=>{try{if(jn.type==="removeBrush"){const k=jn.payload;n&&n.removeBrush(k)}else jn.type==="removeTileset"&&n&&n.removeLayerTileset()}catch(k){console.error("Confirm action failed:",k)}finally{ar(null)}},children:"Confirm"})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-0 w-[800px] max-h-[80vh] overflow-y-auto help-modal relative",children:[a.jsx("div",{className:"sticky top-0 z-20 bg-background/95 backdrop-blur-sm border-b border-border py-3 px-4 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Help & Documentation"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>T(!1),className:"w-8 h-8 p-0","aria-label":"Close Help",children:a.jsx(Ie,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800 dark:text-gray-100",children:[a.jsx(Tr,{className:"w-5 h-5 text-orange-500"}),"Getting Started"]}),a.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-400",children:[a.jsx("p",{children:"Welcome to the Isometric Tile Map Editor! This tool allows you to create beautiful isometric tile-based maps."}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-gray-700 dark:text-gray-400",children:[a.jsx("li",{children:"Start by creating a new map or loading an existing one"}),a.jsx("li",{children:"Import tilesets to begin designing"}),a.jsx("li",{children:"Use layers to organize different elements of your map"}),a.jsx("li",{children:"Export your finished map for use in your projects"})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(vu,{className:"w-5 h-5 text-orange-500"}),"Map Management"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-400",children:"Layers help organize your map content. Each layer can have its own tileset and transparency."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ku,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Save/Export"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Save your map as JSON or export as PNG image"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(So,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Load Map"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Load previously saved JSON map files"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Tu,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Map Settings"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure map dimensions, tile size, and other properties"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(gu,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Lock/Unlock"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Prevent accidental edits to completed layers"})]})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800 dark:text-gray-100",children:[a.jsx(Ls,{className:"w-5 h-5 text-orange-500"}),"Drawing Tools"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ls,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Brush Tool"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paint individual tiles by clicking"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(wo,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Bucket Fill"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Fill connected areas with the same tile"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(vo,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Eraser"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Remove tiles from the map"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(wu,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Eyedropper"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Select a tile from the map to use as brush"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800 dark:text-gray-100",children:[a.jsx(an,{className:"w-5 h-5 text-orange-500"}),"Tileset Management"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-400",children:"Each layer can have its own tileset. Import PNG images to use as tilesets."}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(So,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Import Tileset"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click the upload button for each layer to import a tileset image"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ie,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Remove Tileset"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use the red X button to remove a tileset from a layer"})]})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800 dark:text-gray-100",children:[a.jsx(xo,{className:"w-5 h-5 text-orange-500"}),"Navigation & Viewport"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Nu,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Zoom Controls"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use +/- buttons or mouse wheel to zoom in/out"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(xo,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Pan View"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hold and drag the middle mouse button to pan"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Su,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Reset View"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reset zoom and center the view"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(yu,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Coordinates"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hover over the map to see tile coordinates"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Tr,{className:"w-5 h-5 text-orange-500"}),"Keyboard Shortcuts"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 bg-gray-50 dark:bg-neutral-900 p-4 rounded-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Ctrl+Z"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Undo"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Ctrl+Y"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Redo"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Ctrl+S"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Save Map"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Mouse Wheel"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Zoom"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Middle Click + Drag"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Pan"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Hover + Wheel"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Layer Transparency"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(ko,{className:"w-5 h-5 text-orange-500"}),"Tips & Best Practices"]}),a.jsx("div",{className:"space-y-2 text-gray-700 dark:text-gray-400",children:a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-gray-700 dark:text-gray-400",children:[a.jsx("li",{children:"Use separate layers for different map elements (background, objects, decorations)"}),a.jsx("li",{children:"Name your layers descriptively for better organization"}),a.jsx("li",{children:"Lock completed layers to prevent accidental changes"}),a.jsx("li",{children:"Adjust layer transparency to see underlying elements while editing"}),a.jsx("li",{children:"Use the eyedropper tool to quickly select tiles from existing map areas"}),a.jsx("li",{children:"Save frequently to avoid losing work"}),a.jsx("li",{children:"Test your map export to ensure it looks correct in your target application"})]})})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200 text-center",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Isometric Tile Map Editor - Create beautiful tile-based maps with ease"})})]})]})}),a.jsxs("section",{className:"flex-1 min-w-0 flex flex-col relative",children:[a.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[a.jsx(H,{content:"Undo (Ctrl+Z)",side:"bottom",children:a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:ap,children:a.jsx(Ov,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Redo (Ctrl+Y)",side:"bottom",children:a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:cp,children:a.jsx(Sv,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Zoom In",side:"bottom",children:a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:ip,children:a.jsx(Nu,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Zoom Out",side:"bottom",children:a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:op,children:a.jsx(Bv,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Reset View",side:"bottom",children:a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:lp,children:a.jsx(Su,{className:"w-4 h-4"})})}),a.jsx(H,{content:"Toggle Minimap",side:"bottom",children:a.jsx(_,{size:"sm",variant:d?"default":"outline",className:"w-8 h-8 p-0",onClick:dp,children:a.jsx(vu,{className:"w-4 h-4"})})})]}),a.jsxs("div",{className:"bg-gray-100 flex-1 min-h-0 flex items-center justify-center overflow-hidden relative",children:[C&&a.jsxs("div",{className:"absolute top-4 left-4 z-20 p-3 bg-white/90 dark:bg-neutral-900/90 backdrop-blur-sm rounded-lg border border-border shadow-lg",children:[a.jsx(_,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0",onClick:()=>j(!1),children:a.jsx(Ie,{className:"w-3 h-3"})}),a.jsxs("div",{className:"space-y-2 pr-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsx(cv,{className:"w-4 h-4"}),a.jsx("span",{children:"Left Click to Paint"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsx(Ps,{className:"w-4 h-4"}),a.jsx("span",{children:"Right Click to Delete"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsx(xo,{className:"w-4 h-4"}),a.jsx("span",{children:"Spacebar + Mouse to Pan"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ps,{className:"w-4 h-4"}),a.jsx(kr,{className:"w-2 h-2 absolute top-1 left-1.5 opacity-60"})]}),a.jsx("span",{children:"Mouse Wheel to Zoom In-Out"})]})]})]}),a.jsx("canvas",{ref:s,id:"mapCanvas",className:"tile-canvas w-full h-full max-w-full max-h-full"}),$i&&a.jsxs("div",{className:"absolute bottom-4 left-4 z-10 p-2 bg-white/90 dark:bg-neutral-900/90 backdrop-blur-sm rounded-md border border-gray-200 dark:border-neutral-600 text-gray-800 dark:text-white text-xs font-mono flex items-center gap-2 shadow-sm",children:[a.jsx(yu,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),a.jsxs("span",{children:[$i.x,", ",$i.y]})]}),Bf&&a.jsxs("div",{className:"absolute bottom-4 left-32 z-10 p-2 bg-orange-600/90 backdrop-blur-sm rounded-md border border-orange-500 text-white text-xs flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 font-mono",children:[a.jsx(an,{className:"w-4 h-4 text-orange-200"}),a.jsxs("span",{children:[Uf," tiles selected"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(H,{content:"Fill selection with active tile",children:a.jsx(_,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs text-white hover:bg-orange-500/50",onClick:gp,children:"Fill"})}),a.jsx(H,{content:"Delete selected tiles (DEL)",children:a.jsx(_,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs text-white hover:bg-orange-500/50",onClick:vp,children:"Delete"})}),a.jsx(H,{content:"Clear selection (ESC)",children:a.jsx(_,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs text-white hover:bg-orange-500/50",onClick:yp,children:"Clear"})})]})]}),a.jsx("div",{ref:Fi,className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-30",children:a.jsxs("div",{className:"flex items-center gap-1 bg-white/90 dark:bg-neutral-900/90 border border-border rounded-full px-2 py-1 shadow-md",children:[a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="brush"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>Q("brush"),onMouseEnter:k=>{Ra(),Ee("Brush Tool",k.currentTarget)},onMouseLeave:()=>{Oa(),ze()},children:Gf()}),U&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-1 bg-white dark:bg-neutral-900 border border-border rounded shadow-lg p-1 flex gap-1 min-w-max z-50",onMouseEnter:Ra,onMouseLeave:Oa,children:[a.jsx(_,{variant:M==="brush"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>A("brush"),onMouseEnter:k=>Ee("Brush Tool",k.currentTarget),onMouseLeave:ze,children:a.jsx(Ls,{className:"w-3 h-3"})}),a.jsx(_,{variant:M==="bucket"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>A("bucket"),onMouseEnter:k=>Ee("Bucket Fill",k.currentTarget),onMouseLeave:ze,children:a.jsx(wo,{className:"w-3 h-3"})}),a.jsx(_,{variant:M==="eraser"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>A("eraser"),onMouseEnter:k=>Ee("Eraser",k.currentTarget),onMouseLeave:ze,children:a.jsx(vo,{className:"w-3 h-3"})}),a.jsx(_,{variant:M==="clear"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button border-red-500 hover:border-red-600 hover:bg-red-50",onClick:()=>cs(!0),onMouseEnter:k=>Ee("Clear Layer",k.currentTarget),onMouseLeave:ze,children:a.jsx(Ie,{className:"w-3 h-3 text-red-500"})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="selection"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>Q("selection"),onMouseEnter:k=>{Fa(),Ee("Selection Tool",k.currentTarget)},onMouseLeave:()=>{$a(),ze()},children:Qf()}),F&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-1 bg-white dark:bg-neutral-900 border border-border rounded shadow-lg p-1 flex gap-1 min-w-max z-50",onMouseEnter:Fa,onMouseLeave:$a,children:[a.jsx(_,{variant:O==="rectangular"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>X("rectangular"),onMouseEnter:k=>Ee("Rectangular Selection",k.currentTarget),onMouseLeave:ze,children:a.jsx(an,{className:"w-3 h-3"})}),a.jsx(_,{variant:O==="magic-wand"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>X("magic-wand"),onMouseEnter:k=>Ee("Magic Wand",k.currentTarget),onMouseLeave:ze,children:a.jsx(ko,{className:"w-3 h-3"})}),a.jsx(_,{variant:O==="same-tile"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>X("same-tile"),onMouseEnter:k=>Ee("Select Same Tile",k.currentTarget),onMouseLeave:ze,children:a.jsx(Tr,{className:"w-3 h-3"})}),a.jsx(_,{variant:O==="circular"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>X("circular"),onMouseEnter:k=>Ee("Circular Select",k.currentTarget),onMouseLeave:ze,children:a.jsx(kr,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="shape"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>Q("shape"),onMouseEnter:k=>{Wa(),Ee("Shape Tool",k.currentTarget)},onMouseLeave:()=>{Ua(),ze()},children:Kf()}),pe&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-1 bg-white dark:bg-neutral-900 border border-border rounded shadow-lg p-1 flex gap-1 min-w-max z-50",onMouseEnter:Wa,onMouseLeave:Ua,children:[a.jsx(H,{content:"Rectangle Shape",children:a.jsx(_,{variant:V==="rectangle"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>J("rectangle"),children:a.jsx(an,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Circle Shape",children:a.jsx(_,{variant:V==="circle"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>J("circle"),children:a.jsx(kr,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Line Shape",children:a.jsx(_,{variant:V==="line"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>J("line"),children:a.jsx(xu,{className:"w-3 h-3"})})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="stamp"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>Q("stamp"),onMouseEnter:k=>Ee("Stamp Tool - Group tiles into a stamp and place them together",k.currentTarget),onMouseLeave:ze,children:a.jsx(Lv,{className:"w-3 h-3"})}),P==="stamp"&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg p-2 min-w-[200px] z-10",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx(H,{content:"Select and place existing stamps",children:a.jsx(_,{variant:Cn==="select"?"default":"ghost",size:"sm",className:"flex-1 text-xs",onClick:()=>or("select"),children:"Select"})}),a.jsx(H,{content:"Create stamp from selection",children:a.jsx(_,{variant:Cn==="create"?"default":"ghost",size:"sm",className:"flex-1 text-xs",onClick:()=>or("create"),children:"Create"})})]}),Cn==="create"&&a.jsxs("div",{className:"border-t pt-2",children:[a.jsx("div",{className:"text-xs font-medium mb-1",children:"Create New Stamp"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("input",{type:"text",placeholder:"Stamp name",value:lr,onChange:k=>ba(k.target.value),className:"flex-1 text-xs px-2 py-1 border rounded",onKeyDown:k=>{k.key==="Enter"&&Ha()}}),a.jsx(_,{size:"sm",className:"text-xs",onClick:Ha,disabled:!lr.trim(),children:"Create"})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"First select tiles, then create stamp"})]}),Cn==="select"&&a.jsxs("div",{className:"border-t pt-2 max-h-32 overflow-y-auto",children:[a.jsx("div",{className:"text-xs font-medium mb-1",children:"Available Stamps"}),ja.length===0?a.jsx("div",{className:"text-xs text-gray-500",children:"No stamps created yet"}):a.jsx("div",{className:"flex flex-col gap-1",children:ja.map(k=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(H,{content:`${k.name} (${k.width}x${k.height})`,children:a.jsx(_,{variant:ir===k.id?"default":"ghost",size:"sm",className:"flex-1 text-xs justify-start",onClick:()=>Xf(k.id),children:k.name})}),a.jsx(H,{content:"Delete stamp",children:a.jsx(_,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-red-500",onClick:()=>Vf(k.id),children:a.jsx(Ie,{className:"w-3 h-3"})})})]},k.id))})]})]})})]}),a.jsx(_,{variant:P==="eyedropper"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>Q("eyedropper"),onMouseEnter:k=>Ee("Eyedropper Tool - Pick a tile from the map to reuse",k.currentTarget),onMouseLeave:ze,children:a.jsx(wu,{className:"w-3 h-3"})})]})})]})]})]}),a.jsx("div",{className:"fixed bottom-4 left-0 w-80 z-40",children:a.jsxs("div",{className:"flex flex-col gap-2 px-4",children:[a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx(H,{content:"Export the map file and tilesetdef",children:a.jsx(_,{"data-tooltip-offset":"20",onClick:up,className:"shadow-sm flex items-center gap-1 px-3 py-1 h-7 text-xs",size:"sm",disabled:Oi,children:Oi?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Exporting..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Yy,{className:"w-3 h-3"}),a.jsx("span",{children:"Export Map"})]})})}),a.jsx(H,{content:za?"Save changes":"All changes saved",children:a.jsx(_,{"data-tooltip-offset":"20",onClick:Wi,className:`w-7 h-7 p-0 shadow-sm transition-colors ${Ri?"bg-blue-500 hover:bg-blue-600":za?"bg-orange-500 hover:bg-orange-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:Ri,size:"sm",children:Ri?a.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(ku,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Help & Documentation",children:a.jsx(_,{"data-tooltip-offset":"20",onClick:()=>T(!0),className:"w-7 h-7 p-0 shadow-sm",variant:"outline",size:"sm",children:a.jsx(Uy,{className:"w-3 h-3"})})}),a.jsx(H,{content:"Map Settings",children:a.jsx(_,{"data-tooltip-offset":"20",onClick:()=>p(!0),className:"w-7 h-7 p-0 shadow-sm",variant:"outline",size:"sm",children:a.jsx(Tu,{className:"w-3 h-3"})})})]}),Oi&&a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-full transition-all duration-300 ease-out rounded-full",style:{width:`${$f}%`}})})]})}),a.jsx(F0,{}),En&&a.jsx("div",{className:`custom-tooltip ${En.visible?"visible":""} ${En.fadeOut?"fade-out":""}`,style:{left:En.x,top:En.y},children:En.content})]})})}Eo.createRoot(document.getElementById("root")).render(a.jsx(ue.StrictMode,{children:a.jsx(U0,{})}));
