function xp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Mu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bu={exports:{}},gi={},Pu={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),wp=Symbol.for("react.portal"),Sp=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),jp=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Mp=Symbol.for("react.memo"),bp=Symbol.for("react.lazy"),Ga=Symbol.iterator;function Pp(e){return e===null||typeof e!="object"?null:(e=Ga&&e[Ga]||e["@@iterator"],typeof e=="function"?e:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Iu={};function tr(e,t,n){this.props=e,this.context=t,this.refs=Iu,this.updater=n||Lu}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _u(){}_u.prototype=tr.prototype;function No(e,t,n){this.props=e,this.context=t,this.refs=Iu,this.updater=n||Lu}var To=No.prototype=new _u;To.constructor=No;zu(To,tr.prototype);To.isPureReactComponent=!0;var Qa=Array.isArray,Au=Object.prototype.hasOwnProperty,Co={current:null},Du={key:!0,ref:!0,__self:!0,__source:!0};function Ru(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Au.call(t,r)&&!Du.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:es,type:e,key:i,ref:l,props:s,_owner:Co.current}}function Lp(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jo(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function zp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ka=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zp(""+e.key):t.toString(36)}function Ls(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case es:case wp:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Wi(l,0):r,Qa(s)?(n="",e!=null&&(n=e.replace(Ka,"$&/")+"/"),Ls(s,t,n,"",function(u){return u})):s!=null&&(jo(s)&&(s=Lp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Ka,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Qa(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Wi(i,o);l+=Ls(i,t,n,c,s)}else if(c=Pp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Wi(i,o++),l+=Ls(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function cs(e,t,n){if(e==null)return e;var r=[],s=0;return Ls(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},zs={transition:null},_p={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:zs,ReactCurrentOwner:Co};function Ou(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:cs,forEach:function(e,t,n){cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!jo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=tr;H.Fragment=Sp;H.Profiler=Np;H.PureComponent=No;H.StrictMode=kp;H.Suspense=Ep;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;H.act=Ou;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zu({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Co.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Au.call(t,c)&&!Du.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:es,type:e.type,key:s,ref:i,props:r,_owner:l}};H.createContext=function(e){return e={$$typeof:Cp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tp,_context:e},e.Consumer=e};H.createElement=Ru;H.createFactory=function(e){var t=Ru.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:jp,render:e}};H.isValidElement=jo;H.lazy=function(e){return{$$typeof:bp,_payload:{_status:-1,_result:e},_init:Ip}};H.memo=function(e,t){return{$$typeof:Mp,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=zs.transition;zs.transition={};try{e()}finally{zs.transition=t}};H.unstable_act=Ou;H.useCallback=function(e,t){return Ee.current.useCallback(e,t)};H.useContext=function(e){return Ee.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ee.current.useEffect(e,t)};H.useId=function(){return Ee.current.useId()};H.useImperativeHandle=function(e,t,n){return Ee.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ee.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Ee.current.useReducer(e,t,n)};H.useRef=function(e){return Ee.current.useRef(e)};H.useState=function(e){return Ee.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Ee.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Ee.current.useTransition()};H.version="18.3.1";Pu.exports=H;var y=Pu.exports;const Nt=Mu(y),Ap=xp({__proto__:null,default:Nt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=y,Rp=Symbol.for("react.element"),Op=Symbol.for("react.fragment"),Fp=Object.prototype.hasOwnProperty,$p=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wp={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Fp.call(t,r)&&!Wp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Rp,type:e,key:i,ref:l,props:s,_owner:$p.current}}gi.Fragment=Op;gi.jsx=Fu;gi.jsxs=Fu;bu.exports=gi;var a=bu.exports,kl={},$u={exports:{}},Ue={},Wu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,A){var D=b.length;b.push(A);e:for(;0<D;){var Y=D-1>>>1,X=b[Y];if(0<s(X,A))b[Y]=A,b[D]=X,D=Y;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var A=b[0],D=b.pop();if(D!==A){b[0]=D;e:for(var Y=0,X=b.length,q=X>>>1;Y<q;){var Q=2*(Y+1)-1,ot=b[Q],Ae=Q+1,gt=b[Ae];if(0>s(ot,D))Ae<X&&0>s(gt,ot)?(b[Y]=gt,b[Ae]=D,Y=Ae):(b[Y]=ot,b[Q]=D,Y=Q);else if(Ae<X&&0>s(gt,D))b[Y]=gt,b[Ae]=D,Y=Ae;else break e}}return A}function s(b,A){var D=b.sortIndex-A.sortIndex;return D!==0?D:b.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,m=3,w=!1,v=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=b)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function S(b){if(x=!1,g(b),!v)if(n(c)!==null)v=!0,he(T);else{var A=n(u);A!==null&&ye(S,A.startTime-b)}}function T(b,A){v=!1,x&&(x=!1,p(M),M=-1),w=!0;var D=m;try{for(g(A),h=n(c);h!==null&&(!(h.expirationTime>A)||b&&!G());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,m=h.priorityLevel;var X=Y(h.expirationTime<=A);A=e.unstable_now(),typeof X=="function"?h.callback=X:h===n(c)&&r(c),g(A)}else r(c);h=n(c)}if(h!==null)var q=!0;else{var Q=n(u);Q!==null&&ye(S,Q.startTime-A),q=!1}return q}finally{h=null,m=D,w=!1}}var C=!1,j=null,M=-1,F=5,P=-1;function G(){return!(e.unstable_now()-P<F)}function W(){if(j!==null){var b=e.unstable_now();P=b;var A=!0;try{A=j(!0,b)}finally{A?ue():(C=!1,j=null)}}else C=!1}var ue;if(typeof f=="function")ue=function(){f(W)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,oe=O.port2;O.port1.onmessage=W,ue=function(){oe.postMessage(null)}}else ue=function(){N(W,0)};function he(b){j=b,C||(C=!0,ue())}function ye(b,A){M=N(function(){b(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,he(T))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(b){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var D=m;m=A;try{return b()}finally{m=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,A){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var D=m;m=b;try{return A()}finally{m=D}},e.unstable_scheduleCallback=function(b,A,D){var Y=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Y+D:Y):D=Y,b){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=D+X,b={id:d++,callback:A,priorityLevel:b,startTime:D,expirationTime:X,sortIndex:-1},D>Y?(b.sortIndex=D,t(u,b),n(c)===null&&b===n(u)&&(x?(p(M),M=-1):x=!0,ye(S,D-Y))):(b.sortIndex=X,t(c,b),v||w||(v=!0,he(T))),b},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(b){var A=m;return function(){var D=m;m=A;try{return b.apply(this,arguments)}finally{m=D}}}})(Uu);Wu.exports=Uu;var Up=Wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=y,We=Up;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hu=new Set,Dr={};function Sn(e,t){Gn(e,t),Gn(e+"Capture",t)}function Gn(e,t){for(Dr[e]=t,e=0;e<t.length;e++)Hu.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,Bp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Za={},qa={};function Yp(e){return Nl.call(qa,e)?!0:Nl.call(Za,e)?!1:Bp.test(e)?qa[e]=!0:(Za[e]=!0,!1)}function Xp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vp(e,t,n,r){if(t===null||typeof t>"u"||Xp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eo=/[\-:]([a-z])/g;function Mo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eo,Mo);we[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eo,Mo);we[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eo,Mo);we[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function bo(e,t,n,r){var s=we.hasOwnProperty(t)?we[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vp(t,n,s,r)&&(n=null),r||s===null?Yp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var It=Hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Po=Symbol.for("react.strict_mode"),Tl=Symbol.for("react.profiler"),Bu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),Lo=Symbol.for("react.forward_ref"),Cl=Symbol.for("react.suspense"),jl=Symbol.for("react.suspense_list"),zo=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function ur(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ui;function kr(e){if(Ui===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ui=t&&t[1]||""}return`
`+Ui+e}var Hi=!1;function Bi(e,t){if(!e||Hi)return"";Hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kr(e):""}function Gp(e){switch(e.tag){case 5:return kr(e.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return e=Bi(e.type,!1),e;case 11:return e=Bi(e.type.render,!1),e;case 1:return e=Bi(e.type,!0),e;default:return""}}function El(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case Pn:return"Portal";case Tl:return"Profiler";case Po:return"StrictMode";case Cl:return"Suspense";case jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yu:return(e.displayName||"Context")+".Consumer";case Bu:return(e._context.displayName||"Context")+".Provider";case Lo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zo:return t=e.displayName||null,t!==null?t:El(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return El(e(t))}catch{}}return null}function Qp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return El(t);case 8:return t===Po?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kp(e){var t=Vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ds(e){e._valueTracker||(e._valueTracker=Kp(e))}function Gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ml(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ec(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qu(e,t){t=t.checked,t!=null&&bo(e,"checked",t,!1)}function bl(e,t){Qu(e,t);var n=Zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pl(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pl(e,t,n){(t!=="number"||Ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nr=Array.isArray;function Un(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Nr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function Ku(e,t){var n=Zt(t.value),r=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zp=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){Zp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function Ju(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ju(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var qp=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(qp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function _l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Al=null;function Io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dl=null,Hn=null,Bn=null;function sc(e){if(e=rs(e)){if(typeof Dl!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Si(t),Dl(e.stateNode,e.type,t))}}function td(e){Hn?Bn?Bn.push(e):Bn=[e]:Hn=e}function nd(){if(Hn){var e=Hn,t=Bn;if(Bn=Hn=null,sc(e),t)for(e=0;e<t.length;e++)sc(t[e])}}function rd(e,t){return e(t)}function sd(){}var Yi=!1;function id(e,t,n){if(Yi)return e(t,n);Yi=!0;try{return rd(e,t,n)}finally{Yi=!1,(Hn!==null||Bn!==null)&&(sd(),nd())}}function Or(e,t){var n=e.stateNode;if(n===null)return null;var r=Si(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Rl=!1;if(bt)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Rl=!1}function Jp(e,t,n,r,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Er=!1,Xs=null,Vs=!1,Ol=null,em={onError:function(e){Er=!0,Xs=e}};function tm(e,t,n,r,s,i,l,o,c){Er=!1,Xs=null,Jp.apply(em,arguments)}function nm(e,t,n,r,s,i,l,o,c){if(tm.apply(this,arguments),Er){if(Er){var u=Xs;Er=!1,Xs=null}else throw Error(E(198));Vs||(Vs=!0,Ol=u)}}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ic(e){if(kn(e)!==e)throw Error(E(188))}function rm(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ic(s),e;if(i===r)return ic(s),t;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function od(e){return e=rm(e),e!==null?ad(e):null}function ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ad(e);if(t!==null)return t;e=e.sibling}return null}var cd=We.unstable_scheduleCallback,lc=We.unstable_cancelCallback,sm=We.unstable_shouldYield,im=We.unstable_requestPaint,ce=We.unstable_now,lm=We.unstable_getCurrentPriorityLevel,_o=We.unstable_ImmediatePriority,ud=We.unstable_UserBlockingPriority,Gs=We.unstable_NormalPriority,om=We.unstable_LowPriority,dd=We.unstable_IdlePriority,yi=null,ft=null;function am(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(yi,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:dm,cm=Math.log,um=Math.LN2;function dm(e){return e>>>=0,e===0?32:31-(cm(e)/um|0)|0}var fs=64,ps=4194304;function Tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Tr(o):(i&=l,i!==0&&(r=Tr(i)))}else l=n&~s,l!==0?r=Tr(l):i!==0&&(r=Tr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-st(t),s=1<<n,r|=e[n],t&=~s;return r}function hm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-st(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=hm(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hd(){var e=fs;return fs<<=1,!(fs&4194240)&&(fs=64),e}function Xi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=n}function pm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-st(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ao(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Z=0;function fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pd,Do,md,gd,yd,$l=!1,ms=[],Ht=null,Bt=null,Yt=null,Fr=new Map,$r=new Map,Ot=[],mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(t.pointerId)}}function hr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=rs(t),t!==null&&Do(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gm(e,t,n,r,s){switch(t){case"focusin":return Ht=hr(Ht,e,t,n,r,s),!0;case"dragenter":return Bt=hr(Bt,e,t,n,r,s),!0;case"mouseover":return Yt=hr(Yt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fr.set(i,hr(Fr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$r.set(i,hr($r.get(i)||null,e,t,n,r,s)),!0}return!1}function vd(e){var t=an(e.target);if(t!==null){var n=kn(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,yd(e.priority,function(){md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Al=r,n.target.dispatchEvent(r),Al=null}else return t=rs(n),t!==null&&Do(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){Is(e)&&n.delete(t)}function ym(){$l=!1,Ht!==null&&Is(Ht)&&(Ht=null),Bt!==null&&Is(Bt)&&(Bt=null),Yt!==null&&Is(Yt)&&(Yt=null),Fr.forEach(ac),$r.forEach(ac)}function fr(e,t){e.blockedOn===t&&(e.blockedOn=null,$l||($l=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,ym)))}function Wr(e){function t(s){return fr(s,e)}if(0<ms.length){fr(ms[0],e);for(var n=1;n<ms.length;n++){var r=ms[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ht!==null&&fr(Ht,e),Bt!==null&&fr(Bt,e),Yt!==null&&fr(Yt,e),Fr.forEach(t),$r.forEach(t),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)vd(n),n.blockedOn===null&&Ot.shift()}var Yn=It.ReactCurrentBatchConfig,Ks=!0;function vm(e,t,n,r){var s=Z,i=Yn.transition;Yn.transition=null;try{Z=1,Ro(e,t,n,r)}finally{Z=s,Yn.transition=i}}function xm(e,t,n,r){var s=Z,i=Yn.transition;Yn.transition=null;try{Z=4,Ro(e,t,n,r)}finally{Z=s,Yn.transition=i}}function Ro(e,t,n,r){if(Ks){var s=Wl(e,t,n,r);if(s===null)nl(e,t,r,Zs,n),oc(e,r);else if(gm(s,e,t,n,r))r.stopPropagation();else if(oc(e,r),t&4&&-1<mm.indexOf(e)){for(;s!==null;){var i=rs(s);if(i!==null&&pd(i),i=Wl(e,t,n,r),i===null&&nl(e,t,r,Zs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nl(e,t,r,null,n)}}var Zs=null;function Wl(e,t,n,r){if(Zs=null,e=Io(r),e=an(e),e!==null)if(t=kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zs=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lm()){case _o:return 1;case ud:return 4;case Gs:case om:return 16;case dd:return 536870912;default:return 16}default:return 16}}var $t=null,Oo=null,_s=null;function wd(){if(_s)return _s;var e,t=Oo,n=t.length,r,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return _s=s.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function cc(){return!1}function He(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gs:cc,this.isPropagationStopped=cc,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=He(nr),ns=le({},nr,{view:0,detail:0}),wm=He(ns),Vi,Gi,pr,vi=le({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(Vi=e.screenX-pr.screenX,Gi=e.screenY-pr.screenY):Gi=Vi=0,pr=e),Vi)},movementY:function(e){return"movementY"in e?e.movementY:Gi}}),uc=He(vi),Sm=le({},vi,{dataTransfer:0}),km=He(Sm),Nm=le({},ns,{relatedTarget:0}),Qi=He(Nm),Tm=le({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cm=He(Tm),jm=le({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=He(jm),Mm=le({},nr,{data:0}),dc=He(Mm),bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lm[e])?!!t[e]:!1}function $o(){return zm}var Im=le({},ns,{key:function(e){if(e.key){var t=bm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$o,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_m=He(Im),Am=le({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=He(Am),Dm=le({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$o}),Rm=He(Dm),Om=le({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fm=He(Om),$m=le({},vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wm=He($m),Um=[9,13,27,32],Wo=bt&&"CompositionEvent"in window,Mr=null;bt&&"documentMode"in document&&(Mr=document.documentMode);var Hm=bt&&"TextEvent"in window&&!Mr,Sd=bt&&(!Wo||Mr&&8<Mr&&11>=Mr),fc=" ",pc=!1;function kd(e,t){switch(e){case"keyup":return Um.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function Bm(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(pc=!0,fc);case"textInput":return e=t.data,e===fc&&pc?null:e;default:return null}}function Ym(e,t){if(zn)return e==="compositionend"||!Wo&&kd(e,t)?(e=wd(),_s=Oo=$t=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var Xm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xm[e.type]:t==="textarea"}function Td(e,t,n,r){td(r),t=qs(t,"onChange"),0<t.length&&(n=new Fo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var br=null,Ur=null;function Vm(e){Ad(e,0)}function xi(e){var t=An(e);if(Gu(t))return e}function Gm(e,t){if(e==="change")return t}var Cd=!1;if(bt){var Ki;if(bt){var Zi="oninput"in document;if(!Zi){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),Zi=typeof gc.oninput=="function"}Ki=Zi}else Ki=!1;Cd=Ki&&(!document.documentMode||9<document.documentMode)}function yc(){br&&(br.detachEvent("onpropertychange",jd),Ur=br=null)}function jd(e){if(e.propertyName==="value"&&xi(Ur)){var t=[];Td(t,Ur,e,Io(e)),id(Vm,t)}}function Qm(e,t,n){e==="focusin"?(yc(),br=t,Ur=n,br.attachEvent("onpropertychange",jd)):e==="focusout"&&yc()}function Km(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(Ur)}function Zm(e,t){if(e==="click")return xi(t)}function qm(e,t){if(e==="input"||e==="change")return xi(t)}function Jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:Jm;function Hr(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nl.call(t,s)||!lt(e[s],t[s]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xc(e,t){var n=vc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vc(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Md(){for(var e=window,t=Ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ys(e.document)}return t}function Uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eg(e){var t=Md(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ed(n.ownerDocument.documentElement,n)){if(r!==null&&Uo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=xc(n,i);var l=xc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tg=bt&&"documentMode"in document&&11>=document.documentMode,In=null,Ul=null,Pr=null,Hl=!1;function wc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hl||In==null||In!==Ys(r)||(r=In,"selectionStart"in r&&Uo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&Hr(Pr,r)||(Pr=r,r=qs(Ul,"onSelect"),0<r.length&&(t=new Fo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=In)))}function ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},qi={},bd={};bt&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function wi(e){if(qi[e])return qi[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bd)return qi[e]=t[n];return e}var Pd=wi("animationend"),Ld=wi("animationiteration"),zd=wi("animationstart"),Id=wi("transitionend"),_d=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){_d.set(e,t),Sn(t,[e])}for(var Ji=0;Ji<Sc.length;Ji++){var el=Sc[Ji],ng=el.toLowerCase(),rg=el[0].toUpperCase()+el.slice(1);Jt(ng,"on"+rg)}Jt(Pd,"onAnimationEnd");Jt(Ld,"onAnimationIteration");Jt(zd,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Id,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function kc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nm(r,t,void 0,e),e.currentTarget=null}function Ad(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;kc(s,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;kc(s,o,u),i=c}}}if(Vs)throw e=Ol,Vs=!1,Ol=null,e}function te(e,t){var n=t[Gl];n===void 0&&(n=t[Gl]=new Set);var r=e+"__bubble";n.has(r)||(Dd(t,e,2,!1),n.add(r))}function tl(e,t,n){var r=0;t&&(r|=4),Dd(n,e,r,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[vs]){e[vs]=!0,Hu.forEach(function(n){n!=="selectionchange"&&(sg.has(n)||tl(n,!1,e),tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,tl("selectionchange",!1,t))}}function Dd(e,t,n,r){switch(xd(t)){case 1:var s=vm;break;case 4:s=xm;break;default:s=Ro}n=s.bind(null,t,n,e),s=void 0,!Rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function nl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=an(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}id(function(){var u=i,d=Io(n),h=[];e:{var m=_d.get(e);if(m!==void 0){var w=Fo,v=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":w=_m;break;case"focusin":v="focus",w=Qi;break;case"focusout":v="blur",w=Qi;break;case"beforeblur":case"afterblur":w=Qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Rm;break;case Pd:case Ld:case zd:w=Cm;break;case Id:w=Fm;break;case"scroll":w=wm;break;case"wheel":w=Wm;break;case"copy":case"cut":case"paste":w=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=hc}var x=(t&4)!==0,N=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var f=u,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,p!==null&&(S=Or(f,p),S!=null&&x.push(Yr(f,S,g)))),N)break;f=f.return}0<x.length&&(m=new w(m,v,null,n,d),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==Al&&(v=n.relatedTarget||n.fromElement)&&(an(v)||v[Pt]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=u,v=v?an(v):null,v!==null&&(N=kn(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=u),w!==v)){if(x=uc,S="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=hc,S="onPointerLeave",p="onPointerEnter",f="pointer"),N=w==null?m:An(w),g=v==null?m:An(v),m=new x(S,f+"leave",w,n,d),m.target=N,m.relatedTarget=g,S=null,an(d)===u&&(x=new x(p,f+"enter",v,n,d),x.target=g,x.relatedTarget=N,S=x),N=S,w&&v)t:{for(x=w,p=v,f=0,g=x;g;g=bn(g))f++;for(g=0,S=p;S;S=bn(S))g++;for(;0<f-g;)x=bn(x),f--;for(;0<g-f;)p=bn(p),g--;for(;f--;){if(x===p||p!==null&&x===p.alternate)break t;x=bn(x),p=bn(p)}x=null}else x=null;w!==null&&Nc(h,m,w,x,!1),v!==null&&N!==null&&Nc(h,N,v,x,!0)}}e:{if(m=u?An(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var T=Gm;else if(mc(m))if(Cd)T=qm;else{T=Km;var C=Qm}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=Zm);if(T&&(T=T(e,u))){Td(h,T,n,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Pl(m,"number",m.value)}switch(C=u?An(u):window,e){case"focusin":(mc(C)||C.contentEditable==="true")&&(In=C,Ul=u,Pr=null);break;case"focusout":Pr=Ul=In=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,wc(h,n,d);break;case"selectionchange":if(tg)break;case"keydown":case"keyup":wc(h,n,d)}var j;if(Wo)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else zn?kd(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Sd&&n.locale!=="ko"&&(zn||M!=="onCompositionStart"?M==="onCompositionEnd"&&zn&&(j=wd()):($t=d,Oo="value"in $t?$t.value:$t.textContent,zn=!0)),C=qs(u,M),0<C.length&&(M=new dc(M,e,null,n,d),h.push({event:M,listeners:C}),j?M.data=j:(j=Nd(n),j!==null&&(M.data=j)))),(j=Hm?Bm(e,n):Ym(e,n))&&(u=qs(u,"onBeforeInput"),0<u.length&&(d=new dc("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}Ad(h,t)})}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Or(e,n),i!=null&&r.unshift(Yr(e,i,s)),i=Or(e,t),i!=null&&r.push(Yr(e,i,s))),e=e.return}return r}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Or(n,i),c!=null&&l.unshift(Yr(n,c,o))):s||(c=Or(n,i),c!=null&&l.push(Yr(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ig=/\r\n?/g,lg=/\u0000|\uFFFD/g;function Tc(e){return(typeof e=="string"?e:""+e).replace(ig,`
`).replace(lg,"")}function xs(e,t,n){if(t=Tc(t),Tc(e)!==t&&n)throw Error(E(425))}function Js(){}var Bl=null,Yl=null;function Xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vl=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,Cc=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof Cc<"u"?function(e){return Cc.resolve(null).then(e).catch(cg)}:Vl;function cg(e){setTimeout(function(){throw e})}function rl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wr(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),ht="__reactFiber$"+rr,Xr="__reactProps$"+rr,Pt="__reactContainer$"+rr,Gl="__reactEvents$"+rr,ug="__reactListeners$"+rr,dg="__reactHandles$"+rr;function an(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jc(e);e!==null;){if(n=e[ht])return n;e=jc(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[ht]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Si(e){return e[Xr]||null}var Ql=[],Dn=-1;function en(e){return{current:e}}function ne(e){0>Dn||(e.current=Ql[Dn],Ql[Dn]=null,Dn--)}function J(e,t){Dn++,Ql[Dn]=e.current,e.current=t}var qt={},Te=en(qt),ze=en(!1),pn=qt;function Qn(e,t){var n=e.type.contextTypes;if(!n)return qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(e){return e=e.childContextTypes,e!=null}function ei(){ne(ze),ne(Te)}function Ec(e,t,n){if(Te.current!==qt)throw Error(E(168));J(Te,t),J(ze,n)}function Rd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(E(108,Qp(e)||"Unknown",s));return le({},n,r)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,pn=Te.current,J(Te,e),J(ze,ze.current),!0}function Mc(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Rd(e,t,pn),r.__reactInternalMemoizedMergedChildContext=e,ne(ze),ne(Te),J(Te,e)):ne(ze),J(ze,n)}var Ct=null,ki=!1,sl=!1;function Od(e){Ct===null?Ct=[e]:Ct.push(e)}function hg(e){ki=!0,Od(e)}function tn(){if(!sl&&Ct!==null){sl=!0;var e=0,t=Z;try{var n=Ct;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ct=null,ki=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),cd(_o,tn),s}finally{Z=t,sl=!1}}return null}var Rn=[],On=0,ni=null,ri=0,Xe=[],Ve=0,mn=null,jt=1,Et="";function sn(e,t){Rn[On++]=ri,Rn[On++]=ni,ni=e,ri=t}function Fd(e,t,n){Xe[Ve++]=jt,Xe[Ve++]=Et,Xe[Ve++]=mn,mn=e;var r=jt;e=Et;var s=32-st(r)-1;r&=~(1<<s),n+=1;var i=32-st(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,jt=1<<32-st(t)+s|n<<s|r,Et=i+e}else jt=1<<i|n<<s|r,Et=e}function Ho(e){e.return!==null&&(sn(e,1),Fd(e,1,0))}function Bo(e){for(;e===ni;)ni=Rn[--On],Rn[On]=null,ri=Rn[--On],Rn[On]=null;for(;e===mn;)mn=Xe[--Ve],Xe[Ve]=null,Et=Xe[--Ve],Xe[Ve]=null,jt=Xe[--Ve],Xe[Ve]=null}var $e=null,Fe=null,re=!1,rt=null;function $d(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Fe=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:jt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$e=e,Fe=null,!0):!1;default:return!1}}function Kl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zl(e){if(re){var t=Fe;if(t){var n=t;if(!bc(e,t)){if(Kl(e))throw Error(E(418));t=Xt(n.nextSibling);var r=$e;t&&bc(e,t)?$d(r,n):(e.flags=e.flags&-4097|2,re=!1,$e=e)}}else{if(Kl(e))throw Error(E(418));e.flags=e.flags&-4097|2,re=!1,$e=e}}}function Pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function ws(e){if(e!==$e)return!1;if(!re)return Pc(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xl(e.type,e.memoizedProps)),t&&(t=Fe)){if(Kl(e))throw Wd(),Error(E(418));for(;t;)$d(e,t),t=Xt(t.nextSibling)}if(Pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fe=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=$e?Xt(e.stateNode.nextSibling):null;return!0}function Wd(){for(var e=Fe;e;)e=Xt(e.nextSibling)}function Kn(){Fe=$e=null,re=!1}function Yo(e){rt===null?rt=[e]:rt.push(e)}var fg=It.ReactCurrentBatchConfig;function mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lc(e){var t=e._init;return t(e._payload)}function Ud(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=Kt(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,f,g,S){return f===null||f.tag!==6?(f=dl(g,p.mode,S),f.return=p,f):(f=s(f,g),f.return=p,f)}function c(p,f,g,S){var T=g.type;return T===Ln?d(p,f,g.props.children,S,g.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Dt&&Lc(T)===f.type)?(S=s(f,g.props),S.ref=mr(p,f,g),S.return=p,S):(S=Us(g.type,g.key,g.props,null,p.mode,S),S.ref=mr(p,f,g),S.return=p,S)}function u(p,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=hl(g,p.mode,S),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function d(p,f,g,S,T){return f===null||f.tag!==7?(f=fn(g,p.mode,S,T),f.return=p,f):(f=s(f,g),f.return=p,f)}function h(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=dl(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case us:return g=Us(f.type,f.key,f.props,null,p.mode,g),g.ref=mr(p,null,f),g.return=p,g;case Pn:return f=hl(f,p.mode,g),f.return=p,f;case Dt:var S=f._init;return h(p,S(f._payload),g)}if(Nr(f)||ur(f))return f=fn(f,p.mode,g,null),f.return=p,f;Ss(p,f)}return null}function m(p,f,g,S){var T=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:o(p,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case us:return g.key===T?c(p,f,g,S):null;case Pn:return g.key===T?u(p,f,g,S):null;case Dt:return T=g._init,m(p,f,T(g._payload),S)}if(Nr(g)||ur(g))return T!==null?null:d(p,f,g,S,null);Ss(p,g)}return null}function w(p,f,g,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(g)||null,o(f,p,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case us:return p=p.get(S.key===null?g:S.key)||null,c(f,p,S,T);case Pn:return p=p.get(S.key===null?g:S.key)||null,u(f,p,S,T);case Dt:var C=S._init;return w(p,f,g,C(S._payload),T)}if(Nr(S)||ur(S))return p=p.get(g)||null,d(f,p,S,T,null);Ss(f,S)}return null}function v(p,f,g,S){for(var T=null,C=null,j=f,M=f=0,F=null;j!==null&&M<g.length;M++){j.index>M?(F=j,j=null):F=j.sibling;var P=m(p,j,g[M],S);if(P===null){j===null&&(j=F);break}e&&j&&P.alternate===null&&t(p,j),f=i(P,f,M),C===null?T=P:C.sibling=P,C=P,j=F}if(M===g.length)return n(p,j),re&&sn(p,M),T;if(j===null){for(;M<g.length;M++)j=h(p,g[M],S),j!==null&&(f=i(j,f,M),C===null?T=j:C.sibling=j,C=j);return re&&sn(p,M),T}for(j=r(p,j);M<g.length;M++)F=w(j,p,M,g[M],S),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?M:F.key),f=i(F,f,M),C===null?T=F:C.sibling=F,C=F);return e&&j.forEach(function(G){return t(p,G)}),re&&sn(p,M),T}function x(p,f,g,S){var T=ur(g);if(typeof T!="function")throw Error(E(150));if(g=T.call(g),g==null)throw Error(E(151));for(var C=T=null,j=f,M=f=0,F=null,P=g.next();j!==null&&!P.done;M++,P=g.next()){j.index>M?(F=j,j=null):F=j.sibling;var G=m(p,j,P.value,S);if(G===null){j===null&&(j=F);break}e&&j&&G.alternate===null&&t(p,j),f=i(G,f,M),C===null?T=G:C.sibling=G,C=G,j=F}if(P.done)return n(p,j),re&&sn(p,M),T;if(j===null){for(;!P.done;M++,P=g.next())P=h(p,P.value,S),P!==null&&(f=i(P,f,M),C===null?T=P:C.sibling=P,C=P);return re&&sn(p,M),T}for(j=r(p,j);!P.done;M++,P=g.next())P=w(j,p,M,P.value,S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?M:P.key),f=i(P,f,M),C===null?T=P:C.sibling=P,C=P);return e&&j.forEach(function(W){return t(p,W)}),re&&sn(p,M),T}function N(p,f,g,S){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case us:e:{for(var T=g.key,C=f;C!==null;){if(C.key===T){if(T=g.type,T===Ln){if(C.tag===7){n(p,C.sibling),f=s(C,g.props.children),f.return=p,p=f;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Dt&&Lc(T)===C.type){n(p,C.sibling),f=s(C,g.props),f.ref=mr(p,C,g),f.return=p,p=f;break e}n(p,C);break}else t(p,C);C=C.sibling}g.type===Ln?(f=fn(g.props.children,p.mode,S,g.key),f.return=p,p=f):(S=Us(g.type,g.key,g.props,null,p.mode,S),S.ref=mr(p,f,g),S.return=p,p=S)}return l(p);case Pn:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=hl(g,p.mode,S),f.return=p,p=f}return l(p);case Dt:return C=g._init,N(p,f,C(g._payload),S)}if(Nr(g))return v(p,f,g,S);if(ur(g))return x(p,f,g,S);Ss(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,g),f.return=p,p=f):(n(p,f),f=dl(g,p.mode,S),f.return=p,p=f),l(p)):n(p,f)}return N}var Zn=Ud(!0),Hd=Ud(!1),si=en(null),ii=null,Fn=null,Xo=null;function Vo(){Xo=Fn=ii=null}function Go(e){var t=si.current;ne(si),e._currentValue=t}function ql(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){ii=e,Xo=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(Xo!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(ii===null)throw Error(E(308));Fn=e,ii.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var cn=null;function Qo(e){cn===null?cn=[e]:cn.push(e)}function Bd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Qo(t)):(n.next=s.next,s.next=n),t.interleaved=n,Lt(e,r)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rt=!1;function Ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Lt(e,n)}return s=r.interleaved,s===null?(t.next=t,Qo(r)):(t.next=s.next,s.next=t),r.interleaved=t,Lt(e,n)}function Ds(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ao(e,n)}}function zc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function li(e,t,n,r){var s=e.updateQueue;Rt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;l=0,d=u=c=null,o=i;do{var m=o.lane,w=o.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,x=o;switch(m=t,w=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(w,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(w,h,m):v,m==null)break e;h=le({},h,m);break e;case 2:Rt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else w={eventTime:w,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=w,c=h):d=d.next=w,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yn|=l,e.lanes=l,e.memoizedState=h}}function Ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var ss={},pt=en(ss),Vr=en(ss),Gr=en(ss);function un(e){if(e===ss)throw Error(E(174));return e}function Zo(e,t){switch(J(Gr,t),J(Vr,e),J(pt,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zl(t,e)}ne(pt),J(pt,t)}function qn(){ne(pt),ne(Vr),ne(Gr)}function Xd(e){un(Gr.current);var t=un(pt.current),n=zl(t,e.type);t!==n&&(J(Vr,e),J(pt,n))}function qo(e){Vr.current===e&&(ne(pt),ne(Vr))}var se=en(0);function oi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=[];function Jo(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var Rs=It.ReactCurrentDispatcher,ll=It.ReactCurrentBatchConfig,gn=0,ie=null,fe=null,me=null,ai=!1,Lr=!1,Qr=0,pg=0;function Se(){throw Error(E(321))}function ea(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,s,i){if(gn=i,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=e===null||e.memoizedState===null?vg:xg,e=n(r,s),Lr){i=0;do{if(Lr=!1,Qr=0,25<=i)throw Error(E(301));i+=1,me=fe=null,t.updateQueue=null,Rs.current=wg,e=n(r,s)}while(Lr)}if(Rs.current=ci,t=fe!==null&&fe.next!==null,gn=0,me=fe=ie=null,ai=!1,t)throw Error(E(300));return e}function na(){var e=Qr!==0;return Qr=0,e}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ie.memoizedState=me=e:me=me.next=e,me}function Ze(){if(fe===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?ie.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(E(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?ie.memoizedState=me=e:me=me.next=e}return me}function Kr(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=Ze(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((gn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=r):c=c.next=h,ie.lanes|=d,yn|=d}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,lt(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ie.lanes|=i,yn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function al(e){var t=Ze(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);lt(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vd(){}function Gd(e,t){var n=ie,r=Ze(),s=t(),i=!lt(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,ra(Zd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Kd.bind(null,n,r,s,t),void 0,null),ge===null)throw Error(E(349));gn&30||Qd(n,t,s)}return s}function Qd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kd(e,t,n,r){t.value=n,t.getSnapshot=r,qd(t)&&Jd(e)}function Zd(e,t,n){return n(function(){qd(t)&&Jd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lt(e,n)}catch{return!0}}function Jd(e){var t=Lt(e,1);t!==null&&it(t,e,1,-1)}function _c(e){var t=dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e},t.queue=e,e=e.dispatch=yg.bind(null,ie,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eh(){return Ze().memoizedState}function Os(e,t,n,r){var s=dt();ie.flags|=e,s.memoizedState=Zr(1|t,n,void 0,r===void 0?null:r)}function Ni(e,t,n,r){var s=Ze();r=r===void 0?null:r;var i=void 0;if(fe!==null){var l=fe.memoizedState;if(i=l.destroy,r!==null&&ea(r,l.deps)){s.memoizedState=Zr(t,n,i,r);return}}ie.flags|=e,s.memoizedState=Zr(1|t,n,i,r)}function Ac(e,t){return Os(8390656,8,e,t)}function ra(e,t){return Ni(2048,8,e,t)}function th(e,t){return Ni(4,2,e,t)}function nh(e,t){return Ni(4,4,e,t)}function rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sh(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4,4,rh.bind(null,t,e),n)}function sa(){}function ih(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lh(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oh(e,t,n){return gn&21?(lt(n,t)||(n=hd(),ie.lanes|=n,yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function mg(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=ll.transition;ll.transition={};try{e(!1),t()}finally{Z=n,ll.transition=r}}function ah(){return Ze().memoizedState}function gg(e,t,n){var r=Qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ch(e))uh(t,n);else if(n=Bd(e,t,n,r),n!==null){var s=je();it(n,e,r,s),dh(n,t,r)}}function yg(e,t,n){var r=Qt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ch(e))uh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,lt(o,l)){var c=t.interleaved;c===null?(s.next=s,Qo(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Bd(e,t,s,r),n!==null&&(s=je(),it(n,e,r,s),dh(n,t,r))}}function ch(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function uh(e,t){Lr=ai=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ao(e,n)}}var ci={readContext:Ke,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},vg={readContext:Ke,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Ac,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Os(4194308,4,rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gg.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:sa,useDeferredValue:function(e){return dt().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=mg.bind(null,e[1]),dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,s=dt();if(re){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ge===null)throw Error(E(349));gn&30||Qd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ac(Zd.bind(null,r,i,e),[e]),r.flags|=2048,Zr(9,Kd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dt(),t=ge.identifierPrefix;if(re){var n=Et,r=jt;n=(r&~(1<<32-st(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xg={readContext:Ke,useCallback:ih,useContext:Ke,useEffect:ra,useImperativeHandle:sh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:lh,useReducer:ol,useRef:eh,useState:function(){return ol(Kr)},useDebugValue:sa,useDeferredValue:function(e){var t=Ze();return oh(t,fe.memoizedState,e)},useTransition:function(){var e=ol(Kr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Gd,useId:ah,unstable_isNewReconciler:!1},wg={readContext:Ke,useCallback:ih,useContext:Ke,useEffect:ra,useImperativeHandle:sh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:lh,useReducer:al,useRef:eh,useState:function(){return al(Kr)},useDebugValue:sa,useDeferredValue:function(e){var t=Ze();return fe===null?t.memoizedState=e:oh(t,fe.memoizedState,e)},useTransition:function(){var e=al(Kr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Gd,useId:ah,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ti={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),s=Qt(e),i=Mt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(it(t,e,s,r),Ds(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),s=Qt(e),i=Mt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(it(t,e,s,r),Ds(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=Qt(e),s=Mt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(it(t,e,r,n),Ds(t,e,r))}};function Dc(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(s,i):!0}function hh(e,t,n){var r=!1,s=qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ie(t)?pn:Te.current,r=t.contextTypes,i=(r=r!=null)?Qn(e,s):qt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ti,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ti.enqueueReplaceState(t,t.state,null)}function eo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ko(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ie(t)?pn:Te.current,s.context=Qn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Jl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ti.enqueueReplaceState(s,s.state,null),li(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Jn(e,t){try{var n="",r=t;do n+=Gp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function to(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sg=typeof WeakMap=="function"?WeakMap:Map;function fh(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){di||(di=!0,ho=r),to(e,t)},n}function ph(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){to(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){to(e,t),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Oc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ag.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var kg=It.ReactCurrentOwner,Le=!1;function Ce(e,t,n,r){t.child=e===null?Hd(t,null,n,r):Zn(t,e.child,n,r)}function Wc(e,t,n,r,s){n=n.render;var i=t.ref;return Xn(t,s),r=ta(e,t,n,r,i,s),n=na(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(re&&n&&Ho(t),t.flags|=1,Ce(e,t,r,s),t.child)}function Uc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ha(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,mh(e,t,i,r,s)):(e=Us(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(l,r)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=Kt(i,r),e.ref=t.ref,e.return=t,t.child=e}function mh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Hr(i,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,zt(e,t,s)}return no(e,t,n,r,s)}function gh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Wn,Re),Re|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Wn,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,J(Wn,Re),Re|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,J(Wn,Re),Re|=r;return Ce(e,t,s,n),t.child}function yh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function no(e,t,n,r,s){var i=Ie(n)?pn:Te.current;return i=Qn(t,i),Xn(t,s),n=ta(e,t,n,r,i,s),r=na(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(re&&r&&Ho(t),t.flags|=1,Ce(e,t,n,s),t.child)}function Hc(e,t,n,r,s){if(Ie(n)){var i=!0;ti(t)}else i=!1;if(Xn(t,s),t.stateNode===null)Fs(e,t),hh(t,n,r),eo(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Ie(n)?pn:Te.current,u=Qn(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Rc(t,l,r,u),Rt=!1;var m=t.memoizedState;l.state=m,li(t,r,l,s),c=t.memoizedState,o!==r||m!==c||ze.current||Rt?(typeof d=="function"&&(Jl(t,n,d,r),c=t.memoizedState),(o=Rt||Dc(t,n,o,r,m,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Yd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:tt(t.type,o),l.props=u,h=t.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ke(c):(c=Ie(n)?pn:Te.current,c=Qn(t,c));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Rc(t,l,r,c),Rt=!1,m=t.memoizedState,l.state=m,li(t,r,l,s);var v=t.memoizedState;o!==h||m!==v||ze.current||Rt?(typeof w=="function"&&(Jl(t,n,w,r),v=t.memoizedState),(u=Rt||Dc(t,n,u,r,m,v,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return ro(e,t,n,r,i,s)}function ro(e,t,n,r,s,i){yh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Mc(t,n,!1),zt(e,t,i);r=t.stateNode,kg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Zn(t,e.child,null,i),t.child=Zn(t,null,o,i)):Ce(e,t,o,i),t.memoizedState=r.state,s&&Mc(t,n,!0),t.child}function vh(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),Zo(e,t.containerInfo)}function Bc(e,t,n,r,s){return Kn(),Yo(s),t.flags|=256,Ce(e,t,n,r),t.child}var so={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:null,transitions:null}}function xh(e,t,n){var r=t.pendingProps,s=se.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),J(se,s&1),e===null)return Zl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ei(l,r,0,null),e=fn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=io(n),t.memoizedState=so,e):ia(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ng(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Kt(o,i):(i=fn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?io(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=so,r}return i=e.child,e=i.sibling,r=Kt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ia(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,n,r){return r!==null&&Yo(r),Zn(t,e.child,null,n),e=ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ng(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=cl(Error(E(422))),ks(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ei({mode:"visible",children:r.children},s,0,null),i=fn(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Zn(t,e.child,null,l),t.child.memoizedState=io(l),t.memoizedState=so,i);if(!(t.mode&1))return ks(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(E(419)),r=cl(i,r,void 0),ks(e,t,l,r)}if(o=(l&e.childLanes)!==0,Le||o){if(r=ge,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lt(e,s),it(r,e,s,-1))}return da(),r=cl(Error(E(421))),ks(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Fe=Xt(s.nextSibling),$e=t,re=!0,rt=null,e!==null&&(Xe[Ve++]=jt,Xe[Ve++]=Et,Xe[Ve++]=mn,jt=e.id,Et=e.overflow,mn=t),t=ia(t,r.children),t.flags|=4096,t)}function Yc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ql(e.return,t,n)}function ul(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ce(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yc(e,n,t);else if(e.tag===19)Yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&oi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ul(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&oi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ul(t,!0,n,null,i);break;case"together":ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tg(e,t,n){switch(t.tag){case 3:vh(t),Kn();break;case 5:Xd(t);break;case 1:Ie(t.type)&&ti(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;J(si,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?xh(e,t,n):(J(se,se.current&1),e=zt(e,t,n),e!==null?e.sibling:null);J(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,gh(e,t,n)}return zt(e,t,n)}var Sh,lo,kh,Nh;Sh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lo=function(){};kh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,un(pt.current);var i=null;switch(n){case"input":s=Ml(e,s),r=Ml(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Ll(e,s),r=Ll(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Js)}Il(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Nh=function(e,t,n,r){n!==r&&(t.flags|=4)};function gr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cg(e,t,n){var r=t.pendingProps;switch(Bo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Ie(t.type)&&ei(),ke(t),null;case 3:return r=t.stateNode,qn(),ne(ze),ne(Te),Jo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rt!==null&&(mo(rt),rt=null))),lo(e,t),ke(t),null;case 5:qo(t);var s=un(Gr.current);if(n=t.type,e!==null&&t.stateNode!=null)kh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return ke(t),null}if(e=un(pt.current),ws(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ht]=t,r[Xr]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<Cr.length;s++)te(Cr[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":ec(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":nc(r,i),te("invalid",r)}Il(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&xs(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&xs(r.textContent,o,e),s=["children",""+o]):Dr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&te("scroll",r)}switch(n){case"input":ds(r),tc(r,i,!0);break;case"textarea":ds(r),rc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Js)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ht]=t,e[Xr]=r,Sh(e,t,!1,!1),t.stateNode=e;e:{switch(l=_l(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cr.length;s++)te(Cr[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":ec(e,r),s=Ml(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),te("invalid",e);break;case"textarea":nc(e,r),s=Ll(e,r),te("invalid",e);break;default:s=r}Il(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ed(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Rr(e,c):typeof c=="number"&&Rr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&te("scroll",e):c!=null&&bo(e,i,c,l))}switch(n){case"input":ds(e),tc(e,r,!1);break;case"textarea":ds(e),rc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Un(e,!!r.multiple,i,!1):r.defaultValue!=null&&Un(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)Nh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=un(Gr.current),un(pt.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(i=r.nodeValue!==n)&&(e=$e,e!==null))switch(e.tag){case 3:xs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return ke(t),null;case 13:if(ne(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Fe!==null&&t.mode&1&&!(t.flags&128))Wd(),Kn(),t.flags|=98560,i=!1;else if(i=ws(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ht]=t}else Kn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else rt!==null&&(mo(rt),rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?pe===0&&(pe=3):da())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return qn(),lo(e,t),e===null&&Br(t.stateNode.containerInfo),ke(t),null;case 10:return Go(t.type._context),ke(t),null;case 17:return Ie(t.type)&&ei(),ke(t),null;case 19:if(ne(se),i=t.memoizedState,i===null)return ke(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)gr(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=oi(e),l!==null){for(t.flags|=128,gr(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>er&&(t.flags|=128,r=!0,gr(i,!1),t.lanes=4194304)}else{if(!r)if(e=oi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!re)return ke(t),null}else 2*ce()-i.renderingStartTime>er&&n!==1073741824&&(t.flags|=128,r=!0,gr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=se.current,J(se,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return ua(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Re&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function jg(e,t){switch(Bo(t),t.tag){case 1:return Ie(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(),ne(ze),ne(Te),Jo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qo(t),null;case 13:if(ne(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(se),null;case 4:return qn(),null;case 10:return Go(t.type._context),null;case 22:case 23:return ua(),null;case 24:return null;default:return null}}var Ns=!1,Ne=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,I=null;function $n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function oo(e,t,n){try{n()}catch(r){ae(e,t,r)}}var Xc=!1;function Mg(e,t){if(Bl=Ks,e=Md(),Uo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(o=l+s),h!==i||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===e)break t;if(m===n&&++u===s&&(o=l),m===i&&++d===r&&(c=l),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:e,selectionRange:n},Ks=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,N=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:tt(t.type,x),N);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(S){ae(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return v=Xc,Xc=!1,v}function zr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&oo(t,n,i)}s=s.next}while(s!==r)}}function Ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[Xr],delete t[Gl],delete t[ug],delete t[dg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ch(e){return e.tag===5||e.tag===3||e.tag===4}function Vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function co(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(r!==4&&(e=e.child,e!==null))for(co(e,t,n),e=e.sibling;e!==null;)co(e,t,n),e=e.sibling}function uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uo(e,t,n),e=e.sibling;e!==null;)uo(e,t,n),e=e.sibling}var ve=null,nt=!1;function _t(e,t,n){for(n=n.child;n!==null;)jh(e,t,n),n=n.sibling}function jh(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(yi,n)}catch{}switch(n.tag){case 5:Ne||$n(n,t);case 6:var r=ve,s=nt;ve=null,_t(e,t,n),ve=r,nt=s,ve!==null&&(nt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(nt?(e=ve,n=n.stateNode,e.nodeType===8?rl(e.parentNode,n):e.nodeType===1&&rl(e,n),Wr(e)):rl(ve,n.stateNode));break;case 4:r=ve,s=nt,ve=n.stateNode.containerInfo,nt=!0,_t(e,t,n),ve=r,nt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&oo(n,t,l),s=s.next}while(s!==r)}_t(e,t,n);break;case 1:if(!Ne&&($n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ae(n,t,o)}_t(e,t,n);break;case 21:_t(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,_t(e,t,n),Ne=r):_t(e,t,n);break;default:_t(e,t,n)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Eg),t.forEach(function(r){var s=Rg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ve=o.stateNode,nt=!1;break e;case 3:ve=o.stateNode.containerInfo,nt=!0;break e;case 4:ve=o.stateNode.containerInfo,nt=!0;break e}o=o.return}if(ve===null)throw Error(E(160));jh(i,l,s),ve=null,nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}function Eh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),ut(e),r&4){try{zr(3,e,e.return),Ci(3,e)}catch(x){ae(e,e.return,x)}try{zr(5,e,e.return)}catch(x){ae(e,e.return,x)}}break;case 1:Je(t,e),ut(e),r&512&&n!==null&&$n(n,n.return);break;case 5:if(Je(t,e),ut(e),r&512&&n!==null&&$n(n,n.return),e.flags&32){var s=e.stateNode;try{Rr(s,"")}catch(x){ae(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Qu(s,i),_l(o,l);var u=_l(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?ed(s,h):d==="dangerouslySetInnerHTML"?qu(s,h):d==="children"?Rr(s,h):bo(s,d,h,u)}switch(o){case"input":bl(s,i);break;case"textarea":Ku(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Un(s,!!i.multiple,w,!1):m!==!!i.multiple&&(i.defaultValue!=null?Un(s,!!i.multiple,i.defaultValue,!0):Un(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xr]=i}catch(x){ae(e,e.return,x)}}break;case 6:if(Je(t,e),ut(e),r&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ae(e,e.return,x)}}break;case 3:if(Je(t,e),ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(x){ae(e,e.return,x)}break;case 4:Je(t,e),ut(e);break;case 13:Je(t,e),ut(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(aa=ce())),r&4&&Gc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||d,Je(t,e),Ne=u):Je(t,e),ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(m=I,w=m.child,m.tag){case 0:case 11:case 14:case 15:zr(4,m,m.return);break;case 1:$n(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ae(r,n,x)}}break;case 5:$n(m,m.return);break;case 22:if(m.memoizedState!==null){Kc(h);continue}}w!==null?(w.return=m,I=w):Kc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ju("display",l))}catch(x){ae(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ae(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(t,e),ut(e),r&4&&Gc(e);break;case 21:break;default:Je(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ch(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rr(s,""),r.flags&=-33);var i=Vc(e);uo(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Vc(e);co(e,o,l);break;default:throw Error(E(161))}}catch(c){ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bg(e,t,n){I=e,Mh(e)}function Mh(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Ns;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ne;o=Ns;var u=Ne;if(Ns=l,(Ne=c)&&!u)for(I=s;I!==null;)l=I,c=l.child,l.tag===22&&l.memoizedState!==null?Zc(s):c!==null?(c.return=l,I=c):Zc(s);for(;i!==null;)I=i,Mh(i),i=i.sibling;I=s,Ns=o,Ne=u}Qc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Qc(e)}}function Qc(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Ci(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ic(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ic(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ne||t.flags&512&&ao(t)}catch(m){ae(t,t.return,m)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Kc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Zc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ci(4,t)}catch(c){ae(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ae(t,s,c)}}var i=t.return;try{ao(t)}catch(c){ae(t,i,c)}break;case 5:var l=t.return;try{ao(t)}catch(c){ae(t,l,c)}}}catch(c){ae(t,t.return,c)}if(t===e){I=null;break}var o=t.sibling;if(o!==null){o.return=t.return,I=o;break}I=t.return}}var Pg=Math.ceil,ui=It.ReactCurrentDispatcher,la=It.ReactCurrentOwner,Qe=It.ReactCurrentBatchConfig,V=0,ge=null,de=null,xe=0,Re=0,Wn=en(0),pe=0,qr=null,yn=0,ji=0,oa=0,Ir=null,Pe=null,aa=0,er=1/0,Tt=null,di=!1,ho=null,Gt=null,Ts=!1,Wt=null,hi=0,_r=0,fo=null,$s=-1,Ws=0;function je(){return V&6?ce():$s!==-1?$s:$s=ce()}function Qt(e){return e.mode&1?V&2&&xe!==0?xe&-xe:fg.transition!==null?(Ws===0&&(Ws=hd()),Ws):(e=Z,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function it(e,t,n,r){if(50<_r)throw _r=0,fo=null,Error(E(185));ts(e,n,r),(!(V&2)||e!==ge)&&(e===ge&&(!(V&2)&&(ji|=n),pe===4&&Ft(e,xe)),_e(e,r),n===1&&V===0&&!(t.mode&1)&&(er=ce()+500,ki&&tn()))}function _e(e,t){var n=e.callbackNode;fm(e,t);var r=Qs(e,e===ge?xe:0);if(r===0)n!==null&&lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lc(n),t===1)e.tag===0?hg(qc.bind(null,e)):Od(qc.bind(null,e)),ag(function(){!(V&6)&&tn()}),n=null;else{switch(fd(r)){case 1:n=_o;break;case 4:n=ud;break;case 16:n=Gs;break;case 536870912:n=dd;break;default:n=Gs}n=Dh(n,bh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bh(e,t){if($s=-1,Ws=0,V&6)throw Error(E(327));var n=e.callbackNode;if(Vn()&&e.callbackNode!==n)return null;var r=Qs(e,e===ge?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fi(e,r);else{t=r;var s=V;V|=2;var i=Lh();(ge!==e||xe!==t)&&(Tt=null,er=ce()+500,hn(e,t));do try{Ig();break}catch(o){Ph(e,o)}while(!0);Vo(),ui.current=i,V=s,de!==null?t=0:(ge=null,xe=0,t=pe)}if(t!==0){if(t===2&&(s=Fl(e),s!==0&&(r=s,t=po(e,s))),t===1)throw n=qr,hn(e,0),Ft(e,r),_e(e,ce()),n;if(t===6)Ft(e,r);else{if(s=e.current.alternate,!(r&30)&&!Lg(s)&&(t=fi(e,r),t===2&&(i=Fl(e),i!==0&&(r=i,t=po(e,i))),t===1))throw n=qr,hn(e,0),Ft(e,r),_e(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:ln(e,Pe,Tt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=aa+500-ce(),10<t)){if(Qs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vl(ln.bind(null,e,Pe,Tt),t);break}ln(e,Pe,Tt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-st(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pg(r/1960))-r,10<r){e.timeoutHandle=Vl(ln.bind(null,e,Pe,Tt),r);break}ln(e,Pe,Tt);break;case 5:ln(e,Pe,Tt);break;default:throw Error(E(329))}}}return _e(e,ce()),e.callbackNode===n?bh.bind(null,e):null}function po(e,t){var n=Ir;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=fi(e,t),e!==2&&(t=Pe,Pe=n,t!==null&&mo(t)),e}function mo(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function Lg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~oa,t&=~ji,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function qc(e){if(V&6)throw Error(E(327));Vn();var t=Qs(e,0);if(!(t&1))return _e(e,ce()),null;var n=fi(e,t);if(e.tag!==0&&n===2){var r=Fl(e);r!==0&&(t=r,n=po(e,r))}if(n===1)throw n=qr,hn(e,0),Ft(e,t),_e(e,ce()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,Pe,Tt),_e(e,ce()),null}function ca(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(er=ce()+500,ki&&tn())}}function vn(e){Wt!==null&&Wt.tag===0&&!(V&6)&&Vn();var t=V;V|=1;var n=Qe.transition,r=Z;try{if(Qe.transition=null,Z=1,e)return e()}finally{Z=r,Qe.transition=n,V=t,!(V&6)&&tn()}}function ua(){Re=Wn.current,ne(Wn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,og(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Bo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ei();break;case 3:qn(),ne(ze),ne(Te),Jo();break;case 5:qo(r);break;case 4:qn();break;case 13:ne(se);break;case 19:ne(se);break;case 10:Go(r.type._context);break;case 22:case 23:ua()}n=n.return}if(ge=e,de=e=Kt(e.current,null),xe=Re=t,pe=0,qr=null,oa=ji=yn=0,Pe=Ir=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}cn=null}return e}function Ph(e,t){do{var n=de;try{if(Vo(),Rs.current=ci,ai){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ai=!1}if(gn=0,me=fe=ie=null,Lr=!1,Qr=0,la.current=null,n===null||n.return===null){pe=1,qr=t,de=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Fc(l);if(w!==null){w.flags&=-257,$c(w,l,o,i,t),w.mode&1&&Oc(i,u,t),t=w,c=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(c),t.updateQueue=x}else v.add(c);break e}else{if(!(t&1)){Oc(i,u,t),da();break e}c=Error(E(426))}}else if(re&&o.mode&1){var N=Fc(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),$c(N,l,o,i,t),Yo(Jn(c,o));break e}}i=c=Jn(c,o),pe!==4&&(pe=2),Ir===null?Ir=[i]:Ir.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=fh(i,c,t);zc(i,p);break e;case 1:o=c;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gt===null||!Gt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=ph(i,o,t);zc(i,S);break e}}i=i.return}while(i!==null)}Ih(n)}catch(T){t=T,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Lh(){var e=ui.current;return ui.current=ci,e===null?ci:e}function da(){(pe===0||pe===3||pe===2)&&(pe=4),ge===null||!(yn&268435455)&&!(ji&268435455)||Ft(ge,xe)}function fi(e,t){var n=V;V|=2;var r=Lh();(ge!==e||xe!==t)&&(Tt=null,hn(e,t));do try{zg();break}catch(s){Ph(e,s)}while(!0);if(Vo(),V=n,ui.current=r,de!==null)throw Error(E(261));return ge=null,xe=0,pe}function zg(){for(;de!==null;)zh(de)}function Ig(){for(;de!==null&&!sm();)zh(de)}function zh(e){var t=Ah(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?Ih(e):de=t,la.current=null}function Ih(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jg(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(n=Cg(n,t,Re),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function ln(e,t,n){var r=Z,s=Qe.transition;try{Qe.transition=null,Z=1,_g(e,t,n,r)}finally{Qe.transition=s,Z=r}return null}function _g(e,t,n,r){do Vn();while(Wt!==null);if(V&6)throw Error(E(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pm(e,i),e===ge&&(de=ge=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ts||(Ts=!0,Dh(Gs,function(){return Vn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var l=Z;Z=1;var o=V;V|=4,la.current=null,Mg(e,n),Eh(n,e),eg(Yl),Ks=!!Bl,Yl=Bl=null,e.current=n,bg(n),im(),V=o,Z=l,Qe.transition=i}else e.current=n;if(Ts&&(Ts=!1,Wt=e,hi=s),i=e.pendingLanes,i===0&&(Gt=null),am(n.stateNode),_e(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(di)throw di=!1,e=ho,ho=null,e;return hi&1&&e.tag!==0&&Vn(),i=e.pendingLanes,i&1?e===fo?_r++:(_r=0,fo=e):_r=0,tn(),null}function Vn(){if(Wt!==null){var e=fd(hi),t=Qe.transition,n=Z;try{if(Qe.transition=null,Z=16>e?16:e,Wt===null)var r=!1;else{if(e=Wt,Wt=null,hi=0,V&6)throw Error(E(331));var s=V;for(V|=4,I=e.current;I!==null;){var i=I,l=i.child;if(I.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:zr(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var m=d.sibling,w=d.return;if(Th(d),d===u){I=null;break}if(m!==null){m.return=w,I=m;break}I=w}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}I=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,I=l;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,I=p;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){l=I;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,I=g;else e:for(l=f;I!==null;){if(o=I,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ci(9,o)}}catch(T){ae(o,o.return,T)}if(o===l){I=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,I=S;break e}I=o.return}}if(V=s,tn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(yi,e)}catch{}r=!0}return r}finally{Z=n,Qe.transition=t}}return!1}function Jc(e,t,n){t=Jn(n,t),t=fh(e,t,1),e=Vt(e,t,1),t=je(),e!==null&&(ts(e,1,t),_e(e,t))}function ae(e,t,n){if(e.tag===3)Jc(e,e,n);else for(;t!==null;){if(t.tag===3){Jc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){e=Jn(n,e),e=ph(t,e,1),t=Vt(t,e,1),e=je(),t!==null&&(ts(t,1,e),_e(t,e));break}}t=t.return}}function Ag(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(xe&n)===n&&(pe===4||pe===3&&(xe&130023424)===xe&&500>ce()-aa?hn(e,0):oa|=n),_e(e,t)}function _h(e,t){t===0&&(e.mode&1?(t=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):t=1);var n=je();e=Lt(e,t),e!==null&&(ts(e,t,n),_e(e,n))}function Dg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_h(e,n)}function Rg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),_h(e,n)}var Ah;Ah=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Tg(e,t,n);Le=!!(e.flags&131072)}else Le=!1,re&&t.flags&1048576&&Fd(t,ri,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fs(e,t),e=t.pendingProps;var s=Qn(t,Te.current);Xn(t,n),s=ta(null,t,r,e,s,n);var i=na();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(i=!0,ti(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ko(t),s.updater=Ti,t.stateNode=s,s._reactInternals=t,eo(t,r,e,n),t=ro(null,t,r,!0,i,n)):(t.tag=0,re&&i&&Ho(t),Ce(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Fg(r),e=tt(r,e),s){case 0:t=no(null,t,r,e,n);break e;case 1:t=Hc(null,t,r,e,n);break e;case 11:t=Wc(null,t,r,e,n);break e;case 14:t=Uc(null,t,r,tt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),no(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),Hc(e,t,r,s,n);case 3:e:{if(vh(t),e===null)throw Error(E(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Yd(e,t),li(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Jn(Error(E(423)),t),t=Bc(e,t,r,n,s);break e}else if(r!==s){s=Jn(Error(E(424)),t),t=Bc(e,t,r,n,s);break e}else for(Fe=Xt(t.stateNode.containerInfo.firstChild),$e=t,re=!0,rt=null,n=Hd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kn(),r===s){t=zt(e,t,n);break e}Ce(e,t,r,n)}t=t.child}return t;case 5:return Xd(t),e===null&&Zl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Xl(r,s)?l=null:i!==null&&Xl(r,i)&&(t.flags|=32),yh(e,t),Ce(e,t,l,n),t.child;case 6:return e===null&&Zl(t),null;case 13:return xh(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zn(t,null,r,n):Ce(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),Wc(e,t,r,s,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,J(si,r._currentValue),r._currentValue=l,i!==null)if(lt(i.value,l)){if(i.children===s.children&&!ze.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ql(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),ql(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ce(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Xn(t,n),s=Ke(s),r=r(s),t.flags|=1,Ce(e,t,r,n),t.child;case 14:return r=t.type,s=tt(r,t.pendingProps),s=tt(r.type,s),Uc(e,t,r,s,n);case 15:return mh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tt(r,s),Fs(e,t),t.tag=1,Ie(r)?(e=!0,ti(t)):e=!1,Xn(t,n),hh(t,r,s),eo(t,r,s,n),ro(null,t,r,!0,e,n);case 19:return wh(e,t,n);case 22:return gh(e,t,n)}throw Error(E(156,t.tag))};function Dh(e,t){return cd(e,t)}function Og(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new Og(e,t,n,r)}function ha(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fg(e){if(typeof e=="function")return ha(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lo)return 11;if(e===zo)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")ha(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ln:return fn(n.children,s,i,t);case Po:l=8,s|=8;break;case Tl:return e=Ge(12,n,t,s|2),e.elementType=Tl,e.lanes=i,e;case Cl:return e=Ge(13,n,t,s),e.elementType=Cl,e.lanes=i,e;case jl:return e=Ge(19,n,t,s),e.elementType=jl,e.lanes=i,e;case Xu:return Ei(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bu:l=10;break e;case Yu:l=9;break e;case Lo:l=11;break e;case zo:l=14;break e;case Dt:l=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ge(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fn(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function Ei(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Xu,e.lanes=n,e.stateNode={isHidden:!1},e}function dl(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function hl(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $g(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fa(e,t,n,r,s,i,l,o,c){return e=new $g(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ko(i),e}function Wg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rh(e){if(!e)return qt;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Ie(n))return Rd(e,n,t)}return t}function Oh(e,t,n,r,s,i,l,o,c){return e=fa(n,r,!0,e,s,i,l,o,c),e.context=Rh(null),n=e.current,r=je(),s=Qt(n),i=Mt(r,s),i.callback=t??null,Vt(n,i,s),e.current.lanes=s,ts(e,s,r),_e(e,r),e}function Mi(e,t,n,r){var s=t.current,i=je(),l=Qt(s);return n=Rh(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,l),e!==null&&(it(e,s,l,i),Ds(e,s,l)),l}function pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pa(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}function Ug(){return null}var Fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ma(e){this._internalRoot=e}bi.prototype.render=ma.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Mi(e,t,null,null)};bi.prototype.unmount=ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vn(function(){Mi(null,e,null,null)}),t[Pt]=null}};function bi(e){this._internalRoot=e}bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&vd(e)}};function ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tu(){}function Hg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pi(l);i.call(u)}}var l=Oh(t,r,e,0,null,!1,!1,"",tu);return e._reactRootContainer=l,e[Pt]=l.current,Br(e.nodeType===8?e.parentNode:e),vn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=pi(c);o.call(u)}}var c=fa(e,0,!1,null,null,!1,!1,"",tu);return e._reactRootContainer=c,e[Pt]=c.current,Br(e.nodeType===8?e.parentNode:e),vn(function(){Mi(t,c,n,r)}),c}function Li(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=pi(l);o.call(c)}}Mi(t,l,e,s)}else l=Hg(n,t,e,s,r);return pi(l)}pd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tr(t.pendingLanes);n!==0&&(Ao(t,n|1),_e(t,ce()),!(V&6)&&(er=ce()+500,tn()))}break;case 13:vn(function(){var r=Lt(e,1);if(r!==null){var s=je();it(r,e,1,s)}}),pa(e,1)}};Do=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=je();it(t,e,134217728,n)}pa(e,134217728)}};md=function(e){if(e.tag===13){var t=Qt(e),n=Lt(e,t);if(n!==null){var r=je();it(n,e,t,r)}pa(e,t)}};gd=function(){return Z};yd=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};Dl=function(e,t,n){switch(t){case"input":if(bl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Si(r);if(!s)throw Error(E(90));Gu(r),bl(r,s)}}}break;case"textarea":Ku(e,n);break;case"select":t=n.value,t!=null&&Un(e,!!n.multiple,t,!1)}};rd=ca;sd=vn;var Bg={usingClientEntryPoint:!1,Events:[rs,An,Si,td,nd,ca]},yr={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yg={bundleType:yr.bundleType,version:yr.version,rendererPackageName:yr.rendererPackageName,rendererConfig:yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=od(e),e===null?null:e.stateNode},findFiberByHostInstance:yr.findFiberByHostInstance||Ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{yi=Cs.inject(Yg),ft=Cs}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ga(t))throw Error(E(200));return Wg(e,t,null,n)};Ue.createRoot=function(e,t){if(!ga(e))throw Error(E(299));var n=!1,r="",s=Fh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fa(e,1,!1,null,null,n,!1,r,s),e[Pt]=t.current,Br(e.nodeType===8?e.parentNode:e),new ma(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=od(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return vn(e)};Ue.hydrate=function(e,t,n){if(!Pi(t))throw Error(E(200));return Li(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!ga(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Fh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Oh(t,null,e,1,n??null,s,!1,i,l),e[Pt]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new bi(t)};Ue.render=function(e,t,n){if(!Pi(t))throw Error(E(200));return Li(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!Pi(e))throw Error(E(40));return e._reactRootContainer?(vn(function(){Li(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Ue.unstable_batchedUpdates=ca;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pi(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Li(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function $h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($h)}catch(e){console.error(e)}}$h(),$u.exports=Ue;var zi=$u.exports;const Xg=Mu(zi);var nu=zi;kl.createRoot=nu.createRoot,kl.hydrateRoot=nu.hydrateRoot;function ru(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Wh(...e){return t=>{let n=!1;const r=e.map(s=>{const i=ru(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ru(e[s],null)}}}}function xn(...e){return y.useCallback(Wh(...e),e)}function mi(e){const t=Gg(e),n=y.forwardRef((r,s)=>{const{children:i,...l}=r,o=y.Children.toArray(i),c=o.find(Kg);if(c){const u=c.props.children,d=o.map(h=>h===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...l,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...l,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Vg=mi("Slot");function Gg(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const l=qg(s),o=Zg(i,s.props);return s.type!==y.Fragment&&(o.ref=r?Wh(r,l):l),y.cloneElement(s,o)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qg=Symbol("radix.slottable");function Kg(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qg}function Zg(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function qg(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Uh(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Uh(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hh(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Uh(e))&&(r&&(r+=" "),r+=t);return r}const su=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iu=Hh,Bh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return iu(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,l=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=su(d)||su(h);return s[u][m]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...w}=d;return Object.entries(w).every(v=>{let[x,N]=v;return Array.isArray(N)?N.includes({...i,...o}[x]):{...i,...o}[x]===N})?[...u,h,m]:u},[]);return iu(e,l,c,n==null?void 0:n.class,n==null?void 0:n.className)};function Jg(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Yh(t))&&(r&&(r+=" "),r+=n);return r}function Yh(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Yh(e[r]))&&(n&&(n+=" "),n+=t);return n}var ya="-";function ey(e){var t=ny(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(o){var c=o.split(ya);return c[0]===""&&c.length!==1&&c.shift(),Xh(c,t)||ty(o)}function l(o,c){var u=n[o]||[];return c&&s[o]?[].concat(u,s[o]):u}return{getClassGroupId:i,getConflictingClassGroupIds:l}}function Xh(e,t){var l;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?Xh(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(ya);return(l=t.validators.find(function(o){var c=o.validator;return c(i)}))==null?void 0:l.classGroupId}}var lu=/^\[(.+)\]$/;function ty(e){if(lu.test(e)){var t=lu.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function ny(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=sy(Object.entries(e.classGroups),n);return s.forEach(function(i){var l=i[0],o=i[1];go(o,r,l,t)}),r}function go(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:ou(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(ry(s)){go(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(l){var o=l[0],c=l[1];go(c,ou(t,o),n,r)})})}function ou(e,t){var n=e;return t.split(ya).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function ry(e){return e.isThemeGetter}function sy(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(l){return typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(o){var c=o[0],u=o[1];return[t+c,u]})):l});return[r,i]}):e}function iy(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,l){n.set(i,l),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(l){var o=n.get(l);if(o!==void 0)return o;if((o=r.get(l))!==void 0)return s(l,o),o},set:function(l,o){n.has(l)?n.set(l,o):s(l,o)}}}var Vh="!";function ly(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(l){for(var o=[],c=0,u=0,d,h=0;h<l.length;h++){var m=l[h];if(c===0){if(m===r&&(n||l.slice(h,h+s)===t)){o.push(l.slice(u,h)),u=h+s;continue}if(m==="/"){d=h;continue}}m==="["?c++:m==="]"&&c--}var w=o.length===0?l:l.substring(u),v=w.startsWith(Vh),x=v?w.substring(1):w,N=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:N}}}function oy(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function ay(e){return{cache:iy(e.cacheSize),splitModifiers:ly(e),...ey(e)}}var cy=/\s+/;function uy(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(cy).map(function(l){var o=n(l),c=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,h=o.maybePostfixModifierPosition,m=r(h?d.substring(0,h):d),w=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:l};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:l};w=!1}var v=oy(c).join(":"),x=u?v+Vh:v;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:l,hasPostfixModifier:w}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var o=l.modifierId,c=l.classGroupId,u=l.hasPostfixModifier,d=o+c;return i.has(d)?!1:(i.add(d),s(c,u).forEach(function(h){return i.add(o+h)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function dy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,l=o;function o(u){var d=t[0],h=t.slice(1),m=h.reduce(function(w,v){return v(w)},d());return r=ay(m),s=r.cache.get,i=r.cache.set,l=c,c(u)}function c(u){var d=s(u);if(d)return d;var h=uy(u,r);return i(u,h),h}return function(){return l(Jg.apply(null,arguments))}}function ee(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Gh=/^\[(?:([a-z-]+):)?(.+)\]$/i,hy=/^\d+\/\d+$/,fy=new Set(["px","full","screen"]),py=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,my=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gy=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function et(e){return dn(e)||fy.has(e)||hy.test(e)||yo(e)}function yo(e){return Nn(e,"length",ky)}function yy(e){return Nn(e,"size",Qh)}function vy(e){return Nn(e,"position",Qh)}function xy(e){return Nn(e,"url",Ny)}function js(e){return Nn(e,"number",dn)}function dn(e){return!Number.isNaN(Number(e))}function wy(e){return e.endsWith("%")&&dn(e.slice(0,-1))}function vr(e){return au(e)||Nn(e,"number",au)}function B(e){return Gh.test(e)}function xr(){return!0}function At(e){return py.test(e)}function Sy(e){return Nn(e,"",Ty)}function Nn(e,t,n){var r=Gh.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function ky(e){return my.test(e)}function Qh(){return!1}function Ny(e){return e.startsWith("url(")}function au(e){return Number.isInteger(Number(e))}function Ty(e){return gy.test(e)}function Cy(){var e=ee("colors"),t=ee("spacing"),n=ee("blur"),r=ee("brightness"),s=ee("borderColor"),i=ee("borderRadius"),l=ee("borderSpacing"),o=ee("borderWidth"),c=ee("contrast"),u=ee("grayscale"),d=ee("hueRotate"),h=ee("invert"),m=ee("gap"),w=ee("gradientColorStops"),v=ee("gradientColorStopPositions"),x=ee("inset"),N=ee("margin"),p=ee("opacity"),f=ee("padding"),g=ee("saturate"),S=ee("scale"),T=ee("sepia"),C=ee("skew"),j=ee("space"),M=ee("translate"),F=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},G=function(){return["auto",B,t]},W=function(){return[B,t]},ue=function(){return["",et]},O=function(){return["auto",dn,B]},oe=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},he=function(){return["solid","dashed","dotted","double","none"]},ye=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},b=function(){return["start","end","center","between","around","evenly","stretch"]},A=function(){return["","0",B]},D=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Y=function(){return[dn,js]},X=function(){return[dn,B]};return{cacheSize:500,theme:{colors:[xr],spacing:[et],blur:["none","",At,B],brightness:Y(),borderColor:[e],borderRadius:["none","","full",At,B],borderSpacing:W(),borderWidth:ue(),contrast:Y(),grayscale:A(),hueRotate:X(),invert:A(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[wy,yo],inset:G(),margin:G(),opacity:Y(),padding:W(),saturate:Y(),scale:Y(),sepia:A(),skew:X(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[At]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(oe(),[B])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vr]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",vr]}],"grid-cols":[{"grid-cols":[xr]}],"col-start-end":[{col:["auto",{span:["full",vr]},B]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[xr]}],"row-start-end":[{row:["auto",{span:[vr]},B]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(b())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(b(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(b(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",B,t]}],"min-w":[{"min-w":["min","max","fit",B,et]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[At]},At,B]}],h:[{h:[B,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",B,et]}],"max-h":[{"max-h":[B,t,"min","max","fit"]}],"font-size":[{text:["base",At,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",js]}],"font-family":[{font:[xr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",dn,js]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",B,et]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(he(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",et]}],"underline-offset":[{"underline-offset":["auto",B,et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(oe(),[vy])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yy]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xy]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[].concat(he(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:he()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(he())}],"outline-offset":[{"outline-offset":[B,et]}],"outline-w":[{outline:[et]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[et]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",At,Sy]}],"shadow-color":[{shadow:[xr]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":ye()}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",At,B]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[vr,B]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[et,js]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var jy=dy(Cy);function nn(...e){return jy(Hh(e))}const Ey=Bh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const l=r?Vg:"button";return a.jsx(l,{className:nn(Ey({variant:t,size:n,className:e})),ref:i,...s})});_.displayName="Button";const Ut=y.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:nn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ut.displayName="Input";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),by=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cu=e=>{const t=by(e);return t.charAt(0).toUpperCase()+t.slice(1)},Kh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Py=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ly={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...o},c)=>y.createElement("svg",{ref:c,...Ly,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Kh("lucide",s),...!i&&!Py(o)&&{"aria-hidden":"true"},...o},[...l.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=(e,t)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(zy,{ref:i,iconNode:t,className:Kh(`lucide-${My(cu(e))}`,`lucide-${e}`,r),...s}));return n.displayName=cu(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],uu=$("arrow-up-down",Iy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["circle",{cx:"9",cy:"9",r:"7",key:"p2h5vp"}],["circle",{cx:"15",cy:"15",r:"7",key:"19ennj"}]],du=$("blend",_y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dy=$("check",Ay);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Oy=$("circle-question-mark",Ry);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wr=$("circle",Fy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wy=$("download",$y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],fl=$("eraser",Uy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],By=$("eye-off",Hy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hu=$("eye",Yy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Vy=$("folder-open",Xy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Qy=$("folder",Gy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],fu=$("grid-3x3",Ky);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],pu=$("link-2",Zy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mu=$("map-pin",qy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],gu=$("map",Jy);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M5 12h14",key:"1ays0h"}]],vo=$("minus",ev);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nv=$("moon",tv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],sv=$("mouse-pointer-2",rv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],Es=$("mouse",iv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],ov=$("mouse-pointer",lv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],pl=$("move",av);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],ml=$("paint-bucket",cv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v4",key:"qmzblu"}],["path",{d:"M17 2a1 1 0 0 1 1 1v9H6V3a1 1 0 0 1 1-1z",key:"ycvu00"}],["path",{d:"M6 12a1 1 0 0 0-1 1v1a2 2 0 0 0 2 2h2a1 1 0 0 1 1 1v2.9a2 2 0 1 0 4 0V17a1 1 0 0 1 1-1h2a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1",key:"iw4wnp"}]],Ms=$("paintbrush-vertical",uv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yu=$("pen",dv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],vu=$("pipette",hv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pv=$("plus",fv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],gv=$("redo-2",mv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xu=$("rotate-ccw",yv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wu=$("save",vv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],wv=$("scissors",xv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Su=$("settings",Sv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Nv=$("shapes",kv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],on=$("square",Tv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],jv=$("stamp",Cv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Mv=$("sun",Ev);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Sr=$("target",bv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ku=$("trash-2",Pv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],zv=$("undo-2",Lv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],gl=$("upload",Iv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],yl=$("wand-sparkles",_v);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],be=$("x",Av);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Nu=$("zoom-in",Dv);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Ov=$("zoom-out",Rv);class vl{constructor(t){this.showMinimap=!0,this.isDarkMode=!1,this.debugMode=!1,this.mapWidth=20,this.mapHeight=15,this.tileSizeX=64,this.tileSizeY=32,this.orientation="isometric",this.tileContentThreshold=10,this.objectSeparationSensitivity=.5,this.detectedTileData=new Map,this.layerTilesets=new Map,this.layerTileData=new Map,this.layerActiveGid=new Map,this.tilesets=[],this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.tileLayers=[],this.activeLayerId=null,this.nextLayerId=1,this.collisionData=[],this.objects=[],this.nextObjectId=1,this.selectedObjectId=null,this.tool="tiles",this.currentTool="brush",this.currentSelectionTool="rectangular",this.currentShapeTool="rectangle",this.currentStampMode="select",this.activeGid=0,this.isMouseDown=!1,this.selection={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,tiles:[]},this.isSelecting=!1,this.shapeDrawing={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,preview:[]},this.isDrawingShape=!1,this.hoverX=-1,this.hoverY=-1,this.zoom=1,this.panX=0,this.panY=0,this.isPanning=!1,this.lastPanX=0,this.lastPanY=0,this.spacePressed=!1,this.history=[],this.historyIndex=-1,this.maxHistorySize=50,this.isApplyingHistory=!1,this.hasUnsavedChanges=!1,this.autoSaveTimeout=null,this.lastSaveTimestamp=0,this.autoSaveCallback=null,this.saveStatusCallback=null,this.AUTO_SAVE_DELAY=8e3,this.IMMEDIATE_SAVE_DELAY=2e3,this.autoSaveEnabled=!0,this.eyedropperCallback=null,this.stamps=new Map,this.activeStamp=null,this.stampPreview={x:0,y:0,visible:!1},this.stampCallback=null,this.mapCanvas=t,this.initializeCanvas(),this.initializeState(),this.bindEvents(),this.createDefaultLayers(),this.saveState(),this.draw()}getTileCount(){return this.tileCount}setTileContentThreshold(t){this.tileContentThreshold=Math.max(0,Math.min(255,t))}getTileContentThreshold(){return this.tileContentThreshold}refreshTilePalette(t=!1){this.tilesetImage&&this.createTilePalette(t)}getDetectedTileInfo(){const t=[];return this.detectedTileData.forEach((n,r)=>{t.push({gid:r,width:n.width,height:n.height,sourceX:n.sourceX,sourceY:n.sourceY})}),t.sort((n,r)=>n.gid-r.gid)}getDetectedTilesForLayer(t){const n=this.layerTileData.get(t);return n?Array.from(n.entries()):[]}getCurrentLayerActiveGid(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);return t&&this.layerActiveGid.get(t.type)||0}setCurrentLayerActiveGid(t){const n=this.tileLayers.find(r=>r.id===this.activeLayerId);n&&(this.layerActiveGid.set(n.type,t),this.activeGid=t)}mergeBrushes(t){if(t.length<2)return;const n=t.map(h=>this.detectedTileData.get(h)).filter(h=>h!==void 0);if(n.length!==t.length)throw new Error("Some selected brushes not found");let r=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(const h of n)r=Math.min(r,h.sourceX),s=Math.min(s,h.sourceY),i=Math.max(i,h.sourceX+h.width),l=Math.max(l,h.sourceY+h.height);const o={sourceX:r,sourceY:s,width:i-r,height:l-s},c=Array.from(this.detectedTileData.entries()),u=c.findIndex(([h])=>t.includes(h)),d=c.filter(([h])=>!t.includes(h));d.splice(u,0,[t[0],o]),this.detectedTileData.clear(),d.forEach(([h,m],w)=>{this.detectedTileData.set(w,m)}),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Merged ${t.length} brushes into new brush at position ${u}`)}separateBrush(t){const n=this.detectedTileData.get(t);if(!n)throw new Error(`Brush ${t} not found`);const r=Array.from(this.detectedTileData.entries()),s=r.findIndex(([o])=>o===t),i=r.filter(([o])=>o!==t),l=[];if(this.tilesetImage){const o=document.createElement("canvas");o.width=n.width,o.height=n.height;const c=o.getContext("2d");if(c){c.drawImage(this.tilesetImage,n.sourceX,n.sourceY,n.width,n.height,0,0,n.width,n.height);const d=c.getImageData(0,0,n.width,n.height).data,h=new Array(n.width*n.height).fill(!1);for(let m=0;m<n.height;m++)for(let w=0;w<n.width;w++){const v=m*n.width+w;if(h[v]||this.isPixelTransparent(d,w,m,n.width))continue;const x=this.floodFillObjectDataInRegion(d,n.width,n.height,w,m,h);x&&this.isValidObjectSize(x.bounds)&&l.push({sourceX:n.sourceX+x.bounds.x,sourceY:n.sourceY+x.bounds.y,width:x.bounds.width,height:x.bounds.height})}}}l.forEach((o,c)=>{i.splice(s+c,0,[s+c,o])}),this.detectedTileData.clear(),i.forEach(([o,c],u)=>{this.detectedTileData.set(u,c)}),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Separated brush ${t} into ${l.length} new brushes`)}removeBrush(t){if(console.log(`removeBrush called with brushId: ${t}`),console.log("detectedTileData keys before removal:",Array.from(this.detectedTileData.keys())),!this.detectedTileData.has(t))throw console.error(`Brush ${t} not found in detectedTileData`),new Error(`Brush ${t} not found`);const n=Array.from(this.detectedTileData.entries());console.log("brushArray before filtering:",n.map(([s,i])=>s));const r=n.filter(([s])=>s!==t);console.log("filteredArray after filtering:",r.map(([s,i])=>s)),this.detectedTileData.clear(),r.forEach(([s,i],l)=>{this.detectedTileData.set(l,i)}),console.log("detectedTileData keys after rebuild:",Array.from(this.detectedTileData.keys())),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Removed brush ${t}`)}reorderBrush(t,n){const r=Array.from(this.detectedTileData.entries());if(t<0||t>=r.length||n<0||n>=r.length)throw new Error("Invalid brush indices for reordering");const[s]=r.splice(t,1);r.splice(n,0,s),this.detectedTileData.clear(),r.forEach(([i,l],o)=>{this.detectedTileData.set(o,l)}),this.createTilePalette(!0),this.markAsChanged(!0),console.log(`Reordered brush from index ${t} to ${n}`)}floodFillObjectDataInRegion(t,n,r,s,i,l){const o=[{x:s,y:i}];let c=s,u=s,d=i,h=i,m=0;const w=[];for(;o.length>0;){const g=o.pop(),{x:S,y:T}=g;if(S<0||S>=n||T<0||T>=r)continue;const C=T*n+S;l[C]||this.isPixelTransparent(t,S,T,n)||(l[C]=!0,m++,w.push({x:S,y:T}),c=Math.min(c,S),u=Math.max(u,S),d=Math.min(d,T),h=Math.max(h,T),o.push({x:S+1,y:T}),o.push({x:S-1,y:T}),o.push({x:S,y:T+1}),o.push({x:S,y:T-1}))}if(m===0)return null;const v=1,x=Math.max(0,c-v),N=Math.max(0,d-v),p=Math.min(n-1,u+v),f=Math.min(r-1,h+v);return{bounds:{x,y:N,width:p-x+1,height:f-N+1},pixels:w}}initializeCanvas(){const t=this.mapCanvas.getContext("2d");if(!t)throw new Error("Unable to get canvas context");if(this.ctx=t,this.ctx.imageSmoothingEnabled=!1,this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas()),window.ResizeObserver){const n=new ResizeObserver(()=>this.resizeCanvas());this.mapCanvas.parentElement&&n.observe(this.mapCanvas.parentElement)}}resizeCanvas(){const t=this.mapCanvas.parentElement;t&&requestAnimationFrame(()=>{const n=t.getBoundingClientRect(),r=Math.max(1,Math.floor(n.width)),s=Math.max(1,Math.floor(n.height));(this.mapCanvas.width!==r||this.mapCanvas.height!==s)&&(this.mapCanvas.width=r,this.mapCanvas.height=s,this.draw())})}initializeState(){this.collisionData=new Array(this.mapWidth*this.mapHeight).fill(0)}bindEvents(){this.mapCanvas.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.mapCanvas.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.mapCanvas.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.mapCanvas.addEventListener("contextmenu",t=>t.preventDefault()),this.mapCanvas.addEventListener("wheel",this.handleWheel.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this)),this.mapCanvas.tabIndex=0}createDefaultLayers(){this.tileLayers=[{id:1,name:"NPC Layer",type:"npc",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:2,name:"Enemy Layer",type:"enemy",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:3,name:"Event Layer",type:"event",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:4,name:"Collision Layer",type:"collision",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:5,name:"Object Layer",type:"object",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1},{id:6,name:"Background Layer",type:"background",data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1}],this.activeLayerId=6,this.nextLayerId=7,this.sortLayersByPriority()}handleMouseDown(t){const n=this.mapCanvas.getBoundingClientRect(),r=t.clientX-n.left,s=t.clientY-n.top;if(this.spacePressed)this.isPanning=!0,this.lastPanX=r,this.lastPanY=s,this.mapCanvas.style.cursor="grabbing";else{this.isMouseDown=!0;const i=this.screenToTile(r,s);i&&(this.tool==="tiles"?this.handleTileClick(i.x,i.y,t.button===2):this.tool==="selection"?this.handleSelectionStart(i.x,i.y,t.button===2):this.tool==="shape"?this.handleShapeStart(i.x,i.y,t.button===2):this.tool==="eyedropper"?this.handleEyedropper(i.x,i.y)&&(this.isMouseDown=!1):this.tool==="stamp"&&this.handleStampClick(i.x,i.y,t.button===2))}}handleMouseMove(t){const n=this.mapCanvas.getBoundingClientRect(),r=t.clientX-n.left,s=t.clientY-n.top;if(this.isPanning&&this.spacePressed){const i=r-this.lastPanX,l=s-this.lastPanY;this.setPan(i,l),this.lastPanX=r,this.lastPanY=s}else{const i=this.screenToTile(r,s);i&&(this.hoverX=i.x,this.hoverY=i.y,this.tool==="stamp"&&this.currentStampMode==="place"&&this.activeStamp&&(this.stampPreview.x=i.x,this.stampPreview.y=i.y,this.stampPreview.visible=!0),this.isMouseDown&&!this.spacePressed&&(this.tool==="tiles"?this.handleTileClick(i.x,i.y,!1):this.isSelecting?this.handleSelectionDrag(i.x,i.y):this.isDrawingShape&&this.handleShapeDrag(i.x,i.y)))}this.draw()}handleMouseUp(){this.isSelecting?this.handleSelectionEnd():this.isDrawingShape&&this.handleShapeEnd(),this.isMouseDown=!1,this.isPanning=!1}handleWheel(t){t.preventDefault();const n=t.deltaY>0?.9:1.1;this.setZoom(this.zoom*n)}handleKeyDown(t){if(t.code==="Space"&&(t.preventDefault(),this.spacePressed=!0,this.mapCanvas.style.cursor="grab"),t.ctrlKey||t.metaKey)switch(t.code){case"KeyA":t.preventDefault(),this.selectAll();break}switch(t.code){case"Delete":case"Backspace":t.preventDefault(),this.deleteSelection();break;case"Escape":t.preventDefault(),this.clearSelection(),this.isDrawingShape&&(this.shapeDrawing.active=!1,this.isDrawingShape=!1,this.shapeDrawing.preview=[],this.draw());break}}handleKeyUp(t){t.code==="Space"&&(t.preventDefault(),this.spacePressed=!1,this.mapCanvas.style.cursor="crosshair")}screenToTile(t,n){const r=this.screenToWorld(t,n);return this.raycastToTile(r.x,r.y)}handleStampClick(t,n,r){if(r){this.stampPreview.visible=!1,this.draw();return}this.currentStampMode==="create"?this.handleSelectionStart(t,n,r):this.currentStampMode==="place"&&this.activeStamp&&this.placeStamp(t,n)}handleTileClick(t,n,r){if(this.activeLayerId!==null){const s=this.tileLayers.find(i=>i.id===this.activeLayerId);if(s){const i=n*this.mapWidth+t,l=s.data[i];let o;const c=this.getCurrentLayerActiveGid();if(r)o=0;else switch(this.currentTool){case"brush":o=c;break;case"eraser":o=0;break;case"bucket":l!==c&&(this.saveState(),this.bucketFill(s,t,n,c),this.markAsChanged(),this.draw());return;default:o=c;break}l!==o&&(this.saveState(),s.data[i]=o,this.markAsChanged(),this.draw())}}}handleSelectionStart(t,n,r){if(r){this.clearSelection();return}const s=this.tileLayers.find(i=>i.id===this.activeLayerId);s&&(this.selection.startX=t,this.selection.startY=n,this.selection.endX=t,this.selection.endY=n,this.currentSelectionTool==="magic-wand"?(this.selectMagicWand(s,t,n),this.draw()):this.currentSelectionTool==="same-tile"?(this.selectSameTile(s,t,n),this.draw()):this.isSelecting=!0)}handleSelectionDrag(t,n){this.isSelecting&&(this.selection.endX=t,this.selection.endY=n,this.draw())}handleSelectionEnd(){if(!this.isSelecting)return;const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&(this.currentSelectionTool==="rectangular"?this.selectRectangular(t,this.selection.startX,this.selection.startY,this.selection.endX,this.selection.endY):this.currentSelectionTool==="circular"&&this.selectCircular(t,this.selection.startX,this.selection.startY,this.selection.endX,this.selection.endY),this.isSelecting=!1,this.draw())}handleShapeStart(t,n,r){if(r){this.shapeDrawing.active=!1,this.isDrawingShape=!1,this.draw();return}this.shapeDrawing.active=!0,this.shapeDrawing.startX=t,this.shapeDrawing.startY=n,this.shapeDrawing.endX=t,this.shapeDrawing.endY=n,this.shapeDrawing.preview=[],this.isDrawingShape=!0}handleShapeDrag(t,n){if(this.isDrawingShape){switch(this.shapeDrawing.endX=t,this.shapeDrawing.endY=n,this.currentShapeTool){case"rectangle":this.shapeDrawing.preview=this.drawRectangleShape(this.shapeDrawing.startX,this.shapeDrawing.startY,this.shapeDrawing.endX,this.shapeDrawing.endY);break;case"circle":this.shapeDrawing.preview=this.drawCircleShape(this.shapeDrawing.startX,this.shapeDrawing.startY,this.shapeDrawing.endX,this.shapeDrawing.endY);break;case"line":this.shapeDrawing.preview=this.drawLineShape(this.shapeDrawing.startX,this.shapeDrawing.startY,this.shapeDrawing.endX,this.shapeDrawing.endY);break}this.draw()}}handleShapeEnd(){if(!this.isDrawingShape)return;const t=this.tileLayers.find(r=>r.id===this.activeLayerId);if(!t)return;const n=this.getCurrentLayerActiveGid();this.shapeDrawing.preview.length>0&&n>0&&(this.saveState(),this.shapeDrawing.preview.forEach(r=>{const s=r.y*this.mapWidth+r.x;t.data[s]=n}),this.markAsChanged()),this.shapeDrawing.active=!1,this.isDrawingShape=!1,this.shapeDrawing.preview=[],this.draw()}handleEyedropper(t,n){const r=this.tileLayers.find(s=>s.id===this.activeLayerId);if(!r)return null;if(t>=0&&t<this.mapWidth&&n>=0&&n<this.mapHeight){const s=n*this.mapWidth+t,i=r.data[s];if(i>0)return this.setCurrentLayerActiveGid(i),this.updateTilePaletteSelection(),this.tool="tiles",this.currentTool="brush",this.mapCanvas.style.cursor="crosshair",this.eyedropperCallback&&this.eyedropperCallback(),i}return null}updateTilePaletteSelection(){const t=document.getElementById("activeGid");t&&(t.textContent=this.activeGid.toString()),document.querySelectorAll(".tile-palette .tile").forEach((r,s)=>{const i=r;s===this.activeGid-1?(i.classList.add("selected"),i.scrollIntoView({behavior:"smooth",block:"nearest"})):i.classList.remove("selected")})}draw(){this.ctx.clearRect(0,0,this.mapCanvas.width,this.mapCanvas.height),this.ctx.save(),this.drawGrid(),this.drawTiles(),this.hoverX>=0&&this.hoverY>=0&&this.drawHover(),this.drawSelection(),this.drawShapePreview(),this.ctx.restore(),this.drawMiniMap(),this.drawStampPreview(),this.drawDebugInfo()}mapToScreen(t,n){const r=(t-n)*(this.tileSizeX/2),s=(t+n)*(this.tileSizeY/2),i=this.mapCanvas.width/2+this.panX,l=100+this.panY;return{x:(r+i)*this.zoom,y:(s+l)*this.zoom}}screenToMap(t,n){const r=t/this.zoom,s=n/this.zoom,i=this.mapCanvas.width/2+this.panX,l=100+this.panY,o=r-i,c=s-l,u=o-this.tileSizeX/2,d=c-this.tileSizeY/2,h=this.tileSizeX/2,m=this.tileSizeY/2,w=(u/h+d/m)/2,v=(d/m-u/h)/2;return{x:Math.floor(w),y:Math.floor(v)}}screenToWorld(t,n){const r=t/this.zoom,s=n/this.zoom,i=this.mapCanvas.width/2+this.panX,l=100+this.panY;return{x:r-i,y:s-l}}raycastToTile(t,n){const r=[],s=this.worldToScreen(t,n);for(let i=0;i<this.mapHeight;i++)for(let l=0;l<this.mapWidth;l++)if(this.isPointInTileDiamond(t,n,l,i)){const o=this.mapToScreen(l,i),c=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2));r.push({x:l,y:i,distance:c})}return r.length>0?(r.sort((i,l)=>i.distance-l.distance),{x:r[0].x,y:r[0].y}):null}isPointInTileDiamond(t,n,r,s){const i=this.mapToScreen(r,s),l=this.worldToScreen(t,n),o=l.x-i.x,c=l.y-i.y,u=this.tileSizeX/2*this.zoom,d=this.tileSizeY/2*this.zoom,h=.9,m=Math.abs(o/u),w=Math.abs(c/d);return m+w<=h}tileToWorld(t,n){return{x:(t-n)*(this.tileSizeX/2),y:(t+n)*(this.tileSizeY/2)}}worldToScreen(t,n){const r=this.mapCanvas.width/2+this.panX,s=100+this.panY;return{x:(t+r)*this.zoom,y:(n+s)*this.zoom}}drawDebugInfo(){if(this.debugMode){this.ctx.strokeStyle="rgba(255, 0, 0, 0.5)",this.ctx.lineWidth=1;for(let t=0;t<this.mapHeight;t++)for(let n=0;n<this.mapWidth;n++){const r=this.mapToScreen(n,t),s=this.tileSizeX/2*this.zoom,i=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y-i),this.ctx.lineTo(r.x+s,r.y),this.ctx.lineTo(r.x,r.y+i),this.ctx.lineTo(r.x-s,r.y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.strokeStyle="rgba(0, 255, 0, 0.5)",this.ctx.lineWidth=1;const l=this.tileSizeX*this.zoom,o=this.tileSizeY*this.zoom,c=r.y+i,u=r.x-l/2,d=c-o;this.ctx.strokeRect(u,d,l,o),this.ctx.strokeStyle="rgba(255, 0, 0, 0.5)",this.ctx.fillStyle="rgba(255, 255, 255, 0.8)",this.ctx.font="10px Arial",this.ctx.textAlign="center",this.ctx.fillText(`${n},${t}`,r.x,r.y)}}}toggleDebugMode(){this.debugMode=!this.debugMode,this.draw()}getDebugMode(){return this.debugMode}setZoom(t){this.zoom=Math.max(.1,Math.min(5,t)),this.draw()}getZoom(){return this.zoom}zoomIn(){this.setZoom(this.zoom*1.2)}zoomOut(){this.setZoom(this.zoom/1.2)}resetZoom(){this.zoom=1,this.panX=0,this.panY=0,this.draw()}toggleMinimap(){this.showMinimap=!this.showMinimap,this.draw()}setPan(t,n){this.panX+=t,this.panY+=n,this.draw()}resizeCanvasToContainer(){this.resizeCanvas()}drawGrid(){this.ctx.strokeStyle=this.isDarkMode?"#666":"#999",this.ctx.lineWidth=Math.max(1,Math.min(3,2/this.zoom)),this.ctx.globalAlpha=.8;for(let t=0;t<this.mapHeight;t++)for(let n=0;n<this.mapWidth;n++){const r=this.mapToScreen(n,t),s=this.tileSizeX/2*this.zoom,i=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y-i),this.ctx.lineTo(r.x+s,r.y),this.ctx.lineTo(r.x,r.y+i),this.ctx.lineTo(r.x-s,r.y),this.ctx.closePath(),this.ctx.stroke()}this.ctx.globalAlpha=1}drawTiles(){for(const t of this.tileLayers){if(!t.visible)continue;const n=this.layerTilesets.get(t.type);if(!n||!n.image)continue;this.ctx.globalAlpha=t.transparency||1;const r=this.layerTileData.get(t.type)||new Map;for(let s=0;s<this.mapHeight;s++)for(let i=0;i<this.mapWidth;i++){const l=s*this.mapWidth+i,o=t.data[l];o>0&&this.drawTileFromLayer(i,s,o,n,r)}}this.ctx.globalAlpha=1}drawTileFromLayer(t,n,r,s,i){if(!s.image||r<=0)return;const l=i.get(r);let o,c,u,d;if(l)o=l.sourceX,c=l.sourceY,u=l.width,d=l.height;else{const f=r-1;o=f%s.columns*this.tileSizeX,c=Math.floor(f/s.columns)*this.tileSizeY,u=this.tileSizeX,d=this.tileSizeY}const h=this.mapToScreen(t,n),m=u*this.zoom,w=d*this.zoom,v=this.tileSizeY/2*this.zoom,x=h.y+v,N=h.x-m/2,p=x-w;this.ctx.drawImage(s.image,o,c,u,d,N,p,m,w)}drawTile(t,n,r){if(!this.tilesetImage||r<=0)return;const s=this.detectedTileData.get(r);let i,l,o,c;if(s)i=s.sourceX,l=s.sourceY,o=s.width,c=s.height;else{const N=r-1;i=N%this.tilesetColumns*this.tileSizeX,l=Math.floor(N/this.tilesetColumns)*this.tileSizeY,o=this.tileSizeX,c=this.tileSizeY}const u=this.mapToScreen(t,n),d=o*this.zoom,h=c*this.zoom,m=this.tileSizeY/2*this.zoom,w=u.y+m,v=u.x-d/2,x=w-h;this.ctx.drawImage(this.tilesetImage,i,l,o,c,v,x,d,h)}drawHover(){this.ctx.strokeStyle="#007acc",this.ctx.lineWidth=Math.max(1,Math.min(3,2/this.zoom));const t=this.mapToScreen(this.hoverX,this.hoverY),n=this.tileSizeX/2*this.zoom,r=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y-r),this.ctx.lineTo(t.x+n,t.y),this.ctx.lineTo(t.x,t.y+r),this.ctx.lineTo(t.x-n,t.y),this.ctx.closePath(),this.ctx.stroke()}drawSelection(){this.isSelecting&&(this.currentSelectionTool==="rectangular"||this.currentSelectionTool==="circular")&&(this.ctx.strokeStyle="#ff6b00",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.ctx.setLineDash([5,5]),this.currentSelectionTool==="rectangular"?this.drawRectangularSelectionPreview():this.currentSelectionTool==="circular"&&this.drawCircularSelectionPreview(),this.ctx.setLineDash([])),this.selection.active&&this.selection.tiles.length>0&&(this.ctx.strokeStyle="#00ff00",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.selection.tiles.forEach(t=>{const n=this.mapToScreen(t.x,t.y),r=this.tileSizeX/2*this.zoom,s=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y-s),this.ctx.lineTo(n.x+r,n.y),this.ctx.lineTo(n.x,n.y+s),this.ctx.lineTo(n.x-r,n.y),this.ctx.closePath(),this.ctx.stroke()}))}drawRectangularSelectionPreview(){const t=Math.min(this.selection.startX,this.selection.endX),n=Math.max(this.selection.startX,this.selection.endX),r=Math.min(this.selection.startY,this.selection.endY),s=Math.max(this.selection.startY,this.selection.endY);for(let i=r;i<=s;i++)for(let l=t;l<=n;l++)if(l>=0&&l<this.mapWidth&&i>=0&&i<this.mapHeight){const o=this.mapToScreen(l,i),c=this.tileSizeX/2*this.zoom,u=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(o.x,o.y-u),this.ctx.lineTo(o.x+c,o.y),this.ctx.lineTo(o.x,o.y+u),this.ctx.lineTo(o.x-c,o.y),this.ctx.closePath(),this.ctx.stroke()}}drawCircularSelectionPreview(){const t=Math.sqrt(Math.pow(this.selection.endX-this.selection.startX,2)+Math.pow(this.selection.endY-this.selection.startY,2));for(let n=0;n<this.mapHeight;n++)for(let r=0;r<this.mapWidth;r++)if(Math.sqrt(Math.pow(r-this.selection.startX,2)+Math.pow(n-this.selection.startY,2))<=t){const i=this.mapToScreen(r,n),l=this.tileSizeX/2*this.zoom,o=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y-o),this.ctx.lineTo(i.x+l,i.y),this.ctx.lineTo(i.x,i.y+o),this.ctx.lineTo(i.x-l,i.y),this.ctx.closePath(),this.ctx.stroke()}}drawShapePreview(){!this.isDrawingShape||this.shapeDrawing.preview.length===0||(this.ctx.strokeStyle="#0099ff",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.ctx.setLineDash([3,3]),this.shapeDrawing.preview.forEach(t=>{const n=this.mapToScreen(t.x,t.y),r=this.tileSizeX/2*this.zoom,s=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(n.x,n.y-s),this.ctx.lineTo(n.x+r,n.y),this.ctx.lineTo(n.x,n.y+s),this.ctx.lineTo(n.x-r,n.y),this.ctx.closePath(),this.ctx.stroke()}),this.ctx.setLineDash([]))}drawStampPreview(){if(!(!this.stampPreview.visible||!this.activeStamp)){this.ctx.strokeStyle="#00ff00",this.ctx.fillStyle="rgba(0, 255, 0, 0.2)",this.ctx.lineWidth=Math.max(1,Math.min(2,2/this.zoom)),this.ctx.setLineDash([3,3]);for(let t=0;t<this.activeStamp.height;t++)for(let n=0;n<this.activeStamp.width;n++){const r=this.stampPreview.x+n,s=this.stampPreview.y+t;if(r>=0&&r<this.mapWidth&&s>=0&&s<this.mapHeight){const i=this.mapToScreen(r,s),l=this.tileSizeX/2*this.zoom,o=this.tileSizeY/2*this.zoom;this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y-o),this.ctx.lineTo(i.x+l,i.y),this.ctx.lineTo(i.x,i.y+o),this.ctx.lineTo(i.x-l,i.y),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}}this.ctx.setLineDash([])}}drawMiniMap(){if(!this.showMinimap)return;const t=150,n=120,r=10,s=this.mapCanvas.width-t-r,i=this.mapCanvas.height-n-r;this.ctx.save();const l=5,o=s-l,c=i-l,u=t+l*2,d=n+l*2,h=Math.min(12,Math.floor(Math.min(u,d)/6)),m=Math.min(8,Math.floor(Math.min(t,n)/8)),w=(T,C,j,M,F)=>{const P=Math.max(0,Math.min(F,Math.min(j,M)/2));this.ctx.beginPath(),this.ctx.moveTo(T+P,C),this.ctx.lineTo(T+j-P,C),this.ctx.quadraticCurveTo(T+j,C,T+j,C+P),this.ctx.lineTo(T+j,C+M-P),this.ctx.quadraticCurveTo(T+j,C+M,T+j-P,C+M),this.ctx.lineTo(T+P,C+M),this.ctx.quadraticCurveTo(T,C+M,T,C+M-P),this.ctx.lineTo(T,C+P),this.ctx.quadraticCurveTo(T,C,T+P,C),this.ctx.closePath()};this.ctx.fillStyle=this.isDarkMode?"rgba(42, 42, 42, 0.9)":"rgba(0, 0, 0, 0.7)",w(o,c,u,d,h),this.ctx.fill(),this.ctx.fillStyle=this.isDarkMode?"#2a2a2a":"#f0f0f0",w(s,i,t,n,m),this.ctx.fill(),this.ctx.strokeStyle=this.isDarkMode?"#999":"#333",this.ctx.lineWidth=1,w(s,i,t,n,m),this.ctx.stroke();const v=Math.floor(t/this.mapWidth)||1,x=Math.floor(n/this.mapHeight)||1,N=Math.max(1,Math.min(v,x)),p=this.mapWidth*N,f=this.mapHeight*N,g=s+Math.floor((t-p)/2),S=i+Math.floor((n-f)/2);this.ctx.imageSmoothingEnabled=!1;for(let T=0;T<this.tileLayers.length;T++){const C=this.tileLayers[T];if(C.visible)for(let j=0;j<this.mapHeight;j++)for(let M=0;M<this.mapWidth;M++){const F=j*this.mapWidth+M,P=C.data[F];if(P>0){const G=g+M*N,W=S+j*N,ue=P*137.5%360;this.ctx.fillStyle=`hsl(${ue}, 55%, ${T===0?"45%":"60%"})`,this.ctx.fillRect(G,W,N,N)}}}if(N>=3){this.ctx.strokeStyle=this.isDarkMode?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.05)",this.ctx.lineWidth=.5;for(let T=0;T<this.mapHeight;T++)for(let C=0;C<this.mapWidth;C++){const j=g+C*N+.25,M=S+T*N+.25;this.ctx.strokeRect(j,M,N-.5,N-.5)}}this.ctx.restore()}handleFileUpload(t,n){if(n==="tileset"){const r=new FileReader;r.onload=s=>{var l;const i=new Image;i.onload=()=>{this.tilesetImage=i,this.tilesetFileName=t.name,this.tilesetColumns=Math.floor(i.width/this.tileSizeX),this.tilesetRows=Math.floor(i.height/this.tileSizeY),this.tileCount=this.tilesetColumns*this.tilesetRows,this.createTilePalette(),this.draw()},i.src=(l=s.target)==null?void 0:l.result},r.readAsDataURL(t)}else if(n==="layerTileset"){const r=this.tileLayers.find(s=>s.id===this.activeLayerId);r&&this.setLayerTileset(r.type,t)}}createTilePalette(t=!1){const n=document.getElementById("tilesContainer");if(!n||!this.tilesetImage)return;n.innerHTML="";let r;if(t&&this.detectedTileData.size>0)r=Array.from(this.detectedTileData.entries()).map(([i,l])=>({index:i,sourceX:l.sourceX,sourceY:l.sourceY,width:l.width,height:l.height}));else{this.detectedTileData.clear(),r=this.detectVariableSizedTiles().map(o=>(this.detectedTileData.set(o.index,{sourceX:o.sourceX,sourceY:o.sourceY,width:o.width,height:o.height}),o));const l=this.tileLayers.find(o=>o.id===this.activeLayerId);if(l){const o=new Map;for(const[c,u]of this.detectedTileData.entries())o.set(c,u);this.layerTileData.set(l.type,o),console.log(`Stored ${o.size} newly detected tiles for layer type: ${l.type}`)}}let s=0;for(const i of r){const l=document.createElement("canvas");l.width=i.width,l.height=i.height,l.width=i.width,l.height=i.height,l.className="palette-tile",l.style.setProperty("--tile-width",`${i.width}px`),l.style.setProperty("--tile-height",`${i.height}px`);const o=l.getContext("2d");o&&o.drawImage(this.tilesetImage,i.sourceX,i.sourceY,i.width,i.height,0,0,i.width,i.height);const c=document.createElement("div");c.className="brush-wrapper",c.style.position="relative",c.style.display="inline-block",c.style.margin="2px";const u=document.createElement("div");u.className="selection-number",u.style.position="absolute",u.style.top="2px",u.style.left="2px",u.style.background="red",u.style.color="white",u.style.borderRadius="50%",u.style.width="16px",u.style.height="16px",u.style.fontSize="10px",u.style.display="none",u.style.alignItems="center",u.style.justifyContent="center",u.style.fontWeight="bold",u.style.zIndex="10";const d=document.createElement("div");d.className="remove-overlay",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.right="0",d.style.bottom="0",d.style.background="rgba(255, 0, 0, 0.7)",d.style.display="none",d.style.alignItems="center",d.style.justifyContent="center",d.style.fontSize="24px",d.style.color="white",d.style.cursor="pointer",d.style.zIndex="10",d.textContent="",d.addEventListener("click",v=>{v.preventDefault(),v.stopPropagation(),console.log(`Remove overlay clicked for tile index: ${i.index}`),this.handleBrushRemove(i.index)}),l.addEventListener("click",v=>{v.preventDefault();const x=document.querySelector("[data-brush-tool]"),N=(x==null?void 0:x.getAttribute("data-brush-tool"))||"none";console.log(`Tile clicked! Index: ${i.index}, Current brush tool: ${N}`),N==="merge"?(console.log("Handling merge tool selection"),this.handleBrushSelection(i.index,c,u)):N==="separate"?(console.log("Handling separate tool"),this.handleBrushSeparate(i.index)):N==="remove"?(console.log("Handling remove tool"),this.handleBrushRemove(i.index)):(console.log("Normal tile selection"),this.setCurrentLayerActiveGid(i.index),this.updateActiveTile())}),c.draggable=!1,c.addEventListener("dragstart",v=>{const x=document.querySelector("[data-brush-tool]");((x==null?void 0:x.getAttribute("data-brush-tool"))||"none")==="move"?(c.style.opacity="0.5",v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",i.index.toString()),this.dispatchBrushEvent("dragstart",i.index)):v.preventDefault()}),c.addEventListener("dragend",v=>{c.style.opacity="1",this.dispatchBrushEvent("dragend",i.index)}),c.addEventListener("dragover",v=>{const x=document.querySelector("[data-brush-tool]");((x==null?void 0:x.getAttribute("data-brush-tool"))||"none")==="move"&&(v.preventDefault(),v.dataTransfer.dropEffect="move",c.style.borderTop="3px solid #007acc")}),c.addEventListener("dragleave",v=>{c.style.borderTop=""}),c.addEventListener("drop",v=>{v.preventDefault(),c.style.borderTop="";const x=document.querySelector("[data-brush-tool]");if(((x==null?void 0:x.getAttribute("data-brush-tool"))||"none")==="move"){const p=parseInt(v.dataTransfer.getData("text/plain")),f=i.index;p!==f&&this.dispatchBrushEvent("drop",{from:p,to:f})}});const h=()=>{const v=document.querySelector("[data-brush-tool]"),x=(v==null?void 0:v.getAttribute("data-brush-tool"))||"none";c.draggable=x==="move",x==="move"?(c.style.cursor="move",c.title="Drag to reorder"):(c.style.cursor="",c.title="")};h();const m=new MutationObserver(()=>{h()}),w=document.querySelector("[data-brush-tool]");w&&m.observe(w,{attributes:!0,attributeFilter:["data-brush-tool"]}),c.addEventListener("mouseenter",()=>{const v=document.querySelector("[data-brush-tool]");((v==null?void 0:v.getAttribute("data-brush-tool"))||"none")==="remove"&&(d.style.display="flex")}),c.addEventListener("mouseleave",()=>{d.style.display="none"}),l.setAttribute("data-tile-index",i.index.toString()),l.setAttribute("data-tile-width",i.width.toString()),l.setAttribute("data-tile-height",i.height.toString()),l.setAttribute("data-source-x",i.sourceX.toString()),l.setAttribute("data-source-y",i.sourceY.toString()),c.appendChild(l),c.appendChild(u),c.appendChild(d),n.appendChild(c),s++}console.log(`Created ${s} variable-sized tiles from tileset`)}handleBrushSelection(t,n,r){if(n.classList.contains("brush-selected"))n.classList.remove("brush-selected"),r.style.display="none",this.dispatchBrushEvent("deselect",t);else{n.classList.add("brush-selected"),r.style.display="flex";const i=document.querySelectorAll(".brush-selected").length;r.textContent=i.toString(),this.dispatchBrushEvent("select",t)}}handleBrushSeparate(t){this.dispatchBrushEvent("separate",t)}handleBrushRemove(t){console.log(`handleBrushRemove called with tileIndex: ${t}`),this.dispatchBrushEvent("remove",t)}dispatchBrushEvent(t,n){const r=new CustomEvent("brushAction",{detail:typeof n=="number"?{action:t,tileIndex:n}:{action:t,...n}});document.dispatchEvent(r)}detectVariableSizedTiles(){if(!this.tilesetImage)return[];const t=[],n=document.createElement("canvas");n.width=this.tilesetImage.width,n.height=this.tilesetImage.height;const r=n.getContext("2d");if(!r)return[];r.drawImage(this.tilesetImage,0,0);const i=r.getImageData(0,0,this.tilesetImage.width,this.tilesetImage.height).data,l=new Array(this.tilesetImage.width*this.tilesetImage.height).fill(!1);let o=1;const c=[];for(let u=0;u<this.tilesetImage.height;u++)for(let d=0;d<this.tilesetImage.width;d++){const h=u*this.tilesetImage.width+d;if(l[h]||this.isPixelTransparent(i,d,u,this.tilesetImage.width))continue;const m=this.floodFillObjectData(i,this.tilesetImage.width,this.tilesetImage.height,d,u,l);m&&this.isValidObjectSize(m.bounds)&&c.push(m)}for(const u of c){const d=this.intelligentObjectSplit(u);for(const h of d)t.push({index:o++,sourceX:h.x,sourceY:h.y,width:h.width,height:h.height})}return t}isPixelTransparent(t,n,r,s){const i=(r*s+n)*4+3;return t[i]<=this.tileContentThreshold}floodFillObjectData(t,n,r,s,i,l){const o=[{x:s,y:i}];let c=s,u=s,d=i,h=i,m=0;const w=[];for(;o.length>0;){const g=o.pop(),{x:S,y:T}=g;if(S<0||S>=n||T<0||T>=r)continue;const C=T*n+S;l[C]||this.isPixelTransparent(t,S,T,n)||(l[C]=!0,m++,w.push({x:S,y:T}),c=Math.min(c,S),u=Math.max(u,S),d=Math.min(d,T),h=Math.max(h,T),o.push({x:S+1,y:T}),o.push({x:S-1,y:T}),o.push({x:S,y:T+1}),o.push({x:S,y:T-1}),o.push({x:S+1,y:T+1}),o.push({x:S+1,y:T-1}),o.push({x:S-1,y:T+1}),o.push({x:S-1,y:T-1}))}if(m===0)return null;const v=1,x=Math.max(0,c-v),N=Math.max(0,d-v),p=Math.min(n-1,u+v),f=Math.min(r-1,h+v);return{bounds:{x,y:N,width:p-x+1,height:f-N+1},pixels:w}}intelligentObjectSplit(t){const{bounds:n,pixels:r}=t,{width:s,height:i}=n,l=r.length,o=s*i,c=l/o,u=Math.max(this.tileSizeX,this.tileSizeY),d=this.shouldSplitDirection(r,n,"horizontal",u),h=this.shouldSplitDirection(r,n,"vertical",u),m=this.isFloorPattern(n,r),w=this.isVerticalWall(n,r),v=this.isHorizontalWall(n,r);return console.log(`Object analysis: ${s}x${i}, density: ${c.toFixed(2)}, floor: ${m}, vWall: ${w}, hWall: ${v}`),m?(console.log("Detected floor/ground pattern - splitting into individual tiles"),this.splitObjectByGrid(t,"horizontal")):w?(console.log("Detected vertical wall/structure - keeping as single tile"),[n]):v?(console.log("Detected horizontal wall - keeping as single tile"),[n]):d&&s>this.tileSizeX*1.5?(console.log("Splitting horizontal arrangement into individual objects"),this.splitObjectByGrid(t,"horizontal")):h&&i>this.tileSizeY*1.5&&!this.isLikelySingleVerticalObject(n,r)?(console.log("Splitting vertical arrangement into individual objects"),this.splitObjectByGrid(t,"vertical")):c<.4&&o>u*u*2?(console.log("Splitting sparse large object"),this.splitObjectByDensity(t)):(s>this.tileSizeX*1.8||i>this.tileSizeY*1.8)&&!w&&!v&&c<.8?(console.log("Splitting large non-wall object into tile-sized pieces"),this.splitObjectByGrid(t,s>i?"horizontal":"vertical")):(console.log("Keeping as single object"),[n])}isVerticalWall(t,n){const{width:r,height:s}=t,i=s/r,l=n.length/(r*s);if(i<1.5||l<.5)return!1;const o=this.hasConsistentVerticalWidth(n,t),c=this.hasVerticalContinuity(n,t),u=s>this.tileSizeY*1.5&&r<=this.tileSizeX*1.2;return o&&c||u&&l>.6}isHorizontalWall(t,n){const{width:r,height:s}=t,i=r/s,l=n.length/(r*s);if(i<2||l<.6||s<this.tileSizeY*.7)return!1;const o=this.hasConsistentHorizontalHeight(n,t),c=this.hasHorizontalContinuity(n,t);return o&&c}isLikelySingleVerticalObject(t,n){const{width:r,height:s}=t;return n.length/(r*s)>.7?!0:this.hasVerticalContinuity(n,t)}hasConsistentVerticalWidth(t,n){const{y:r,height:s}=n,i=Math.max(1,Math.floor(s/5)),l=[];for(let d=0;d<5;d++){const h=r+d*i,m=Math.min(h+i,r+s);let w=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,x=!1;for(const N of t)N.y>=h&&N.y<m&&(w=Math.min(w,N.x),v=Math.max(v,N.x),x=!0);x&&l.push(v-w+1)}if(l.length<2)return!1;const o=l.reduce((d,h)=>d+h,0)/l.length,c=l.reduce((d,h)=>d+Math.pow(h-o,2),0)/l.length,u=Math.sqrt(c);return o>0&&u/o<.3}hasConsistentHorizontalHeight(t,n){const{x:r,width:s}=n,i=Math.max(1,Math.floor(s/5)),l=[];for(let d=0;d<5;d++){const h=r+d*i,m=Math.min(h+i,r+s);let w=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,x=!1;for(const N of t)N.x>=h&&N.x<m&&(w=Math.min(w,N.y),v=Math.max(v,N.y),x=!0);x&&l.push(v-w+1)}if(l.length<2)return!1;const o=l.reduce((d,h)=>d+h,0)/l.length,c=l.reduce((d,h)=>d+Math.pow(h-o,2),0)/l.length,u=Math.sqrt(c);return o>0&&u/o<.3}hasVerticalContinuity(t,n){const{y:r,height:s}=n,i=Math.max(1,Math.floor(s/10));let l=0,o=0;for(let c=r;c<r+s;c+=i){const u=Math.min(c+i,r+s);let d=!1;for(const h of t)if(h.y>=c&&h.y<u){d=!0;break}d&&l++,o++}return o>0&&l/o>=.7}hasHorizontalContinuity(t,n){const{x:r,width:s}=n,i=Math.max(1,Math.floor(s/10));let l=0,o=0;for(let c=r;c<r+s;c+=i){const u=Math.min(c+i,r+s);let d=!1;for(const h of t)if(h.x>=c&&h.x<u){d=!0;break}d&&l++,o++}return o>0&&l/o>=.7}isFloorPattern(t,n){const{width:r,height:s}=t,i=s<=this.tileSizeY*.6,l=r>this.tileSizeX*1.3,o=this.hasRepeatingHorizontalPattern(n,t),c=this.hasDiamondLikeShape(n,t);return i&&l||o&&l||c&&l}hasRepeatingHorizontalPattern(t,n){const{x:r,width:s}=n,i=this.tileSizeX,l=Math.floor(s/i);if(l<2)return!1;const o=[];for(let h=0;h<l;h++){const m=r+h*i,w=m+i;let v=0;for(const x of t)x.x>=m&&x.x<w&&v++;o.push(v)}const c=o.reduce((h,m)=>h+m,0)/o.length,u=o.reduce((h,m)=>h+Math.pow(m-c,2),0)/o.length,d=Math.sqrt(u);return c>0&&d/c<.5}hasDiamondLikeShape(t,n){const{y:r,height:s}=n,i=[];for(let h=0;h<s;h++){let m=0;for(const w of t)w.y===r+h&&m++;i.push(m)}if(i.length<3)return!1;const l=Math.floor(i.length*.2),o=Math.floor(i.length*.3),c=Math.floor(i.length*.7),u=(i.slice(0,l).reduce((h,m)=>h+m,0)+i.slice(-l).reduce((h,m)=>h+m,0))/(l*2||1);return i.slice(o,c).reduce((h,m)=>h+m,0)/(c-o||1)>u*1.2}shouldSplitDirection(t,n,r,s){const{x:i,y:l,width:o,height:c}=n;if(r==="horizontal"){const u=[],d=Math.max(1,Math.floor(o/(o/s)));for(let v=0;v<o;v+=d){let x=0;for(const N of t)N.x>=i+v&&N.x<i+v+d&&x++;u.push(x)}let h=0,m=0;const w=u.reduce((v,x)=>v+x,0)/u.length;for(let v=0;v<u.length;v++)u[v]<w*.3?h++:u[v]>w*.7&&m++;return m>=2&&h>=1}else{const u=[],d=Math.max(1,Math.floor(c/(c/s)));for(let v=0;v<c;v+=d){let x=0;for(const N of t)N.y>=l+v&&N.y<l+v+d&&x++;u.push(x)}let h=0,m=0;const w=u.reduce((v,x)=>v+x,0)/u.length;for(let v=0;v<u.length;v++)u[v]<w*.3?h++:u[v]>w*.7&&m++;return m>=2&&h>=1}}splitObjectByGrid(t,n){const{bounds:r}=t,s=[];if(n==="horizontal"){const i=this.tileSizeX;for(let l=r.x;l<r.x+r.width;l+=i){const o=this.findContentInRegion(t.pixels,{x:l,y:r.y,width:Math.min(i,r.x+r.width-l),height:r.height});o&&s.push(o)}}else{const i=this.tileSizeY;for(let l=r.y;l<r.y+r.height;l+=i){const o=this.findContentInRegion(t.pixels,{x:r.x,y:l,width:r.width,height:Math.min(i,r.y+r.height-l)});o&&s.push(o)}}return s.length>0?s:[r]}splitObjectByDensity(t){const{bounds:n}=t,r=Math.min(this.tileSizeX,this.tileSizeY),s=[];for(let i=n.y;i<n.y+n.height;i+=r)for(let l=n.x;l<n.x+n.width;l+=r){const o=this.findContentInRegion(t.pixels,{x:l,y:i,width:Math.min(r,n.x+n.width-l),height:Math.min(r,n.y+n.height-i)});o&&s.push(o)}return s.length>0?s:[n]}findContentInRegion(t,n){let r=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,o=!1;for(const u of t)u.x>=n.x&&u.x<n.x+n.width&&u.y>=n.y&&u.y<n.y+n.height&&(r=Math.min(r,u.x),s=Math.max(s,u.x),i=Math.min(i,u.y),l=Math.max(l,u.y),o=!0);if(!o)return null;const c=1;return{x:Math.max(0,r-c),y:Math.max(0,i-c),width:s-r+1+c*2,height:l-i+1+c*2}}isValidObjectSize(t){var s,i;const r=Math.max(((s=this.tilesetImage)==null?void 0:s.width)||512,((i=this.tilesetImage)==null?void 0:i.height)||512);return t.width>=8&&t.height>=8&&t.width<=r&&t.height<=r&&t.width*t.height>=8*8}setObjectSeparationSensitivity(t){this.objectSeparationSensitivity=Math.max(0,Math.min(1,t))}getObjectSeparationSensitivity(){return this.objectSeparationSensitivity}tileHasContent(t){try{const r=t.getImageData(0,0,this.tileSizeX,this.tileSizeY).data;for(let s=3;s<r.length;s+=4)if(r[s]>this.tileContentThreshold)return!0;return!1}catch(n){return console.warn("Could not analyze tile content, assuming tile has content:",n),!0}}updateActiveTile(){const t=document.getElementById("activeGid");if(t&&(t.textContent=this.activeGid.toString()),document.querySelectorAll(".palette-tile").forEach(r=>r.classList.remove("selected")),this.activeGid>0){const r=document.querySelector(`.palette-tile[data-tile-index="${this.activeGid}"]`);r&&r.classList.add("selected")}}resizeMap(t,n){this.mapWidth=t,this.mapHeight=n;for(const r of this.tileLayers){const s=new Array(t*n).fill(0);for(let i=0;i<Math.min(n,this.mapHeight);i++)for(let l=0;l<Math.min(t,this.mapWidth);l++){const o=i*this.mapWidth+l,c=i*t+l;o<r.data.length&&(s[c]=r.data[o])}r.data=s}this.draw(),this.markAsChanged(!0)}addLayer(t,n){if(this.tileLayers.find(i=>i.type===n))return!1;this.saveState();const s={id:this.nextLayerId++,name:t,type:n,data:new Array(this.mapWidth*this.mapHeight).fill(0),visible:!0,transparency:1};return this.tileLayers.push(s),this.sortLayersByPriority(),this.activeLayerId=s.id,this.draw(),this.markAsChanged(!0),!0}sortLayersByPriority(){const t={npc:1,enemy:2,event:3,collision:4,object:5,background:6};this.tileLayers.sort((n,r)=>t[n.type]-t[r.type])}deleteLayer(t){if(this.tileLayers.length<=1)return!1;const n=this.tileLayers.findIndex(r=>r.id===t);return n!==-1?(this.saveState(),this.tileLayers.splice(n,1),this.activeLayerId===t&&(this.activeLayerId=this.tileLayers.length>0?this.tileLayers[0].id:null),this.draw(),this.markAsChanged(!0),!0):!1}setActiveLayer(t){this.activeLayerId=t;const n=this.tileLayers.find(r=>r.id===t);n&&this.updateCurrentTileset(n.type),this.draw()}toggleLayerVisibility(t){const n=this.tileLayers.find(r=>r.id===t);n&&(n.visible=!n.visible,this.draw())}setLayerTransparency(t,n){const r=this.tileLayers.find(s=>s.id===t);r&&(r.transparency=Math.max(0,Math.min(1,n)),this.draw())}setMapSize(t,n){this.mapWidth=t,this.mapHeight=n,this.collisionData=new Array(t*n).fill(0),this.tileLayers.forEach(r=>{const s=r.data;r.data=new Array(t*n).fill(0);for(let i=0;i<Math.min(n,15);i++)for(let l=0;l<Math.min(t,20);l++){const o=i*20+l,c=i*t+l;o<s.length&&(r.data[c]=s[o])}}),this.draw()}renameLayer(t,n){const r=this.tileLayers.find(s=>s.id===t);r&&(r.name=n)}changeLayerType(t,n,r){const s=this.tileLayers.find(i=>i.id===t);return s?(s.type=n,s.name=r,this.sortLayersByPriority(),!0):!1}setLayerType(t,n){const r=this.tileLayers.find(s=>s.id===t);r&&(r.type=n,this.sortLayersByPriority())}getLayers(){return this.tileLayers}getActiveLayerId(){return this.activeLayerId}getHoverCoordinates(){return this.hoverX>=0&&this.hoverY>=0?{x:this.hoverX,y:this.hoverY}:null}setCurrentTool(t){this.currentTool=t,this.tool="tiles"}getCurrentTool(){return this.currentTool}setCurrentSelectionTool(t){this.currentSelectionTool=t,this.tool="selection"}getCurrentSelectionTool(){return this.currentSelectionTool}setCurrentShapeTool(t){this.currentShapeTool=t,this.tool="shape"}getCurrentShapeTool(){return this.currentShapeTool}setEyedropperTool(){this.tool="eyedropper",this.mapCanvas.style.cursor="crosshair"}isEyedropperActive(){return this.tool==="eyedropper"}setEyedropperCallback(t){this.eyedropperCallback=t}setStampTool(){this.tool="stamp",this.mapCanvas.style.cursor="crosshair",this.stampPreview.visible=!1}isStampActive(){return this.tool==="stamp"}setCurrentStampMode(t){this.currentStampMode=t,this.stampPreview.visible=t==="place"&&this.activeStamp!==null,this.draw()}getCurrentStampMode(){return this.currentStampMode}createStampFromSelection(t){if(!this.selection.active||this.selection.tiles.length===0)return!1;let n=1/0,r=1/0,s=-1/0,i=-1/0;for(const h of this.selection.tiles)n=Math.min(n,h.x),r=Math.min(r,h.y),s=Math.max(s,h.x),i=Math.max(i,h.y);const l=s-n+1,o=i-r+1,c=[],u=this.activeLayerId||0;for(const h of this.selection.tiles)h.gid>0&&c.push({tileId:h.gid,layerId:u,x:h.x-n,y:h.y-r});const d={id:Date.now().toString(),name:t,width:l,height:o,tiles:c};return this.stamps.set(d.id,d),this.clearSelection(),this.stampCallback&&this.stampCallback(Array.from(this.stamps.values())),!0}setActiveStamp(t){t&&this.stamps.has(t)?(this.activeStamp=this.stamps.get(t),this.currentStampMode="place",this.stampPreview.visible=!0):(this.activeStamp=null,this.stampPreview.visible=!1),this.draw()}getStamps(){return Array.from(this.stamps.values())}deleteStamp(t){return this.stamps.has(t)?(this.stamps.delete(t),this.activeStamp&&this.activeStamp.id===t&&(this.activeStamp=null,this.stampPreview.visible=!1),this.stampCallback&&this.stampCallback(Array.from(this.stamps.values())),this.draw(),!0):!1}setStampCallback(t){this.stampCallback=t}placeStamp(t,n){if(this.activeStamp&&!(t<0||n<0||t+this.activeStamp.width>this.mapWidth||n+this.activeStamp.height>this.mapHeight)){for(const r of this.activeStamp.tiles){const s=t+r.x,l=(n+r.y)*this.mapWidth+s;let o=this.tileLayers.find(c=>c.id===r.layerId);!o&&this.activeLayerId!==null&&(o=this.tileLayers.find(c=>c.id===this.activeLayerId)),o&&(o.data[l]=r.tileId)}this.saveState(),this.draw()}}clearSelection(){this.selection.active=!1,this.selection.tiles=[],this.draw()}hasActiveSelection(){return this.selection.active&&this.selection.tiles.length>0}getSelection(){return[...this.selection.tiles]}selectAll(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);if(t){this.selection.tiles=[];for(let n=0;n<this.mapHeight;n++)for(let r=0;r<this.mapWidth;r++){const s=n*this.mapWidth+r,i=t.data[s];this.selection.tiles.push({x:r,y:n,gid:i})}this.selection.active=!0,this.draw()}}deleteSelection(){if(!this.selection.active||this.selection.tiles.length===0)return;const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&(this.saveState(),this.selection.tiles.forEach(n=>{const r=n.y*this.mapWidth+n.x;t.data[r]=0}),this.clearSelection(),this.markAsChanged(),this.draw())}fillSelection(){if(!this.selection.active||this.selection.tiles.length===0||this.activeGid===0)return;const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&(this.saveState(),this.selection.tiles.forEach(n=>{const r=n.y*this.mapWidth+n.x;t.data[r]=this.activeGid}),this.markAsChanged(),this.draw())}bucketFill(t,n,r,s){const i=t.data[r*this.mapWidth+n];if(i===s)return;const l=[{x:n,y:r}],o=new Set;for(;l.length>0;){const{x:c,y:u}=l.pop(),d=u*this.mapWidth+c;c<0||c>=this.mapWidth||u<0||u>=this.mapHeight||o.has(d)||t.data[d]===i&&(o.add(d),t.data[d]=s,l.push({x:c+1,y:u}),l.push({x:c-1,y:u}),l.push({x:c,y:u+1}),l.push({x:c,y:u-1}))}}selectRectangular(t,n,r,s,i){this.selection.tiles=[];const l=Math.min(n,s),o=Math.max(n,s),c=Math.min(r,i),u=Math.max(r,i);for(let d=c;d<=u;d++)for(let h=l;h<=o;h++)if(h>=0&&h<this.mapWidth&&d>=0&&d<this.mapHeight){const m=d*this.mapWidth+h,w=t.data[m];this.selection.tiles.push({x:h,y:d,gid:w})}this.selection.active=!0}selectMagicWand(t,n,r){const s=t.data[r*this.mapWidth+n];this.selection.tiles=[];const i=[{x:n,y:r}],l=new Set;for(;i.length>0;){const{x:o,y:c}=i.pop(),u=c*this.mapWidth+o;o<0||o>=this.mapWidth||c<0||c>=this.mapHeight||l.has(u)||t.data[u]===s&&(l.add(u),this.selection.tiles.push({x:o,y:c,gid:s}),i.push({x:o+1,y:c}),i.push({x:o-1,y:c}),i.push({x:o,y:c+1}),i.push({x:o,y:c-1}))}this.selection.active=!0}selectSameTile(t,n,r){const s=t.data[r*this.mapWidth+n];this.selection.tiles=[];for(let i=0;i<this.mapHeight;i++)for(let l=0;l<this.mapWidth;l++){const o=i*this.mapWidth+l;t.data[o]===s&&this.selection.tiles.push({x:l,y:i,gid:s})}this.selection.active=!0}selectCircular(t,n,r,s,i){this.selection.tiles=[];const l=Math.sqrt(Math.pow(s-n,2)+Math.pow(i-r,2));for(let o=0;o<this.mapHeight;o++)for(let c=0;c<this.mapWidth;c++)if(Math.sqrt(Math.pow(c-n,2)+Math.pow(o-r,2))<=l){const d=o*this.mapWidth+c,h=t.data[d];this.selection.tiles.push({x:c,y:o,gid:h})}this.selection.active=!0}drawRectangleShape(t,n,r,s){const i=[],l=Math.min(t,r),o=Math.max(t,r),c=Math.min(n,s),u=Math.max(n,s);for(let d=l;d<=o;d++)for(let h=c;h<=u;h++)(d===l||d===o||h===c||h===u)&&d>=0&&d<this.mapWidth&&h>=0&&h<this.mapHeight&&i.push({x:d,y:h});return i}drawCircleShape(t,n,r,s){const i=[],l=Math.sqrt(Math.pow(r-t,2)+Math.pow(s-n,2));for(let o=0;o<360;o+=1){const c=o*Math.PI/180,u=Math.round(t+l*Math.cos(c)),d=Math.round(n+l*Math.sin(c));u>=0&&u<this.mapWidth&&d>=0&&d<this.mapHeight&&(i.some(h=>h.x===u&&h.y===d)||i.push({x:u,y:d}))}return i}drawLineShape(t,n,r,s){const i=[],l=Math.abs(r-t),o=Math.abs(s-n),c=t<r?1:-1,u=n<s?1:-1;let d=l-o,h=t,m=n,w=!1;for(;!w;){if(h>=0&&h<this.mapWidth&&m>=0&&m<this.mapHeight&&i.push({x:h,y:m}),h===r&&m===s){w=!0;continue}const v=2*d;v>-o&&(d-=o,h+=c),v<l&&(d+=l,m+=u)}return i}setLayerTileset(t,n){const r=new Image;r.onload=()=>{const s=Math.floor(r.width/this.tileSizeX),i=Math.floor(r.height/this.tileSizeY),l=s*i;this.layerTilesets.set(t,{image:r,fileName:n.name,columns:s,rows:i,count:l});const o=this.tileLayers.find(c=>c.id===this.activeLayerId);o&&o.type===t&&this.updateCurrentTileset(t)},r.src=URL.createObjectURL(n)}getCurrentLayerType(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);return t?t.type:null}hasLayerTileset(t){return this.layerTilesets.has(t)}updateCurrentTileset(t){const n=this.layerTilesets.get(t);if(n){this.tilesetImage=n.image,this.tilesetFileName=n.fileName,this.tilesetColumns=n.columns,this.tilesetRows=n.rows,this.tileCount=n.count;const r=this.layerTileData.get(t);if(this.detectedTileData.clear(),r)for(const[i,l]of r.entries())this.detectedTileData.set(i,l);const s=this.layerActiveGid.get(t)||0;this.activeGid=s,this.createTilePalette()}else this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.detectedTileData.clear(),this.activeGid=0,this.clearTilePalette()}clearTilePalette(){const t=document.getElementById("tilesContainer");t&&(t.innerHTML="")}clearLayer(){if(this.activeLayerId!==null){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);t&&t.data.fill(0)}this.draw()}removeLayerTileset(){const t=this.tileLayers.find(n=>n.id===this.activeLayerId);if(t){const n=t.type;this.layerTilesets.delete(n),this.layerTileData.delete(n),this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.detectedTileData.clear(),this.activeGid=0,this.clearTilePalette(),this.draw()}}exportFlareMap(){if(!this.tilesetImage||!this.tilesetFileName){alert("Please load a tileset first before exporting.");return}const t=this.generateFlareMapTxt(),n=this.generateFlareTilesetDef();this.downloadFile(t,"map.txt","text/plain"),this.downloadFile(n,"tileset.txt","text/plain"),console.log("Flare map and tileset definition exported successfully!")}autoSaveExport(){if(!this.tilesetImage||!this.tilesetFileName||!this.tileLayers.some(n=>n.data.some(r=>r!==0)))return!1;try{return this.saveToLocalStorage(),!0}catch(n){return console.warn("Auto-save failed:",n),!1}}generateFlareMapTxt(){const t=[];t.push("[header]"),t.push(`width=${this.mapWidth}`),t.push(`height=${this.mapHeight}`),t.push(`tilewidth=${this.tileSizeX}`),t.push(`tileheight=${this.tileSizeY}`),t.push("orientation=isometric"),t.push("tileset=tileset.txt"),t.push("");for(const n of this.tileLayers)if(n.visible){t.push("[layer]"),t.push(`type=${n.type}`),t.push("data=");for(let r=0;r<this.mapHeight;r++){const s=[];for(let i=0;i<this.mapWidth;i++){const l=r*this.mapWidth+i;s.push(n.data[l].toString())}t.push(s.join(","))}t.push("")}return t.join(`
`)}generateFlareTilesetDef(){if(!this.tilesetFileName)return"";const t=[];t.push(`img=../maps/${this.tilesetFileName}`),t.push("");for(let n=0;n<this.tileCount;n++){const r=n+1,s=n%this.tilesetColumns*this.tileSizeX,i=Math.floor(n/this.tilesetColumns)*this.tileSizeY,l=this.tileSizeX,o=this.tileSizeY,c=this.tileSizeX/2,u=this.tileSizeY/2;t.push(`tile=${r},${s},${i},${l},${o},${c},${u}`)}return t.join(`
`)}downloadFile(t,n,r){const s=new Blob([t],{type:r}),i=URL.createObjectURL(s),l=document.createElement("a");l.href=i,l.download=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}saveState(){if(this.isApplyingHistory)return;const t={layers:this.tileLayers.map(n=>({...n,data:[...n.data]})),objects:this.objects.map(n=>({...n}))};this.history=this.history.slice(0,this.historyIndex+1),this.history.push(t),this.historyIndex=this.history.length-1,this.history.length>this.maxHistorySize&&(this.history.shift(),this.historyIndex--),this.markAsChanged(!1)}deepCopyLayers(t){return t.map(n=>({...n,data:[...n.data]}))}deepCopyObjects(t){return t.map(n=>({...n}))}undo(){this.historyIndex>0&&(this.historyIndex--,this.applyHistoryState())}redo(){this.historyIndex<this.history.length-1&&(this.historyIndex++,this.applyHistoryState())}applyHistoryState(){if(this.historyIndex>=0&&this.historyIndex<this.history.length){this.isApplyingHistory=!0;const t=this.history[this.historyIndex];this.tileLayers=this.deepCopyLayers(t.layers),this.objects=this.deepCopyObjects(t.objects),this.draw(),this.isApplyingHistory=!1}}setAutoSaveCallback(t){this.autoSaveCallback=t}setSaveStatusCallback(t){this.saveStatusCallback=t}setAutoSaveEnabled(t){this.autoSaveEnabled=t,!t&&this.autoSaveTimeout&&(clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=null)}setDarkMode(t){this.isDarkMode=t,this.draw()}markAsChanged(t=!1){if(!this.autoSaveEnabled)return;this.hasUnsavedChanges=!0,this.updateSaveStatus("unsaved"),this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout);const n=t?this.IMMEDIATE_SAVE_DELAY:this.AUTO_SAVE_DELAY;this.autoSaveTimeout=window.setTimeout(()=>{this.performAutoSave()},n)}async performAutoSave(){if(this.hasUnsavedChanges)try{this.updateSaveStatus("saving"),this.autoSaveExport()?(this.autoSaveCallback&&await this.autoSaveCallback(),this.hasUnsavedChanges=!1,this.lastSaveTimestamp=Date.now(),this.updateSaveStatus("saved")):this.updateSaveStatus("saved"),this.autoSaveTimeout=null}catch(t){console.error("Auto-save failed:",t),this.updateSaveStatus("error"),this.autoSaveTimeout=window.setTimeout(()=>{this.performAutoSave()},15e3)}}saveToLocalStorage(){try{const t={timestamp:Date.now(),mapWidth:this.mapWidth,mapHeight:this.mapHeight,layers:this.tileLayers,objects:this.objects,tilesetFileName:this.tilesetFileName,tilesetImage:this.tilesetImage?this.canvasToDataURL(this.tilesetImage):null,tileSizeX:this.tileSizeX,tileSizeY:this.tileSizeY,detectedTileData:Array.from(this.detectedTileData.entries()),tileContentThreshold:this.tileContentThreshold,objectSeparationSensitivity:this.objectSeparationSensitivity};localStorage.setItem("tilemap_autosave_backup",JSON.stringify(t))}catch(t){console.warn("Failed to save to localStorage:",t)}}canvasToDataURL(t){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");return r?(r.drawImage(t,0,0),n.toDataURL("image/png")):""}loadFromLocalStorage(){try{const t=localStorage.getItem("tilemap_autosave_backup");if(!t)return!1;const n=JSON.parse(t);if(Date.now()-n.timestamp>24*60*60*1e3)return!1;if(this.mapWidth=n.mapWidth,this.mapHeight=n.mapHeight,this.tileLayers=n.layers,this.objects=n.objects,this.tilesetFileName=n.tilesetFileName,n.tileContentThreshold!==void 0&&(this.tileContentThreshold=n.tileContentThreshold),n.objectSeparationSensitivity!==void 0&&(this.objectSeparationSensitivity=n.objectSeparationSensitivity),n.detectedTileData){this.detectedTileData.clear();for(const[s,i]of n.detectedTileData)this.detectedTileData.set(s,i)}if(n.tilesetImage){const s=new Image;s.onload=()=>{this.tilesetImage=s,this.tilesetColumns=Math.floor(s.width/this.tileSizeX),this.tilesetRows=Math.floor(s.height/this.tileSizeY),this.tileCount=this.tilesetColumns*this.tilesetRows,n.detectedTileData&&n.detectedTileData.length>0?this.createTilePalette(!0):this.createTilePalette(),this.updateActiveTile(),this.draw()},s.src=n.tilesetImage}return this.draw(),!0}catch(t){return console.error("Failed to load from localStorage:",t),!1}}clearLocalStorageBackup(){localStorage.removeItem("tilemap_autosave_backup")}async saveProjectData(t){var n,r;try{console.log("=== SAVE PROJECT DATA DEBUG ==="),console.log("Project path:",t),console.log("Number of layer tilesets:",this.layerTilesets.size);const s={},i=[];console.log("=== SAVING LAYER TILESETS ===");for(const[o,c]of this.layerTilesets.entries())if(c.image&&c.fileName){console.log(`Saving tileset for layer ${o}: ${c.fileName}`);const u=this.canvasToDataURL(c.image);s[c.fileName]=u,i.push({layerType:o,fileName:c.fileName,name:c.fileName.replace(/\.[^/.]+$/,""),columns:c.columns,rows:c.rows,count:c.count,detectedTiles:this.getDetectedTilesForLayer(o)}),console.log(`Saved tileset: ${c.fileName} (${u.length} bytes)`)}else console.log(`No tileset image for layer ${o}`);if(this.layerTilesets.size===0&&this.tilesetImage&&this.tilesetFileName){console.log("Saving legacy tileset:",this.tilesetFileName);const o=this.canvasToDataURL(this.tilesetImage);s[this.tilesetFileName]=o,i.push({fileName:this.tilesetFileName,name:this.tilesetFileName.replace(/\.[^/.]+$/,""),detectedTiles:Array.from(this.detectedTileData.entries())})}const l={name:((n=this.tilesetFileName)==null?void 0:n.replace(/\.[^/.]+$/,""))||"Untitled Map",width:this.mapWidth,height:this.mapHeight,tileSize:64,layers:this.tileLayers,objects:this.objects,tilesets:i,tilesetImages:s,version:"1.0",tileContentThreshold:this.tileContentThreshold,objectSeparationSensitivity:this.objectSeparationSensitivity};if(console.log("Project data prepared:",{name:l.name,tilesetCount:Object.keys(l.tilesetImages).length,layerCount:l.layers.length,layerTilesetCount:i.length}),(r=window.electronAPI)!=null&&r.saveMapProject){console.log("Saving via Electron API...");const o=await window.electronAPI.saveMapProject(t,l);return console.log("Electron save result:",o),o}else return console.log("Falling back to localStorage save..."),this.saveToLocalStorage(),!0}catch(s){return console.error("Error saving project data:",s),!1}}updateSaveStatus(t){this.saveStatusCallback&&this.saveStatusCallback(t)}getUnsavedChanges(){return this.hasUnsavedChanges}getLastSaveTime(){return this.lastSaveTimestamp}forceSave(){this.autoSaveTimeout&&clearTimeout(this.autoSaveTimeout),this.performAutoSave()}resetForNewProject(){this.clearLocalStorageBackup(),this.tilesetImage=null,this.tilesetFileName=null,this.tilesetColumns=0,this.tilesetRows=0,this.tileCount=0,this.detectedTileData.clear(),this.clearTilePalette(),this.tileLayers=[],this.activeLayerId=null,this.nextLayerId=1,this.objects=[],this.nextObjectId=1,this.selectedObjectId=null,this.layerTilesets.clear(),this.tilesets=[],this.collisionData=[],this.selection={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,tiles:[]},this.isSelecting=!1,this.shapeDrawing={active:!1,startX:-1,startY:-1,endX:-1,endY:-1,preview:[]},this.isDrawingShape=!1,this.stamps.clear(),this.activeStamp=null,this.stampPreview={x:0,y:0,visible:!1},this.hasUnsavedChanges=!1,this.lastSaveTimestamp=0,this.autoSaveTimeout&&(clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=null),this.createDefaultLayers(),this.history=[],this.historyIndex=-1,this.saveState(),this.ctx.clearRect(0,0,this.mapCanvas.width,this.mapCanvas.height),this.draw()}loadProjectData(t){try{if(console.log("=== LOADING PROJECT DATA IN EDITOR ==="),console.log("Project data:",{hasLayers:!!(t.layers&&t.layers.length>0),layerCount:t.layers?t.layers.length:0,hasObjects:!!(t.objects&&t.objects.length>0),objectCount:t.objects?t.objects.length:0,width:t.width,height:t.height,hasTilesets:!!(t.tilesets&&t.tilesets.length>0),tilesetCount:t.tilesets?t.tilesets.length:0}),t.tileContentThreshold!==void 0&&(this.tileContentThreshold=t.tileContentThreshold),t.objectSeparationSensitivity!==void 0&&(this.objectSeparationSensitivity=t.objectSeparationSensitivity),this.layerTilesets.clear(),t.tilesets&&Array.isArray(t.tilesets)){console.log("Loading tilesets:",t.tilesets.length);let n=0;const r=t.tilesets.length;for(const s of t.tilesets)if(s.fileName&&t.tilesetImages&&t.tilesetImages[s.fileName]){const i=t.tilesetImages[s.fileName],l=new Image;l.onload=()=>{console.log(`Tileset ${s.fileName} loaded for layer: ${s.layerType||"legacy"}`);const o={image:l,fileName:s.fileName,columns:s.columns||Math.floor(l.width/this.tileSizeX),rows:s.rows||Math.floor(l.height/this.tileSizeY),count:s.count||(s.columns||Math.floor(l.width/this.tileSizeX))*(s.rows||Math.floor(l.height/this.tileSizeY))};if(s.layerType)this.layerTilesets.set(s.layerType,o),console.log(`Set tileset for layer type ${s.layerType}`);else{this.tilesetImage=l,this.tilesetFileName=s.fileName,this.tilesetColumns=o.columns,this.tilesetRows=o.rows,this.tileCount=o.count;const c=this.tileLayers.find(u=>u.id===this.activeLayerId);c&&!this.layerTilesets.has(c.type)&&(this.layerTilesets.set(c.type,o),console.log(`Assigned legacy tileset to active layer: ${c.type}`))}if(s.detectedTiles&&Array.isArray(s.detectedTiles))if(console.log(`Restoring ${s.detectedTiles.length} detected tiles for ${s.layerType||"legacy"}`),s.layerType){const c=new Map;for(const[u,d]of s.detectedTiles)c.set(u,d);this.layerTileData.set(s.layerType,c),console.log(`Stored ${c.size} tiles for layer type: ${s.layerType}`)}else{this.detectedTileData.clear();for(const[u,d]of s.detectedTiles)this.detectedTileData.set(u,d);const c=this.tileLayers.find(u=>u.id===this.activeLayerId);if(c){const u=new Map;for(const[d,h]of s.detectedTiles)u.set(d,h);this.layerTileData.set(c.type,u)}}if(n++,n===r){console.log("All tilesets loaded, updating UI for active layer");const c=this.tileLayers.find(u=>u.id===this.activeLayerId);c&&this.updateCurrentTileset(c.type)}},l.src=i}else if(n++,n===r){console.log("All tilesets processed, updating UI for active layer");const i=this.tileLayers.find(l=>l.id===this.activeLayerId);i&&this.updateCurrentTileset(i.type)}}if(t.detectedTileData&&Array.isArray(t.detectedTileData)){this.detectedTileData.clear();for(const[n,r]of t.detectedTileData)this.detectedTileData.set(n,r)}t.layers&&t.layers.length>0?(console.log("Loading layers:",t.layers.length),this.tileLayers=[...t.layers],this.tileLayers.length>0&&(!this.activeLayerId||!this.tileLayers.find(n=>n.id===this.activeLayerId))&&(this.activeLayerId=this.tileLayers[0].id,console.log("Set active layer to:",this.activeLayerId))):(console.log("No layers found in project data, creating default layers"),this.createDefaultLayers()),t.objects&&t.objects.length>0&&(console.log("Loading objects:",t.objects.length),this.objects=[...t.objects]),t.width&&t.height&&(console.log("Setting map dimensions:",t.width,"x",t.height),this.mapWidth=t.width,this.mapHeight=t.height),console.log("Project data loaded successfully"),this.draw()}catch(n){console.error("Error loading project data:",n)}}async loadTilesetFromDataURL(t,n){return new Promise((r,s)=>{console.log("Loading tileset from dataURL:",n,"Length:",t.length);const i=new Image;i.onload=()=>{console.log("Tileset image loaded successfully:",i.width,"x",i.height),this.tilesetImage=i,this.tilesetFileName=n,this.tilesetColumns=Math.floor(i.width/this.tileSizeX),this.tilesetRows=Math.floor(i.height/this.tileSizeY),this.tileCount=this.tilesetColumns*this.tilesetRows,console.log("Tileset properties:",{columns:this.tilesetColumns,rows:this.tilesetRows,tileCount:this.tileCount});const l=this.tileLayers.find(c=>c.id===this.activeLayerId);if(l){console.log("Setting tileset for active layer type:",l.type),this.layerTilesets.set(l.type,{image:i,fileName:n,columns:this.tilesetColumns,rows:this.tilesetRows,count:this.tileCount});const c=this.layerTileData.has(l.type);if(console.log(`Layer ${l.type} has existing tile data:`,c),!c)this.detectedTileData.clear();else{const u=this.layerTileData.get(l.type);if(this.detectedTileData.clear(),u)for(const[d,h]of u.entries())this.detectedTileData.set(d,h)}}else console.log("No active layer found, storing as global tileset");const o=l?this.layerTileData.has(l.type):!1;this.createTilePalette(o),console.log("Tile detection completed, detected tiles:",this.detectedTileData.size),this.draw(),console.log("Tileset loaded and palette created"),r()},i.onerror=l=>{console.error("Failed to load tileset image:",l),s(new Error("Failed to load tileset from data URL"))},i.src=t})}debugLayerData(){console.log("=== LAYER DATA DEBUG ===");for(const t of this.tileLayers){const n=t.data.filter(s=>s>0).length,r=this.layerTilesets.get(t.type);console.log(`Layer ${t.name} (${t.type}): ${n} painted tiles, has tileset: ${!!(r!=null&&r.image)}`)}}redraw(){this.draw()}getMapWidth(){return this.mapWidth}getMapHeight(){return this.mapHeight}}const Fv=1,$v=1e6;let xl=0;function Wv(){return xl=(xl+1)%Number.MAX_SAFE_INTEGER,xl.toString()}const wl=new Map,Tu=e=>{if(wl.has(e))return;const t=setTimeout(()=>{wl.delete(e),Ar({type:"REMOVE_TOAST",toastId:e})},$v);wl.set(e,t)},Uv=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Fv)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Tu(n):e.toasts.forEach(r=>{Tu(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Hs=[];let Bs={toasts:[]};function Ar(e){Bs=Uv(Bs,e),Hs.forEach(t=>{t(Bs)})}function Hv({...e}){const t=Wv(),n=s=>Ar({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ar({type:"DISMISS_TOAST",toastId:t});return Ar({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Zh(){const[e,t]=y.useState(Bs);return y.useEffect(()=>(Hs.push(t),()=>{const n=Hs.indexOf(t);n>-1&&Hs.splice(n,1)}),[e]),{...e,toast:Hv,dismiss:n=>Ar({type:"DISMISS_TOAST",toastId:n})}}function Oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function qh(e,t=[]){let n=[];function r(i,l){const o=y.createContext(l),c=n.length;n=[...n,l];const u=h=>{var p;const{scope:m,children:w,...v}=h,x=((p=m==null?void 0:m[e])==null?void 0:p[c])||o,N=y.useMemo(()=>v,Object.values(v));return a.jsx(x.Provider,{value:N,children:w})};u.displayName=i+"Provider";function d(h,m){var x;const w=((x=m==null?void 0:m[e])==null?void 0:x[c])||o,v=y.useContext(w);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(l=>y.createContext(l));return function(o){const c=(o==null?void 0:o[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[r,Bv(s,...t)]}function Bv(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Yv(e){const t=e+"CollectionProvider",[n,r]=qh(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:N,children:p}=x,f=Nt.useRef(null),g=Nt.useRef(new Map).current;return a.jsx(s,{scope:N,itemMap:g,collectionRef:f,children:p})};l.displayName=t;const o=e+"CollectionSlot",c=mi(o),u=Nt.forwardRef((x,N)=>{const{scope:p,children:f}=x,g=i(o,p),S=xn(N,g.collectionRef);return a.jsx(c,{ref:S,children:f})});u.displayName=o;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=mi(d),w=Nt.forwardRef((x,N)=>{const{scope:p,children:f,...g}=x,S=Nt.useRef(null),T=xn(N,S),C=i(d,p);return Nt.useEffect(()=>(C.itemMap.set(S,{ref:S,...g}),()=>void C.itemMap.delete(S))),a.jsx(m,{[h]:"",ref:T,children:f})});w.displayName=d;function v(x){const N=i(e+"CollectionConsumer",x);return Nt.useCallback(()=>{const f=N.collectionRef.current;if(!f)return[];const g=Array.from(f.querySelectorAll(`[${h}]`));return Array.from(N.itemMap.values()).sort((C,j)=>g.indexOf(C.ref.current)-g.indexOf(j.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:u,ItemSlot:w},v,r]}var Xv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=Xv.reduce((e,t)=>{const n=mi(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:l,...o}=s,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Jh(e,t){e&&zi.flushSync(()=>e.dispatchEvent(t))}function wn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Vv(e,t=globalThis==null?void 0:globalThis.document){const n=wn(e);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Gv="DismissableLayer",xo="dismissableLayer.update",Qv="dismissableLayer.pointerDownOutside",Kv="dismissableLayer.focusOutside",Cu,ef=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tf=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=e,u=y.useContext(ef),[d,h]=y.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=y.useState({}),v=xn(t,j=>h(j)),x=Array.from(u.layers),[N]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(N),f=d?x.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,S=f>=p,T=qv(j=>{const M=j.target,F=[...u.branches].some(P=>P.contains(M));!S||F||(s==null||s(j),l==null||l(j),j.defaultPrevented||o==null||o())},m),C=Jv(j=>{const M=j.target;[...u.branches].some(P=>P.contains(M))||(i==null||i(j),l==null||l(j),j.defaultPrevented||o==null||o())},m);return Vv(j=>{f===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},m),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Cu=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ju(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Cu)}},[d,m,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ju())},[d,u]),y.useEffect(()=>{const j=()=>w({});return document.addEventListener(xo,j),()=>document.removeEventListener(xo,j)},[]),a.jsx(mt.div,{...c,ref:v,style:{pointerEvents:g?S?"auto":"none":void 0,...e.style},onFocusCapture:Oe(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Oe(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Oe(e.onPointerDownCapture,T.onPointerDownCapture)})});tf.displayName=Gv;var Zv="DismissableLayerBranch",nf=y.forwardRef((e,t)=>{const n=y.useContext(ef),r=y.useRef(null),s=xn(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(mt.div,{...e,ref:s})});nf.displayName=Zv;function qv(e,t=globalThis==null?void 0:globalThis.document){const n=wn(e),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let c=function(){rf(Qv,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Jv(e,t=globalThis==null?void 0:globalThis.document){const n=wn(e),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&rf(Kv,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ju(){const e=new CustomEvent(xo);document.dispatchEvent(e)}function rf(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Jh(s,i):s.dispatchEvent(i)}var e0=tf,t0=nf,Jr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},n0="Portal",sf=y.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[s,i]=y.useState(!1);Jr(()=>i(!0),[]);const l=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?Xg.createPortal(a.jsx(mt.div,{...r,ref:t}),l):null});sf.displayName=n0;function r0(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var lf=e=>{const{present:t,children:n}=e,r=s0(t),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=xn(r.ref,i0(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};lf.displayName="Presence";function s0(e){const[t,n]=y.useState(),r=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),l=e?"mounted":"unmounted",[o,c]=r0(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=bs(r.current);i.current=o==="mounted"?u:"none"},[o]),Jr(()=>{const u=r.current,d=s.current;if(d!==e){const m=i.current,w=bs(u);e?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=w=>{const x=bs(r.current).includes(CSS.escape(w.animationName));if(w.target===t&&x&&(c("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},m=w=>{w.target===t&&(i.current=bs(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function bs(e){return(e==null?void 0:e.animationName)||"none"}function i0(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var l0=Ap[" useInsertionEffect ".trim().toString()]||Jr;function o0({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,l]=a0({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=y.useCallback(d=>{var h;if(o){const m=c0(d)?d(e):d;m!==e&&((h=l.current)==null||h.call(l,m))}else i(d)},[o,e,i,l]);return[c,u]}function a0({defaultProp:e,onChange:t}){const[n,r]=y.useState(e),s=y.useRef(n),i=y.useRef(t);return l0(()=>{i.current=t},[t]),y.useEffect(()=>{var l;s.current!==n&&((l=i.current)==null||l.call(i,n),s.current=n)},[n,s]),[n,r,i]}function c0(e){return typeof e=="function"}var u0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),d0="VisuallyHidden",va=y.forwardRef((e,t)=>a.jsx(mt.span,{...e,ref:t,style:{...u0,...e.style}}));va.displayName=d0;var xa="ToastProvider",[wa,h0,f0]=Yv("Toast"),[of,O0]=qh("Toast",[f0]),[p0,Ii]=of(xa),af=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=e,[o,c]=y.useState(null),[u,d]=y.useState(0),h=y.useRef(!1),m=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xa}\`. Expected non-empty \`string\`.`),a.jsx(wa.Provider,{scope:t,children:a.jsx(p0,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:y.useCallback(()=>d(w=>w+1),[]),onToastRemove:y.useCallback(()=>d(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:l})})};af.displayName=xa;var cf="ToastViewport",m0=["F8"],wo="toast.viewportPause",So="toast.viewportResume",uf=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=m0,label:s="Notifications ({hotkey})",...i}=e,l=Ii(cf,n),o=h0(n),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),m=xn(t,h,l.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=l.toastCount>0;y.useEffect(()=>{const N=p=>{var g;r.length!==0&&r.every(S=>p[S]||p.code===S)&&((g=h.current)==null||g.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),y.useEffect(()=>{const N=c.current,p=h.current;if(v&&N&&p){const f=()=>{if(!l.isClosePausedRef.current){const C=new CustomEvent(wo);p.dispatchEvent(C),l.isClosePausedRef.current=!0}},g=()=>{if(l.isClosePausedRef.current){const C=new CustomEvent(So);p.dispatchEvent(C),l.isClosePausedRef.current=!1}},S=C=>{!N.contains(C.relatedTarget)&&g()},T=()=>{N.contains(document.activeElement)||g()};return N.addEventListener("focusin",f),N.addEventListener("focusout",S),N.addEventListener("pointermove",f),N.addEventListener("pointerleave",T),window.addEventListener("blur",f),window.addEventListener("focus",g),()=>{N.removeEventListener("focusin",f),N.removeEventListener("focusout",S),N.removeEventListener("pointermove",f),N.removeEventListener("pointerleave",T),window.removeEventListener("blur",f),window.removeEventListener("focus",g)}}},[v,l.isClosePausedRef]);const x=y.useCallback(({tabbingDirection:N})=>{const f=o().map(g=>{const S=g.ref.current,T=[S,...M0(S)];return N==="forwards"?T:T.reverse()});return(N==="forwards"?f.reverse():f).flat()},[o]);return y.useEffect(()=>{const N=h.current;if(N){const p=f=>{var T,C,j;const g=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!g){const M=document.activeElement,F=f.shiftKey;if(f.target===N&&F){(T=u.current)==null||T.focus();return}const W=x({tabbingDirection:F?"backwards":"forwards"}),ue=W.findIndex(O=>O===M);Sl(W.slice(ue+1))?f.preventDefault():F?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return N.addEventListener("keydown",p),()=>N.removeEventListener("keydown",p)}},[o,x]),a.jsxs(t0,{ref:c,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(ko,{ref:u,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"forwards"});Sl(N)}}),a.jsx(wa.Slot,{scope:n,children:a.jsx(mt.ol,{tabIndex:-1,...i,ref:m})}),v&&a.jsx(ko,{ref:d,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"backwards"});Sl(N)}})]})});uf.displayName=cf;var df="ToastFocusProxy",ko=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Ii(df,n);return a.jsx(va,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{var u;const o=l.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&r()}})});ko.displayName=df;var is="Toast",g0="toast.swipeStart",y0="toast.swipeMove",v0="toast.swipeCancel",x0="toast.swipeEnd",hf=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...l}=e,[o,c]=o0({prop:r,defaultProp:s??!0,onChange:i,caller:is});return a.jsx(lf,{present:n||o,children:a.jsx(k0,{open:o,...l,ref:t,onClose:()=>c(!1),onPause:wn(e.onPause),onResume:wn(e.onResume),onSwipeStart:Oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});hf.displayName=is;var[w0,S0]=of(is,{onClose(){}}),k0=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:w,...v}=e,x=Ii(is,n),[N,p]=y.useState(null),f=xn(t,O=>p(O)),g=y.useRef(null),S=y.useRef(null),T=s||x.duration,C=y.useRef(0),j=y.useRef(T),M=y.useRef(0),{onToastAdd:F,onToastRemove:P}=x,G=wn(()=>{var oe;(N==null?void 0:N.contains(document.activeElement))&&((oe=x.viewport)==null||oe.focus()),l()}),W=y.useCallback(O=>{!O||O===1/0||(window.clearTimeout(M.current),C.current=new Date().getTime(),M.current=window.setTimeout(G,O))},[G]);y.useEffect(()=>{const O=x.viewport;if(O){const oe=()=>{W(j.current),u==null||u()},he=()=>{const ye=new Date().getTime()-C.current;j.current=j.current-ye,window.clearTimeout(M.current),c==null||c()};return O.addEventListener(wo,he),O.addEventListener(So,oe),()=>{O.removeEventListener(wo,he),O.removeEventListener(So,oe)}}},[x.viewport,T,c,u,W]),y.useEffect(()=>{i&&!x.isClosePausedRef.current&&W(T)},[i,T,x.isClosePausedRef,W]),y.useEffect(()=>(F(),()=>P()),[F,P]);const ue=y.useMemo(()=>N?xf(N):null,[N]);return x.viewport?a.jsxs(a.Fragment,{children:[ue&&a.jsx(N0,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:ue}),a.jsx(w0,{scope:n,onClose:G,children:zi.createPortal(a.jsx(wa.ItemSlot,{scope:n,children:a.jsx(e0,{asChild:!0,onEscapeKeyDown:Oe(o,()=>{x.isFocusedToastEscapeKeyDownRef.current||G(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(mt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Oe(e.onKeyDown,O=>{O.key==="Escape"&&(o==null||o(O.nativeEvent),O.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:Oe(e.onPointerDown,O=>{O.button===0&&(g.current={x:O.clientX,y:O.clientY})}),onPointerMove:Oe(e.onPointerMove,O=>{if(!g.current)return;const oe=O.clientX-g.current.x,he=O.clientY-g.current.y,ye=!!S.current,b=["left","right"].includes(x.swipeDirection),A=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,D=b?A(0,oe):0,Y=b?0:A(0,he),X=O.pointerType==="touch"?10:2,q={x:D,y:Y},Q={originalEvent:O,delta:q};ye?(S.current=q,Ps(y0,h,Q,{discrete:!1})):Eu(q,x.swipeDirection,X)?(S.current=q,Ps(g0,d,Q,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(oe)>X||Math.abs(he)>X)&&(g.current=null)}),onPointerUp:Oe(e.onPointerUp,O=>{const oe=S.current,he=O.target;if(he.hasPointerCapture(O.pointerId)&&he.releasePointerCapture(O.pointerId),S.current=null,g.current=null,oe){const ye=O.currentTarget,b={originalEvent:O,delta:oe};Eu(oe,x.swipeDirection,x.swipeThreshold)?Ps(x0,w,b,{discrete:!0}):Ps(v0,m,b,{discrete:!0}),ye.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),N0=e=>{const{__scopeToast:t,children:n,...r}=e,s=Ii(is,t),[i,l]=y.useState(!1),[o,c]=y.useState(!1);return j0(()=>l(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:a.jsx(sf,{asChild:!0,children:a.jsx(va,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},T0="ToastTitle",ff=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(mt.div,{...r,ref:t})});ff.displayName=T0;var C0="ToastDescription",pf=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(mt.div,{...r,ref:t})});pf.displayName=C0;var mf="ToastAction",gf=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(vf,{altText:n,asChild:!0,children:a.jsx(Sa,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mf}\`. Expected non-empty \`string\`.`),null)});gf.displayName=mf;var yf="ToastClose",Sa=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=S0(yf,n);return a.jsx(vf,{asChild:!0,children:a.jsx(mt.button,{type:"button",...r,ref:t,onClick:Oe(e.onClick,s.onClose)})})});Sa.displayName=yf;var vf=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function xf(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),E0(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...xf(r))}}),t}function Ps(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Jh(s,i):s.dispatchEvent(i)}var Eu=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function j0(e=()=>{}){const t=wn(e);Jr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function E0(e){return e.nodeType===e.ELEMENT_NODE}function M0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sl(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var b0=af,wf=uf,Sf=hf,kf=ff,Nf=pf,Tf=gf,Cf=Sa;const P0=b0,jf=y.forwardRef(({className:e,...t},n)=>a.jsx(wf,{ref:n,className:nn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));jf.displayName=wf.displayName;const L0=Bh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ef=y.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(Sf,{ref:r,className:nn(L0({variant:t}),e),...n}));Ef.displayName=Sf.displayName;const z0=y.forwardRef(({className:e,...t},n)=>a.jsx(Tf,{ref:n,className:nn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));z0.displayName=Tf.displayName;const Mf=y.forwardRef(({className:e,...t},n)=>a.jsx(Cf,{ref:n,className:nn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(be,{className:"h-4 w-4"})}));Mf.displayName=Cf.displayName;const bf=y.forwardRef(({className:e,...t},n)=>a.jsx(kf,{ref:n,className:nn("text-sm font-semibold",e),...t}));bf.displayName=kf.displayName;const Pf=y.forwardRef(({className:e,...t},n)=>a.jsx(Nf,{ref:n,className:nn("text-sm opacity-90",e),...t}));Pf.displayName=Nf.displayName;function I0(){const{toasts:e}=Zh();return a.jsxs(P0,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(Ef,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(bf,{children:n}),r&&a.jsx(Pf,{children:r})]}),s,a.jsx(Mf,{})]},t)}),a.jsx(jf,{})]})}var _0={};const A0=({onCreateNewMap:e,onOpenMap:t,isDarkMode:n})=>{const[r,s]=y.useState(!1),[i,l]=y.useState([]),[o,c]=y.useState({name:"New Map",width:20,height:15,tileSize:64,location:""});y.useEffect(()=>{const p=localStorage.getItem("recentMaps");p&&l(JSON.parse(p))},[]);const u=p=>{localStorage.setItem("recentMaps",JSON.stringify(p)),l(p)},d=async()=>{var p;try{if((p=window.electronAPI)!=null&&p.selectDirectory){const f=await window.electronAPI.selectDirectory();f&&c({...o,location:f})}else if("showDirectoryPicker"in window){const f=await window.showDirectoryPicker();c({...o,location:f.name})}else{const f="C:\\Users\\"+(navigator.userAgent.includes("Windows")&&_0.USERNAME||"User")+"\\Documents\\TileMaps";c({...o,location:f})}}catch(f){console.error("Error selecting directory:",f)}},h=async()=>{var p;if(!o.location){alert("Please select a location for your map project");return}try{const f=`${o.location}\\${o.name}`;if((p=window.electronAPI)!=null&&p.createMapProject){if(await window.electronAPI.createMapProject(o)){const T=[{id:Date.now().toString(),name:o.name,lastModified:"Just now",path:f},...i.slice(0,9)];u(T),e(o,f)}}else console.log("Creating map project:",o),e(o)}catch(f){console.error("Error creating map project:",f),alert("Error creating map project. Please try again.")}},m=p=>{t(p.path)},w=async()=>{var p;try{if((p=window.electronAPI)!=null&&p.selectDirectory){const f=await window.electronAPI.selectDirectory();f&&t(f)}else alert("Open Map Project functionality requires the desktop app")}catch(f){console.error("Error opening map project:",f)}},v=()=>{var p;(p=window.electronAPI)!=null&&p.minimize?window.electronAPI.minimize():console.log("Minimize clicked - Electron API not available")},x=()=>{var p;(p=window.electronAPI)!=null&&p.maximize?window.electronAPI.maximize():console.log("Maximize clicked - Electron API not available")},N=()=>{var p;(p=window.electronAPI)!=null&&p.close?window.electronAPI.close():console.log("Close clicked - Electron API not available")};return r?a.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-neutral-900 dark:to-neutral-800 flex flex-col ${n?"dark":""}`,children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-neutral-900 text-orange-600 dark:text-orange-400 flex justify-between items-center px-4 py-1 select-none drag-region border-b border-gray-200 dark:border-neutral-700",children:[a.jsx("div",{className:"text-sm font-medium",children:"Tile Map Editor"}),a.jsxs("div",{className:"flex no-drag",children:[a.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",title:"Minimize",children:a.jsx(vo,{className:"w-4 h-4"})}),a.jsx("button",{onClick:x,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",title:"Maximize",children:a.jsx(on,{className:"w-4 h-4"})}),a.jsx("button",{onClick:N,className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",title:"Close",children:a.jsx(be,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-lg shadow-xl p-8 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex items-center justify-center",children:a.jsx("img",{src:"/flare-logo.png",alt:"Flare Logo",className:"w-40 h-40 object-contain"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create a New Flare Project"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Configure your new project"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Name"}),a.jsx(Ut,{value:o.name,onChange:p=>c({...o,name:p.target.value}),placeholder:"Enter map name"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Width (tiles)"}),a.jsx(Ut,{type:"number",value:o.width,onChange:p=>c({...o,width:parseInt(p.target.value)||20}),min:"5",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (tiles)"}),a.jsx(Ut,{type:"number",value:o.height,onChange:p=>c({...o,height:parseInt(p.target.value)||15}),min:"5",max:"100"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Location"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ut,{value:o.location,onChange:p=>c({...o,location:p.target.value}),placeholder:"Select folder for your project",readOnly:!0}),a.jsx(_,{type:"button",variant:"outline",onClick:d,children:a.jsx(Qy,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(_,{variant:"outline",onClick:()=>s(!1),className:"flex-1",children:"Back"}),a.jsx(_,{onClick:h,className:"flex-1",children:"Create Map"})]})]})})]}):a.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-neutral-900 dark:to-neutral-800 flex flex-col ${n?"dark":""}`,children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-neutral-900 text-orange-600 dark:text-orange-400 flex justify-between items-center px-4 py-1 select-none drag-region border-b border-gray-200 dark:border-neutral-700",children:[a.jsx("div",{className:"text-sm font-medium",children:"Flarism"})," ",a.jsxs("div",{className:"flex no-drag",children:[a.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",title:"Minimize",children:a.jsx(vo,{className:"w-4 h-4"})}),a.jsx("button",{onClick:x,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",title:"Maximize",children:a.jsx(on,{className:"w-4 h-4"})}),a.jsx("button",{onClick:N,className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 hover:bg-gray-200 dark:hover:bg-neutral-700 px-3 py-1 text-sm rounded transition-colors",title:"Close",children:a.jsx(be,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex flex-1 min-h-0",children:[a.jsxs("div",{className:"w-80 bg-white dark:bg-neutral-900 border-r border-slate-200 dark:border-neutral-700 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Projects"}),a.jsx("div",{className:"space-y-2",children:i.map(p=>a.jsx("div",{className:"p-3 rounded-lg border border-slate-200 dark:border-neutral-700 hover:bg-slate-50 dark:hover:bg-neutral-800 cursor-pointer transition-colors",onClick:()=>m(p),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded flex items-center justify-center",children:a.jsx(fu,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:p.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.lastModified})]})]})},p.id))})]}),i.length===0&&a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[a.jsx(fu,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),a.jsx("p",{children:"No recent project"}),a.jsx("p",{className:"text-sm",children:"Create your first projet to get started"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-50 h-20",children:a.jsx("img",{src:"/flare-logo.png",alt:"Flare Logo",className:"w-100 h-100 object-contain"})}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Modern & Simple GUI for Flare"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(_,{onClick:()=>s(!0),className:"w-full h-12 text-lg",size:"lg",children:[a.jsx(pv,{className:"w-5 h-5 mr-2"}),"Create New Projet"]}),a.jsxs(_,{variant:"outline",onClick:w,className:"w-full h-12 text-lg",size:"lg",children:[a.jsx(Vy,{className:"w-5 h-5 mr-2"}),"Open Existing Project"]})]})]})})]})]})};function D0(){var Ua;const[e,t]=y.useState(!0),[n,r]=y.useState(null),s=y.useRef(null),[i,l]=y.useState(20),[o,c]=y.useState(15),[u]=y.useState("(none)"),[d,h]=y.useState(!0),[m,w]=y.useState([]),[v,x]=y.useState(null),[N,p]=y.useState(!1),[f,g]=y.useState(!1),[S,T]=y.useState(!1),[C,j]=y.useState(!0),[M,F]=y.useState(null),[P,G]=y.useState("brush"),[W,ue]=y.useState(!1),[O,oe]=y.useState(!1),[he,ye]=y.useState(!1),[b,A]=y.useState("brush"),[D,Y]=y.useState("rectangular"),[X,q]=y.useState("rectangle"),[Q,ot]=y.useState("none"),[Ae,gt]=y.useState([]),[ka,Lf]=y.useState([]),[sr,Na]=y.useState(null),[Tn,ir]=y.useState("select"),[R0,_i]=y.useState(!1),[lr,Ta]=y.useState(""),[zf,ls]=y.useState(!1),[Cn,or]=y.useState(null),[If,Ca]=y.useState("Untitled Map"),[De,_f]=y.useState(()=>{const k=localStorage.getItem("isDarkMode");return k?JSON.parse(k):!1}),[os,Af]=y.useState("saved"),[ar,Df]=y.useState(!0),[Rf,ja]=y.useState(0),[Ai,Ea]=y.useState(!1),[Ma,Of]=y.useState(!1),[at,ba]=y.useState(null),[Pa,La]=y.useState(!1),[jn,as]=y.useState(null),rn=y.useRef(null),yt=y.useRef(null),vt=y.useRef(null),xt=y.useRef(null),[Di,Ff]=y.useState(null),[$f,Wf]=y.useState(0),[Uf,Hf]=y.useState(!1),{toast:Be}=Zh();y.useEffect(()=>{De?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),n&&n.setDarkMode(De),localStorage.setItem("isDarkMode",JSON.stringify(De))},[De,n]);const En=y.useCallback(k=>{k.setAutoSaveCallback(async()=>{try{window.electronAPI&&at&&await k.saveProjectData(at)}catch(L){console.warn("Auto-save to disk failed:",L)}ja(Date.now())}),k.setSaveStatusCallback(L=>{Af(L),Of(L==="unsaved"||L==="error")}),k.setAutoSaveEnabled(ar),k.setEyedropperCallback(()=>{G("brush"),A("brush")}),k.setStampCallback(L=>{Lf(L)})},[ar,at]);y.useEffect(()=>{if(s.current&&!e&&!n&&!Pa){const k=new vl(s.current);k.setDarkMode(De),En(k),r(k)}},[e,n,En,Pa,De]),y.useEffect(()=>{if(!n)return;const k=()=>{const R=n.getHoverCoordinates();Ff(R)};let L;const z=()=>{k(),L=requestAnimationFrame(z)};return z(),()=>{L&&cancelAnimationFrame(L)}},[n]),y.useEffect(()=>{if(n&&P==="brush"){const L={brush:"brush",bucket:"bucket",eraser:"eraser"}[b]||"brush";n.setCurrentTool(L)}else if(n&&P==="selection"){const L={rectangular:"rectangular","magic-wand":"magic-wand","same-tile":"same-tile",circular:"circular"}[D]||"rectangular";n.setCurrentSelectionTool(L)}else if(n&&P==="shape"){const L={rectangle:"rectangle",circle:"circle",line:"line"}[X]||"rectangle";n.setCurrentShapeTool(L)}else n&&P==="eyedropper"?n.setEyedropperTool():n&&P==="stamp"&&n.setStampTool()},[n,P,b,D,X]),y.useEffect(()=>{!n||P!=="stamp"||n.setCurrentStampMode(Tn)},[n,P,Tn]),y.useEffect(()=>{!n||P!=="stamp"||n.setActiveStamp(sr)},[n,P,sr]),y.useEffect(()=>{if(!n)return;const L=setInterval(()=>{const z=n.getSelection(),R=n.hasActiveSelection();Wf(z.length),Hf(R)},100);return()=>clearInterval(L)},[n]);const wt=y.useCallback(()=>{if(n){const k=n.getLayers();w([...k]);const L=n.getActiveLayerId();x(L)}},[n]);y.useEffect(()=>{n&&wt()},[n,wt]),y.useEffect(()=>{const k=L=>{N&&p(!1)};return N&&document.addEventListener("click",k),()=>{document.removeEventListener("click",k)}},[N]);const Ye=y.useCallback((k,L)=>{const z=L.getBoundingClientRect(),R=z.left+z.width/2,U=z.top-10;as({content:k,x:R,y:U,visible:!0,fadeOut:!1}),rn.current&&clearTimeout(rn.current),rn.current=setTimeout(()=>{as(K=>K?{...K,fadeOut:!0}:null),setTimeout(()=>{as(null)},300)},1e3)},[]),qe=y.useCallback(()=>{rn.current&&clearTimeout(rn.current),as(null)},[]);y.useEffect(()=>()=>{rn.current&&clearTimeout(rn.current),yt.current&&clearTimeout(yt.current),vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current)},[]);const za=y.useCallback(()=>{yt.current&&clearTimeout(yt.current),vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current),oe(!1),ye(!1),_i(!1),ue(!0)},[]),Ia=y.useCallback(()=>{yt.current=setTimeout(()=>{ue(!1)},1e3)},[]),_a=y.useCallback(()=>{yt.current&&clearTimeout(yt.current),vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current),ue(!1),ye(!1),_i(!1),oe(!0)},[]),Aa=y.useCallback(()=>{vt.current=setTimeout(()=>{oe(!1)},1e3)},[]),Da=y.useCallback(()=>{yt.current&&clearTimeout(yt.current),vt.current&&clearTimeout(vt.current),xt.current&&clearTimeout(xt.current),ue(!1),oe(!1),ye(!0)},[]),Ra=y.useCallback(()=>{xt.current=setTimeout(()=>{ye(!1)},1e3)},[]),Oa=y.useCallback(()=>{if(!n||!lr.trim())return;n.createStampFromSelection(lr.trim())&&(Ta(""),_i(!1),ir("select"))},[n,lr]),Bf=y.useCallback(k=>{Na(k),ir("place")},[]),Yf=y.useCallback(k=>{n&&(n.deleteStamp(k),sr===k&&(Na(null),ir("select")))},[n,sr]),Xf=()=>{switch(b){case"bucket":return a.jsx(ml,{className:"w-4 h-4"});case"eraser":return a.jsx(fl,{className:"w-4 h-4"});default:return a.jsx(Ms,{className:"w-4 h-4"})}},Vf=()=>{switch(D){case"magic-wand":return a.jsx(yl,{className:"w-4 h-4"});case"same-tile":return a.jsx(Sr,{className:"w-4 h-4"});case"circular":return a.jsx(wr,{className:"w-4 h-4"});default:return a.jsx(ov,{className:"w-4 h-4"})}},Gf=()=>{switch(X){case"circle":return a.jsx(wr,{className:"w-4 h-4"});case"line":return a.jsx(yu,{className:"w-4 h-4"});default:return a.jsx(Nv,{className:"w-4 h-4"})}},Qf=y.useCallback(()=>{if(!(!n||Ae.length<2))try{n.mergeBrushes(Ae),gt([]),ot("none")}catch(k){console.error("Failed to merge brushes:",k)}},[n,Ae]),Kf=y.useCallback(()=>{gt([]),ot("none")},[]),Fa=y.useCallback(k=>{if(n)try{n.separateBrush(k)}catch(L){console.error("Failed to separate brush:",L)}},[n]),$a=y.useCallback(k=>{n&&(console.log(`handleRemoveBrush called with brushId: ${k}`),or({type:"removeBrush",payload:k}))},[n]),Wa=y.useCallback((k,L)=>{if(n)try{const z=n.getDetectedTileInfo(),R=z.findIndex(K=>K.gid===k),U=z.findIndex(K=>K.gid===L);R!==-1&&U!==-1&&(n.reorderBrush(R,U),console.log(`Reordered brush ${k} to position of ${L}`))}catch(z){console.error("Failed to reorder brush:",z)}},[n]);y.useEffect(()=>{console.log(`Brush tool changed to: ${Q}`);const k=document.querySelector("[data-brush-tool]");if(k)k.setAttribute("data-brush-tool",Q),console.log(`Updated existing data-brush-tool attribute to: ${Q}`);else{const L=document.createElement("div");L.setAttribute("data-brush-tool",Q),L.style.display="none",document.body.appendChild(L),console.log(`Created new data-brush-tool element with value: ${Q}`)}},[Q]),y.useEffect(()=>{const k=L=>{const{action:z,tileIndex:R}=L.detail;switch(z){case"select":gt(U=>[...U,R]);break;case"deselect":gt(U=>U.filter(K=>K!==R));break;case"separate":Fa(R);break;case"remove":$a(R);break;case"drop":L.detail.from&&L.detail.to&&Wa(L.detail.from,L.detail.to);break}};return document.addEventListener("brushAction",k),()=>{document.removeEventListener("brushAction",k)}},[Fa,$a,Wa]);const Zf=y.useCallback(async(k,L)=>{try{console.log("=== LOAD PROJECT DATA DEBUG ==="),console.log("Map config received:",{name:L.name,tilesets:L.tilesets?L.tilesets.length:0,tilesetImages:L.tilesetImages?Object.keys(L.tilesetImages).length:0,layers:L.layers?L.layers.length:0}),console.log("Map config full structure:",L),console.log("Creating layers from config...");const z=L.layers||[];console.log("Layers from config:",z);for(const R of z)if(console.log("Processing layer:",R),k.addLayer(R.name,R.type)){console.log(`Created layer: ${R.type} - ${R.name}`);const K=k.getLayers().find(ct=>ct.type===R.type);K&&R.data&&Array.isArray(R.data)&&(console.log(`Setting data for layer ${K.id} with ${R.data.length} tiles`),K.data=R.data)}else console.log(`Failed to create layer: ${R.type} - ${R.name}`);return console.log("=== CALLING EDITOR loadProjectData ==="),k.loadProjectData(L),console.log("Project data loading completed"),!0}catch(z){return console.error("Error loading project data:",z),!1}},[]);y.useEffect(()=>{M&&s.current&&!e&&(console.log("Canvas available and map config pending, creating editor..."),(async()=>{var L;try{console.log("Creating new editor with pending config...");const z=new vl(s.current);console.log("Clearing local storage backup..."),z.clearLocalStorageBackup(),console.log("Setting map size..."),z.setMapSize(M.width,M.height),console.log("Loading project data...");const R=await Zf(z,M);if(console.log("Project data loading result:",R),console.log("=== EDITOR STATE AFTER loadProjectData ==="),console.log("Tile count after loadProjectData:",z.getTileCount()),console.log("Active layer after loadProjectData:",z.getActiveLayerId()),console.log("Layers after loadProjectData:",z.getLayers().map(U=>({id:U.id,name:U.name,type:U.type}))),(L=window.electronAPI)!=null&&L.discoverTilesetImages&&at){console.log("Calling discoverTilesetImages for path:",at);const U=await window.electronAPI.discoverTilesetImages(at),K=(U==null?void 0:U.tilesetImages)||{},ct=Object.keys(K),Fi=M,Ha=Fi.tilesets&&Array.isArray(Fi.tilesets)&&Fi.tilesets.some(Mn=>Mn.layerType);if(console.log("Has per-layer tilesets in project:",Ha),console.log("Available discovered images:",ct),!Ha&&ct.length>0){console.log("No per-layer tilesets found, using fallback assignment");const Mn=St=>(St||"").toLowerCase().replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]+/g," ").trim(),Ba=z.getActiveLayerId(),yp=z.getLayers();let Ya=!1;for(const St of yp){const Xa=[Mn(St.type),Mn(St.name)];let kt=null;for(const cr of ct){const $i=Mn(cr);if(Xa.includes($i)){kt=cr;break}}if(!kt){const cr=ct.find($i=>{const vp=Mn($i);return Xa.some(Va=>Va&&vp.includes(Va))});cr&&(kt=cr)}!kt&&ct.length===1&&(kt=ct[0]),kt?(console.log(`Assigning tileset '${kt}' to layer ${St.id} (${St.type})`),z.setActiveLayer(St.id),await z.loadTilesetFromDataURL(K[kt],kt),Ya=!0):console.log(`No matching tileset found for layer ${St.id} (${St.type})`)}Ba!==null&&z.setActiveLayer(Ba),Ya&&z.forceSave()}else console.log("Per-layer tilesets already loaded, skipping fallback assignment")}console.log("Setting up autosave and updating UI..."),z.setDarkMode(De),En(z),r(z),setTimeout(()=>{wt();const U=z.getActiveLayerId(),K=z.getLayers().find(ct=>ct.id===U);console.log("Final UI update - checking active layer:",U,K==null?void 0:K.type),z.redraw()},150),F(null),Be({title:"Project loaded",description:"The map has been loaded successfully."})}catch(z){console.error("Failed to create editor with pending config:",z),Be({title:"Error",description:"Failed to load the project.",variant:"destructive"}),F(null)}})())},[M,e,at,En,wt,Be]);const qf=(k,L)=>{var R;const z=(R=k.target.files)==null?void 0:R[0];z&&(n!=null&&n.handleFileUpload)&&n.handleFileUpload(z,L)},Jf=k=>{n&&(n.setActiveLayer(k),x(k))},ep=k=>{if(n){n.toggleLayerVisibility(k);const L=n.getLayers();w([...L])}},tp=(k,L)=>{if(n){const z=m.find(R=>R.id===k);if(z){const R=z.transparency||0,U=Math.max(0,Math.min(1,R+L));n.setLayerTransparency(k,U),wt()}}},np=()=>{n!=null&&n.resizeMap&&n.resizeMap(i,o)},rp=()=>{n!=null&&n.zoomIn&&n.zoomIn()},sp=()=>{n!=null&&n.zoomOut&&n.zoomOut()},ip=()=>{n!=null&&n.resetZoom&&n.resetZoom()},lp=()=>{n!=null&&n.undo&&(n.undo(),wt())},op=()=>{n!=null&&n.redo&&(n.redo(),wt())},ap=()=>{n!=null&&n.exportFlareMap&&n.exportFlareMap()},Ri=y.useCallback(async()=>{if(n){Ea(!0);try{if(window.electronAPI&&at){const k=await n.saveProjectData(at);await new Promise(L=>setTimeout(L,300)),k?(ja(Date.now()),Be({title:"Saved",description:"Project saved to disk, including tileset.",variant:"default"})):Be({title:"Save Error",description:"Failed to save the project to disk.",variant:"destructive"})}else n.forceSave(),await new Promise(k=>setTimeout(k,500)),Be({title:"Saved (Local Backup)",description:"Saved to local backup. Open a project folder to save to disk.",variant:"default"})}catch(k){console.error("Save error:",k),Be({title:"Save Error",description:"Failed to save your map. Please try again.",variant:"destructive"})}finally{Ea(!1)}}},[n,at,Be]),cp=()=>{n!=null&&n.toggleMinimap&&n.toggleMinimap(),h(!d)},up=(k,L)=>{if(localStorage.removeItem("tilemap_autosave_backup"),ba(L??null),l(k.width),c(k.height),Ca(k.name),t(!1),n&&r(null),s.current){const z=new vl(s.current);z.resetForNewProject(),z.setMapSize(k.width,k.height),z.setDarkMode(De),En(z),r(z),wt()}},Oi=y.useCallback(async k=>{var L;console.log("=== HANDLE OPEN MAP CALLED ===",k),console.log("Project path details:",{path:k,timestamp:new Date().toISOString()});try{if(La(!0),ba(k),(L=window.electronAPI)!=null&&L.openMapProject){console.log("Calling electronAPI.openMapProject...");const z=await window.electronAPI.openMapProject(k);if(console.log("=== RAW MAP CONFIG RECEIVED ==="),console.log("Full mapConfig object:",JSON.stringify(z,null,2)),z){console.log("=== MAP CONFIG ANALYSIS ==="),console.log("Map dimensions:",{width:z.width,height:z.height}),console.log("Map name:",z.name);const R=z;console.log("Tilesets count:",R.tilesets?R.tilesets.length:0),console.log("Tileset images count:",R.tilesetImages?Object.keys(R.tilesetImages).length:0),console.log("Layers count:",R.layers?R.layers.length:0),R.tilesets&&(console.log("=== TILESETS DETAILS ==="),R.tilesets.forEach((U,K)=>{console.log(`Tileset ${K}:`,{fileName:U.fileName,tileWidth:U.tileWidth,tileHeight:U.tileHeight,spacing:U.spacing,margin:U.margin,tileCount:U.tileCount})})),R.layers&&(console.log("=== LAYERS DETAILS ==="),R.layers.forEach((U,K)=>{console.log(`Layer ${K}:`,{id:U.id,name:U.name,type:U.type,visible:U.visible,opacity:U.opacity,dataLength:U.data?U.data.length:0})})),R.tilesetImages&&(console.log("=== TILESET IMAGES DETAILS ==="),Object.entries(R.tilesetImages).forEach(([U,K])=>{console.log(`Image ${U}:`,{dataType:typeof K,dataLength:K?K.length:0,isDataURL:typeof K=="string"&&K.startsWith("data:")})})),console.log("Setting map dimensions and clearing editor..."),l(z.width),c(z.height),t(!1),console.log("Clearing existing editor..."),n?(console.log("Found existing editor, clearing it"),r(null)):console.log("No existing editor to clear"),console.log("Storing map config for deferred editor creation"),F(z),Be({title:"Map Loaded",description:`Successfully loaded ${z.name}`,variant:"default"})}}else console.log("Opening map project:",k),Be({title:"Feature Unavailable",description:"Map loading requires the desktop app.",variant:"default"})}catch(z){console.error("Error opening map project:",z),Be({title:"Error",description:"Failed to open map project. Please try again.",variant:"destructive"})}finally{La(!1)}},[n,En,Be,wt]);y.useEffect(()=>{window.electronAPI&&(window.electronAPI.onMenuSaveMap(async()=>{await Ri()}),window.electronAPI.onMenuOpenMap(async()=>{const k=await window.electronAPI.selectDirectory();k&&await Oi(k)}),window.electronAPI.onMenuNewMap(()=>{t(!0)}))},[Ri,Oi]);const dp=()=>{var k;(k=window.electronAPI)!=null&&k.minimize?window.electronAPI.minimize():console.log("Minimize clicked - Electron API not available")},hp=()=>{var k;(k=window.electronAPI)!=null&&k.maximize?window.electronAPI.maximize():console.log("Maximize clicked - Electron API not available")},fp=()=>{var k;(k=window.electronAPI)!=null&&k.close?window.electronAPI.close():console.log("Close clicked - Electron API not available")},pp=()=>{n&&n.fillSelection()},mp=()=>{n&&n.clearSelection()},gp=()=>{n&&n.deleteSelection()};return a.jsx(a.Fragment,{children:e?a.jsx(A0,{onCreateNewMap:up,onOpenMap:Oi,isDarkMode:De}):a.jsxs("div",{className:"h-screen bg-background text-foreground flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-100 dark:bg-neutral-900 text-orange-600 dark:text-orange-400 flex justify-between items-center px-4 py-1 select-none drag-region border-b border-gray-200 dark:border-neutral-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-sm font-medium",children:"Flare Map Editor"}),a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[os==="saving"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-orange-600",children:"Saving..."})]}),os==="saved"&&Rf>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-green-600",children:"Saved"})]}),os==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{className:"text-red-600",children:"Save Error"})]}),os==="unsaved"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-yellow-600",children:"Unsaved"})]})]})]}),a.jsxs("div",{className:"flex no-drag",children:[a.jsx("button",{onClick:dp,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded transition-colors",title:"Minimize",children:a.jsx(vo,{className:"w-4 h-4"})}),a.jsx("button",{onClick:hp,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded transition-colors",title:"Maximize",children:a.jsx(on,{className:"w-4 h-4"})}),a.jsx("button",{onClick:fp,className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 hover:bg-gray-200 dark:hover:bg-gray-700 p-1 rounded transition-colors",title:"Close",children:a.jsx(be,{className:"w-4 h-4"})})]})]}),a.jsxs("main",{className:"flex flex-1 min-h-0",children:[a.jsxs("aside",{className:"w-80 border-r border-border bg-muted/30 p-4 overflow-y-auto",children:[a.jsxs("section",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Tileset"}),a.jsxs(_,{variant:"outline",size:"sm",className:"relative bg-orange-500 hover:bg-orange-600 text-white border-orange-500 hover:border-orange-600 h-6 text-xs px-2 shadow-sm",children:[a.jsx(gl,{className:"w-3 h-3 mr-1"}),"Import Tileset",a.jsx("input",{type:"file",accept:"image/png",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:k=>qf(k,"layerTileset")})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:a.jsx("div",{children:a.jsx("span",{className:"font-medium",children:v?`${((Ua=m.find(k=>k.id===v))==null?void 0:Ua.type)||"none"} tileset`:"none tileset"})})}),a.jsx("div",{id:"tilesetMeta",className:"text-sm text-muted-foreground mb-2"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{id:"tilesContainer",className:"tile-palette"}),a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Brush Tools"}),a.jsxs("div",{className:"flex gap-1 flex-wrap",children:[a.jsx(_,{variant:Q==="move"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ot(Q==="move"?"none":"move"),title:"Move/Reorder brushes",children:a.jsx(uu,{className:"w-3 h-3"})}),a.jsx(_,{variant:Q==="merge"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ot(Q==="merge"?"none":"merge"),title:"Merge brushes",children:a.jsx(pu,{className:"w-3 h-3"})}),a.jsx(_,{variant:Q==="separate"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ot(Q==="separate"?"none":"separate"),title:"Separate brushes",children:a.jsx(wv,{className:"w-3 h-3"})}),a.jsx(_,{variant:Q==="remove"?"default":"outline",size:"sm",className:"text-xs px-1 py-1 h-6 shadow-sm",onClick:()=>ot(Q==="remove"?"none":"remove"),title:"Remove brushes",children:a.jsx(ku,{className:"w-3 h-3"})}),a.jsx(_,{variant:"outline",size:"sm",className:"text-xs px-1 py-1 h-6 border-red-500 hover:border-red-600 hover:bg-red-50 shadow-sm",onClick:()=>{or({type:"removeTileset"})},title:"Remove tileset for current layer",children:a.jsx(be,{className:"w-3 h-3 text-red-500"})})]}),Q==="merge"&&a.jsxs("div",{className:"mt-2 flex gap-2 items-center",children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected: ",Ae.length]}),a.jsx(_,{variant:"default",size:"sm",className:"text-xs px-2 py-1 h-6",onClick:Qf,disabled:Ae.length<2,title:"Approve merge",children:a.jsx(Dy,{className:"w-3 h-3"})}),a.jsx(_,{variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-6",onClick:Kf,title:"Cancel merge",children:a.jsx(be,{className:"w-3 h-3"})})]}),Q!=="none"&&a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground bg-gray-50 p-2 rounded",children:[Q==="move"&&"Drag brushes to reorder them",Q==="merge"&&"Click brushes to select them, then approve to merge",Q==="separate"&&"Click on merged brushes to separate them",Q==="remove"&&"Click on brushes to remove them (with confirmation)"]})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Active GID: ",a.jsx("span",{id:"activeGid",children:u})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-sm font-semibold mb-2",children:"Layers"}),a.jsx("div",{className:"mb-2 space-y-0.5",children:m.map(k=>a.jsx("div",{className:`px-2 py-1 border rounded transition-colors text-xs ${v===k.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 dark:border-orange-400":"border-border hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:a.jsx("div",{className:"cursor-pointer",onClick:()=>Jf(k.id),children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),ep(k.id)},className:"w-4 h-4 p-0 hover:bg-gray-200 dark:hover:bg-gray-700",title:k.visible?"Hide layer":"Show layer",children:k.visible?a.jsx(hu,{className:"w-2.5 h-2.5"}):a.jsx(By,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"})}),a.jsx(_,{variant:"ghost",size:"sm",className:"w-4 h-4 p-0 hover:bg-gray-200 dark:hover:bg-gray-700",onMouseEnter:L=>{const z=Math.round((k.transparency||0)*100);Ye(a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Es,{className:"w-3 h-3"}),"Transparency (",z,"%)"]}),L.currentTarget)},onMouseLeave:qe,onWheel:L=>{L.preventDefault();const z=L.deltaY>0?.1:-.1,R=k.transparency||0,U=Math.max(0,Math.min(1,R+z));tp(k.id,z);const K=Math.round(U*100);Ye(a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Es,{className:"w-3 h-3"}),"Transparency (",K,"%)"]}),L.currentTarget)},children:a.jsx(du,{className:"w-2.5 h-2.5"})}),a.jsx("span",{className:"text-xs font-medium truncate",children:k.name})]})})})},k.id))})]})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 w-96",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Map Settings"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"w-8 h-8 p-0",children:a.jsx(be,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Map Name"}),a.jsx(Ut,{type:"text",value:If,onChange:k=>Ca(k.target.value),placeholder:"Enter map name",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Map Width"}),a.jsx(Ut,{type:"number",value:i,onChange:k=>l(Number(k.target.value)),min:"1",max:"100",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Map Height"}),a.jsx(Ut,{type:"number",value:o,onChange:k=>c(Number(k.target.value)),min:"1",max:"100",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Theme (Experimental)"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Light Mode"}),a.jsxs("button",{onClick:()=>_f(!De),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${De?"bg-orange-600":"bg-gray-200"}`,children:[a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${De?"translate-x-6":"translate-x-1"}`}),a.jsx("span",{className:"sr-only",children:"Toggle dark mode"})]}),a.jsxs("span",{className:"text-sm flex items-center gap-1",children:[De?a.jsx(nv,{className:"w-4 h-4"}):a.jsx(Mv,{className:"w-4 h-4"}),"Dark Mode"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Debug Mode"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Disabled"}),a.jsxs("button",{onClick:()=>{n&&n.toggleDebugMode()},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n!=null&&n.getDebugMode()?"bg-orange-600":"bg-gray-200"}`,children:[a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n!=null&&n.getDebugMode()?"translate-x-6":"translate-x-1"}`}),a.jsx("span",{className:"sr-only",children:"Toggle debug mode"})]}),a.jsxs("span",{className:"text-sm flex items-center gap-1",children:[a.jsx(Sr,{className:"w-4 h-4"}),"Debug Tiles"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shows tile boundaries and coordinates for debugging"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Auto-Save"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Disabled"}),a.jsxs("button",{onClick:()=>{const k=!ar;Df(k),n&&n.setAutoSaveEnabled(k)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${ar?"bg-orange-600":"bg-gray-200"}`,children:[a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ar?"translate-x-6":"translate-x-1"}`}),a.jsx("span",{className:"sr-only",children:"Toggle auto-save"})]}),a.jsx("span",{className:"text-sm",children:"Enabled"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Automatically saves your work every 8 seconds"})]})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx(_,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancel"}),a.jsx(_,{onClick:()=>{np(),g(!1)},className:"flex-1",children:"Apply Changes"})]})]})}),zf&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 w-80",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Clear Layer"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>ls(!1),className:"w-8 h-8 p-0",children:a.jsx(be,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"text-sm text-foreground mb-4",children:"Are you sure you want to clear all tiles from the current layer? This action cannot be undone."}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(_,{variant:"outline",onClick:()=>ls(!1),children:"Cancel"}),a.jsx(_,{onClick:()=>{n&&n.clearLayer(),A("brush"),ls(!1)},children:"Clear"})]})]})}),Cn&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 w-80",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Confirm"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>or(null),className:"w-8 h-8 p-0",children:a.jsx(be,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-sm text-foreground mb-4",children:[Cn.type==="removeBrush"&&"Are you sure you want to remove this brush?",Cn.type==="removeTileset"&&"Are you sure you want to remove the tileset for this layer? This will clear the tileset but keep any placed tiles."]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(_,{variant:"outline",onClick:()=>or(null),children:"Cancel"}),a.jsx(_,{onClick:()=>{try{if(Cn.type==="removeBrush"){const k=Cn.payload;n&&n.removeBrush(k)}else Cn.type==="removeTileset"&&n&&n.removeLayerTileset()}catch(k){console.error("Confirm action failed:",k)}finally{or(null)}},children:"Confirm"})]})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-background border border-border rounded-lg p-6 w-[800px] max-h-[80vh] overflow-y-auto help-modal",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Help & Documentation"}),a.jsx(_,{variant:"ghost",size:"sm",onClick:()=>T(!1),className:"w-8 h-8 p-0",children:a.jsx(be,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Sr,{className:"w-5 h-5 text-blue-600"}),"Getting Started"]}),a.jsxs("div",{className:"space-y-2 text-foreground",children:[a.jsx("p",{children:"Welcome to the Isometric Tile Map Editor! This tool allows you to create beautiful isometric tile-based maps."}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[a.jsx("li",{children:"Start by creating a new map or loading an existing one"}),a.jsx("li",{children:"Import tilesets to begin designing"}),a.jsx("li",{children:"Use layers to organize different elements of your map"}),a.jsx("li",{children:"Export your finished map for use in your projects"})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(gu,{className:"w-5 h-5 text-green-600"}),"Map Management"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(wu,{className:"w-4 h-4 mt-1 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Save/Export"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Save your map as JSON or export as PNG image"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(gl,{className:"w-4 h-4 mt-1 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Load Map"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Load previously saved JSON map files"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Su,{className:"w-4 h-4 mt-1 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Map Settings"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Configure map dimensions, tile size, and other properties"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(uu,{className:"w-5 h-5 text-purple-600"}),"Layer System"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-foreground",children:"Layers help organize your map content. Each layer can have its own tileset and transparency."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(hu,{className:"w-4 h-4 mt-1 text-green-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Visibility Toggle"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show/hide layers to focus on specific elements"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(du,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Transparency"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Hover and use mouse wheel to adjust layer opacity"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(pu,{className:"w-4 h-4 mt-1 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Lock/Unlock"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Prevent accidental edits to completed layers"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ku,{className:"w-4 h-4 mt-1 text-red-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Clear Layer"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remove all tiles from the selected layer"})]})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Ms,{className:"w-5 h-5 text-red-600"}),"Drawing Tools"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ms,{className:"w-4 h-4 mt-1 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Brush Tool"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Paint individual tiles by clicking"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ml,{className:"w-4 h-4 mt-1 text-green-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Bucket Fill"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Fill connected areas with the same tile"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(fl,{className:"w-4 h-4 mt-1 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Eraser"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remove tiles from the map"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(vu,{className:"w-4 h-4 mt-1 text-purple-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Eyedropper"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Select a tile from the map to use as brush"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(on,{className:"w-5 h-5 text-indigo-600"}),"Tileset Management"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-foreground",children:"Each layer can have its own tileset. Import PNG images to use as tilesets."}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(gl,{className:"w-4 h-4 mt-1 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Import Tileset"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click the upload button for each layer to import a tileset image"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(be,{className:"w-4 h-4 mt-1 text-red-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Remove Tileset"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Use the red X button to remove a tileset from a layer"})]})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(pl,{className:"w-5 h-5 text-cyan-600"}),"Navigation & Viewport"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Nu,{className:"w-4 h-4 mt-1 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Zoom Controls"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Use +/- buttons or mouse wheel to zoom in/out"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(pl,{className:"w-4 h-4 mt-1 text-green-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Pan View"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Hold and drag the middle mouse button to pan"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(xu,{className:"w-4 h-4 mt-1 text-purple-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Reset View"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Reset zoom and center the view"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(mu,{className:"w-4 h-4 mt-1 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:"Coordinates"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Hover over the map to see tile coordinates"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Sr,{className:"w-5 h-5 text-yellow-600"}),"Keyboard Shortcuts"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 bg-gray-50 dark:bg-neutral-900 p-4 rounded-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Ctrl+Z"}),a.jsx("span",{className:"text-sm",children:"Undo"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Ctrl+Y"}),a.jsx("span",{className:"text-sm",children:"Redo"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Ctrl+S"}),a.jsx("span",{className:"text-sm",children:"Save Map"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Mouse Wheel"}),a.jsx("span",{className:"text-sm",children:"Zoom"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Middle Click + Drag"}),a.jsx("span",{className:"text-sm",children:"Pan"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-mono text-sm bg-gray-200 dark:bg-neutral-800 px-2 py-1 rounded",children:"Hover + Wheel"}),a.jsx("span",{className:"text-sm",children:"Layer Transparency"})]})]})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[a.jsx(yl,{className:"w-5 h-5 text-pink-600"}),"Tips & Best Practices"]}),a.jsx("div",{className:"space-y-2 text-foreground",children:a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[a.jsx("li",{children:"Use separate layers for different map elements (background, objects, decorations)"}),a.jsx("li",{children:"Name your layers descriptively for better organization"}),a.jsx("li",{children:"Lock completed layers to prevent accidental changes"}),a.jsx("li",{children:"Adjust layer transparency to see underlying elements while editing"}),a.jsx("li",{children:"Use the eyedropper tool to quickly select tiles from existing map areas"}),a.jsx("li",{children:"Save frequently to avoid losing work"}),a.jsx("li",{children:"Test your map export to ensure it looks correct in your target application"})]})})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Isometric Tile Map Editor - Create beautiful tile-based maps with ease"})})]})]})}),a.jsxs("section",{className:"flex-1 min-w-0 flex flex-col relative",children:[a.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:lp,title:"Undo (Ctrl+Z)",children:a.jsx(zv,{className:"w-4 h-4"})}),a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:op,title:"Redo (Ctrl+Y)",children:a.jsx(gv,{className:"w-4 h-4"})}),a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:rp,title:"Zoom In",children:a.jsx(Nu,{className:"w-4 h-4"})}),a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:sp,title:"Zoom Out",children:a.jsx(Ov,{className:"w-4 h-4"})}),a.jsx(_,{size:"sm",variant:"outline",className:"w-8 h-8 p-0",onClick:ip,title:"Reset Zoom & Pan",children:a.jsx(xu,{className:"w-4 h-4"})}),a.jsx(_,{size:"sm",variant:d?"default":"outline",className:"w-8 h-8 p-0",onClick:cp,title:"Toggle Minimap",children:a.jsx(gu,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"bg-gray-100 flex-1 min-h-0 flex items-center justify-center overflow-hidden relative",children:[C&&a.jsxs("div",{className:"absolute top-4 left-4 z-20 p-3 bg-white/90 dark:bg-neutral-900/90 backdrop-blur-sm rounded-lg border border-border shadow-lg",children:[a.jsx(_,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0",onClick:()=>j(!1),children:a.jsx(be,{className:"w-3 h-3"})}),a.jsxs("div",{className:"space-y-2 pr-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsx(sv,{className:"w-4 h-4"}),a.jsx("span",{children:"Left Click to Paint"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsx(Es,{className:"w-4 h-4"}),a.jsx("span",{children:"Right Click to Delete"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsx(pl,{className:"w-4 h-4"}),a.jsx("span",{children:"Spacebar + Mouse to Pan"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Es,{className:"w-4 h-4"}),a.jsx(wr,{className:"w-2 h-2 absolute top-1 left-1.5 opacity-60"})]}),a.jsx("span",{children:"Mouse Wheel to Zoom In-Out"})]})]})]}),a.jsx("canvas",{ref:s,id:"mapCanvas",className:"tile-canvas w-full h-full max-w-full max-h-full"}),Di&&a.jsxs("div",{className:"absolute bottom-4 left-4 z-10 p-2 bg-white/90 dark:bg-neutral-900/90 backdrop-blur-sm rounded-md border border-gray-200 dark:border-neutral-600 text-gray-800 dark:text-white text-xs font-mono flex items-center gap-2 shadow-sm",children:[a.jsx(mu,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),a.jsxs("span",{children:[Di.x,", ",Di.y]})]}),Uf&&a.jsxs("div",{className:"absolute bottom-4 left-32 z-10 p-2 bg-orange-600/90 backdrop-blur-sm rounded-md border border-orange-500 text-white text-xs flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 font-mono",children:[a.jsx(on,{className:"w-4 h-4 text-orange-200"}),a.jsxs("span",{children:[$f," tiles selected"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs text-white hover:bg-orange-500/50",onClick:pp,title:"Fill selection with active tile",children:"Fill"}),a.jsx(_,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs text-white hover:bg-orange-500/50",onClick:gp,title:"Delete selected tiles (DEL)",children:"Delete"}),a.jsx(_,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs text-white hover:bg-orange-500/50",onClick:mp,title:"Clear selection (ESC)",children:"Clear"})]})]}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-30",children:a.jsxs("div",{className:"flex items-center gap-1 bg-white/90 dark:bg-neutral-900/90 border border-border rounded-full px-2 py-1 shadow-md",children:[a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="brush"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>G("brush"),onMouseEnter:k=>{za(),Ye("Brush Tool",k.currentTarget)},onMouseLeave:()=>{Ia(),qe()},children:Xf()}),W&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-1 bg-white dark:bg-neutral-900 border border-border rounded shadow-lg p-1 flex gap-1 min-w-max z-50",onMouseEnter:za,onMouseLeave:Ia,children:[a.jsx(_,{variant:b==="brush"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>A("brush"),onMouseEnter:k=>Ye("Brush Tool",k.currentTarget),onMouseLeave:qe,children:a.jsx(Ms,{className:"w-3 h-3"})}),a.jsx(_,{variant:b==="bucket"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>A("bucket"),onMouseEnter:k=>Ye("Bucket Fill",k.currentTarget),onMouseLeave:qe,children:a.jsx(ml,{className:"w-3 h-3"})}),a.jsx(_,{variant:b==="eraser"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>A("eraser"),onMouseEnter:k=>Ye("Eraser",k.currentTarget),onMouseLeave:qe,children:a.jsx(fl,{className:"w-3 h-3"})}),a.jsx(_,{variant:b==="clear"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button border-red-500 hover:border-red-600 hover:bg-red-50",onClick:()=>ls(!0),onMouseEnter:k=>Ye("Clear Layer",k.currentTarget),onMouseLeave:qe,children:a.jsx(be,{className:"w-3 h-3 text-red-500"})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="selection"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>G("selection"),onMouseEnter:k=>{_a(),Ye("Selection Tool",k.currentTarget)},onMouseLeave:()=>{Aa(),qe()},children:Vf()}),O&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-1 bg-white dark:bg-neutral-900 border border-border rounded shadow-lg p-1 flex gap-1 min-w-max z-50",onMouseEnter:_a,onMouseLeave:Aa,children:[a.jsx(_,{variant:D==="rectangular"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>Y("rectangular"),onMouseEnter:k=>Ye("Rectangular Selection",k.currentTarget),onMouseLeave:qe,children:a.jsx(on,{className:"w-3 h-3"})}),a.jsx(_,{variant:D==="magic-wand"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>Y("magic-wand"),onMouseEnter:k=>Ye("Magic Wand",k.currentTarget),onMouseLeave:qe,children:a.jsx(yl,{className:"w-3 h-3"})}),a.jsx(_,{variant:D==="same-tile"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>Y("same-tile"),onMouseEnter:k=>Ye("Select Same Tile",k.currentTarget),onMouseLeave:qe,children:a.jsx(Sr,{className:"w-3 h-3"})}),a.jsx(_,{variant:D==="circular"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>Y("circular"),onMouseEnter:k=>Ye("Circular Select",k.currentTarget),onMouseLeave:qe,children:a.jsx(wr,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="shape"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>G("shape"),onMouseEnter:()=>Da(),onMouseLeave:()=>Ra(),title:"Shape Tool",children:Gf()}),he&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-1 bg-white dark:bg-neutral-900 border border-border rounded shadow-lg p-1 flex gap-1 min-w-max z-50",onMouseEnter:Da,onMouseLeave:Ra,children:[a.jsx(_,{variant:X==="rectangle"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>q("rectangle"),title:"Rectangle Shape",children:a.jsx(on,{className:"w-3 h-3"})}),a.jsx(_,{variant:X==="circle"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>q("circle"),title:"Circle Shape",children:a.jsx(wr,{className:"w-3 h-3"})}),a.jsx(_,{variant:X==="line"?"default":"ghost",size:"sm",className:"w-6 h-6 p-1 rounded-full sub-tool-button",onClick:()=>q("line"),title:"Line Shape",children:a.jsx(yu,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(_,{variant:P==="stamp"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>G("stamp"),title:"Stamp Tool - Group tiles into a stamp and place them together",children:a.jsx(jv,{className:"w-3 h-3"})}),P==="stamp"&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg p-2 min-w-[200px] z-10",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx(_,{variant:Tn==="select"?"default":"ghost",size:"sm",className:"flex-1 text-xs",onClick:()=>ir("select"),title:"Select and place existing stamps",children:"Select"}),a.jsx(_,{variant:Tn==="create"?"default":"ghost",size:"sm",className:"flex-1 text-xs",onClick:()=>ir("create"),title:"Create stamp from selection",children:"Create"})]}),Tn==="create"&&a.jsxs("div",{className:"border-t pt-2",children:[a.jsx("div",{className:"text-xs font-medium mb-1",children:"Create New Stamp"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("input",{type:"text",placeholder:"Stamp name",value:lr,onChange:k=>Ta(k.target.value),className:"flex-1 text-xs px-2 py-1 border rounded",onKeyDown:k=>{k.key==="Enter"&&Oa()}}),a.jsx(_,{size:"sm",className:"text-xs",onClick:Oa,disabled:!lr.trim(),children:"Create"})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"First select tiles, then create stamp"})]}),Tn==="select"&&a.jsxs("div",{className:"border-t pt-2 max-h-32 overflow-y-auto",children:[a.jsx("div",{className:"text-xs font-medium mb-1",children:"Available Stamps"}),ka.length===0?a.jsx("div",{className:"text-xs text-gray-500",children:"No stamps created yet"}):a.jsx("div",{className:"flex flex-col gap-1",children:ka.map(k=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_,{variant:sr===k.id?"default":"ghost",size:"sm",className:"flex-1 text-xs justify-start",onClick:()=>Bf(k.id),title:`${k.name} (${k.width}x${k.height})`,children:k.name}),a.jsx(_,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-red-500",onClick:()=>Yf(k.id),title:"Delete stamp",children:a.jsx(be,{className:"w-3 h-3"})})]},k.id))})]})]})})]}),a.jsx(_,{variant:P==="eyedropper"?"default":"ghost",size:"sm",className:"w-7 h-7 p-1 rounded-full tool-button",onClick:()=>G("eyedropper"),title:"Eyedropper Tool - Pick a tile from the map to reuse",children:a.jsx(vu,{className:"w-3 h-3"})})]})})]})]})]}),a.jsx("div",{className:"fixed bottom-4 left-0 w-80 z-40",children:a.jsxs("div",{className:"flex gap-2 justify-center px-4",children:[a.jsxs(_,{onClick:ap,title:"Export Flare map.txt and tileset definition",className:"shadow-sm flex items-center gap-1 px-3 py-1 h-7 text-xs",size:"sm",children:[a.jsx(Wy,{className:"w-3 h-3"}),a.jsx("span",{children:"Export Map"})]}),a.jsx(_,{onClick:Ri,title:Ma?"Save changes":"All changes saved",className:`w-7 h-7 p-0 shadow-sm transition-colors ${Ai?"bg-blue-500 hover:bg-blue-600":Ma?"bg-orange-500 hover:bg-orange-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,disabled:Ai,size:"sm",children:Ai?a.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(wu,{className:"w-3 h-3"})}),a.jsx(_,{onClick:()=>T(!0),title:"Help & Documentation",className:"w-7 h-7 p-0 shadow-sm",variant:"outline",size:"sm",children:a.jsx(Oy,{className:"w-3 h-3"})}),a.jsx(_,{onClick:()=>g(!0),title:"Map Settings",className:"w-7 h-7 p-0 shadow-sm",variant:"outline",size:"sm",children:a.jsx(Su,{className:"w-3 h-3"})})]})}),a.jsx(I0,{}),jn&&a.jsx("div",{className:`custom-tooltip ${jn.visible?"visible":""} ${jn.fadeOut?"fade-out":""}`,style:{left:jn.x,top:jn.y},children:jn.content})]})})}kl.createRoot(document.getElementById("root")).render(a.jsx(Nt.StrictMode,{children:a.jsx(D0,{})}));
